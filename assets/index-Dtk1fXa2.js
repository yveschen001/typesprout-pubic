const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DAo6dKAQ.js","assets/index-BPmxfEGk.js","assets/api-G5qA_UV0.js","assets/debug-CNNn05X7.js","assets/Test-C4fl3wVq.js","assets/ChartSection-DkycSL4D.js","assets/useQuestionBank-DJH-uY8J.js","assets/env-DauFzF5H.js","assets/Result-PRfR8jEa.js","assets/Profile-RQvaXA5a.js","assets/Garden-ddeHxZgU.js","assets/Admin-OrgaZ-c7.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Z4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ud(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jf={exports:{}},kl={},zf={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function GS(){if(k0)return We;k0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function F(L,X,pe){this.props=L,this.context=X,this.refs=z,this.updater=pe||I}F.prototype.isReactComponent={},F.prototype.setState=function(L,X){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,X,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function H(){}H.prototype=F.prototype;function Z(L,X,pe){this.props=L,this.context=X,this.refs=z,this.updater=pe||I}var J=Z.prototype=new H;J.constructor=Z,x(J,F.prototype),J.isPureReactComponent=!0;var se=Array.isArray,de=Object.prototype.hasOwnProperty,U={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(L,X,pe){var Oe,$e={},Ge=null,it=null;if(X!=null)for(Oe in X.ref!==void 0&&(it=X.ref),X.key!==void 0&&(Ge=""+X.key),X)de.call(X,Oe)&&!P.hasOwnProperty(Oe)&&($e[Oe]=X[Oe]);var st=arguments.length-2;if(st===1)$e.children=pe;else if(1<st){for(var ft=Array(st),Xe=0;Xe<st;Xe++)ft[Xe]=arguments[Xe+2];$e.children=ft}if(L&&L.defaultProps)for(Oe in st=L.defaultProps,st)$e[Oe]===void 0&&($e[Oe]=st[Oe]);return{$$typeof:n,type:L,key:Ge,ref:it,props:$e,_owner:U.current}}function A(L,X){return{$$typeof:n,type:L.type,key:X,ref:L.ref,props:L.props,_owner:L._owner}}function b(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function M(L){var X={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return X[pe]})}var j=/\/+/g;function C(L,X){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):X.toString(36)}function Te(L,X,pe,Oe,$e){var Ge=typeof L;(Ge==="undefined"||Ge==="boolean")&&(L=null);var it=!1;if(L===null)it=!0;else switch(Ge){case"string":case"number":it=!0;break;case"object":switch(L.$$typeof){case n:case e:it=!0}}if(it)return it=L,$e=$e(it),L=Oe===""?"."+C(it,0):Oe,se($e)?(pe="",L!=null&&(pe=L.replace(j,"$&/")+"/"),Te($e,X,pe,"",function(Xe){return Xe})):$e!=null&&(b($e)&&($e=A($e,pe+(!$e.key||it&&it.key===$e.key?"":(""+$e.key).replace(j,"$&/")+"/")+L)),X.push($e)),1;if(it=0,Oe=Oe===""?".":Oe+":",se(L))for(var st=0;st<L.length;st++){Ge=L[st];var ft=Oe+C(Ge,st);it+=Te(Ge,X,pe,ft,$e)}else if(ft=E(L),typeof ft=="function")for(L=ft.call(L),st=0;!(Ge=L.next()).done;)Ge=Ge.value,ft=Oe+C(Ge,st++),it+=Te(Ge,X,pe,ft,$e);else if(Ge==="object")throw X=String(L),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return it}function Ke(L,X,pe){if(L==null)return L;var Oe=[],$e=0;return Te(L,Oe,"","",function(Ge){return X.call(pe,Ge,$e++)}),Oe}function ye(L){if(L._status===-1){var X=L._result;X=X(),X.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=X)}if(L._status===1)return L._result.default;throw L._result}var Ae={current:null},re={transition:null},me={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:re,ReactCurrentOwner:U};function le(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:Ke,forEach:function(L,X,pe){Ke(L,function(){X.apply(this,arguments)},pe)},count:function(L){var X=0;return Ke(L,function(){X++}),X},toArray:function(L){return Ke(L,function(X){return X})||[]},only:function(L){if(!b(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},We.Component=F,We.Fragment=t,We.Profiler=s,We.PureComponent=Z,We.StrictMode=r,We.Suspense=f,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,We.act=le,We.cloneElement=function(L,X,pe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Oe=x({},L.props),$e=L.key,Ge=L.ref,it=L._owner;if(X!=null){if(X.ref!==void 0&&(Ge=X.ref,it=U.current),X.key!==void 0&&($e=""+X.key),L.type&&L.type.defaultProps)var st=L.type.defaultProps;for(ft in X)de.call(X,ft)&&!P.hasOwnProperty(ft)&&(Oe[ft]=X[ft]===void 0&&st!==void 0?st[ft]:X[ft])}var ft=arguments.length-2;if(ft===1)Oe.children=pe;else if(1<ft){st=Array(ft);for(var Xe=0;Xe<ft;Xe++)st[Xe]=arguments[Xe+2];Oe.children=st}return{$$typeof:n,type:L.type,key:$e,ref:Ge,props:Oe,_owner:it}},We.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},We.createElement=R,We.createFactory=function(L){var X=R.bind(null,L);return X.type=L,X},We.createRef=function(){return{current:null}},We.forwardRef=function(L){return{$$typeof:d,render:L}},We.isValidElement=b,We.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ye}},We.memo=function(L,X){return{$$typeof:p,type:L,compare:X===void 0?null:X}},We.startTransition=function(L){var X=re.transition;re.transition={};try{L()}finally{re.transition=X}},We.unstable_act=le,We.useCallback=function(L,X){return Ae.current.useCallback(L,X)},We.useContext=function(L){return Ae.current.useContext(L)},We.useDebugValue=function(){},We.useDeferredValue=function(L){return Ae.current.useDeferredValue(L)},We.useEffect=function(L,X){return Ae.current.useEffect(L,X)},We.useId=function(){return Ae.current.useId()},We.useImperativeHandle=function(L,X,pe){return Ae.current.useImperativeHandle(L,X,pe)},We.useInsertionEffect=function(L,X){return Ae.current.useInsertionEffect(L,X)},We.useLayoutEffect=function(L,X){return Ae.current.useLayoutEffect(L,X)},We.useMemo=function(L,X){return Ae.current.useMemo(L,X)},We.useReducer=function(L,X,pe){return Ae.current.useReducer(L,X,pe)},We.useRef=function(L){return Ae.current.useRef(L)},We.useState=function(L){return Ae.current.useState(L)},We.useSyncExternalStore=function(L,X,pe){return Ae.current.useSyncExternalStore(L,X,pe)},We.useTransition=function(){return Ae.current.useTransition()},We.version="18.3.1",We}var x0;function rm(){return x0||(x0=1,zf.exports=GS()),zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function HS(){if(P0)return kl;P0=1;var n=rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var v,w={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:E,ref:I,props:w,_owner:s.current}}return kl.Fragment=t,kl.jsx=u,kl.jsxs=u,kl}var b0;function WS(){return b0||(b0=1,jf.exports=HS()),jf.exports}var Q=WS(),O=rm();const As=Ud(O);var jc={},$f={exports:{}},Mn={},Bf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function qS(){return D0||(D0=1,(function(n){function e(re,me){var le=re.length;re.push(me);e:for(;0<le;){var L=le-1>>>1,X=re[L];if(0<s(X,me))re[L]=me,re[le]=X,le=L;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],le=re.pop();if(le!==me){re[0]=le;e:for(var L=0,X=re.length,pe=X>>>1;L<pe;){var Oe=2*(L+1)-1,$e=re[Oe],Ge=Oe+1,it=re[Ge];if(0>s($e,le))Ge<X&&0>s(it,$e)?(re[L]=it,re[Ge]=le,L=Ge):(re[L]=$e,re[Oe]=le,L=Oe);else if(Ge<X&&0>s(it,le))re[L]=it,re[Ge]=le,L=Ge;else break e}}return me}function s(re,me){var le=re.sortIndex-me.sortIndex;return le!==0?le:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],v=1,w=null,E=3,I=!1,x=!1,z=!1,F=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(re){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=re)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function se(re){if(z=!1,J(re),!x)if(t(f)!==null)x=!0,ye(de);else{var me=t(p);me!==null&&Ae(se,me.startTime-re)}}function de(re,me){x=!1,z&&(z=!1,H(R),R=-1),I=!0;var le=E;try{for(J(me),w=t(f);w!==null&&(!(w.expirationTime>me)||re&&!M());){var L=w.callback;if(typeof L=="function"){w.callback=null,E=w.priorityLevel;var X=L(w.expirationTime<=me);me=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&r(f),J(me)}else r(f);w=t(f)}if(w!==null)var pe=!0;else{var Oe=t(p);Oe!==null&&Ae(se,Oe.startTime-me),pe=!1}return pe}finally{w=null,E=le,I=!1}}var U=!1,P=null,R=-1,A=5,b=-1;function M(){return!(n.unstable_now()-b<A)}function j(){if(P!==null){var re=n.unstable_now();b=re;var me=!0;try{me=P(!0,re)}finally{me?C():(U=!1,P=null)}}else U=!1}var C;if(typeof Z=="function")C=function(){Z(j)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Ke=Te.port2;Te.port1.onmessage=j,C=function(){Ke.postMessage(null)}}else C=function(){F(j,0)};function ye(re){P=re,U||(U=!0,C())}function Ae(re,me){R=F(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){x||I||(x=!0,ye(de))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var le=E;E=me;try{return re()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=E;E=re;try{return me()}finally{E=le}},n.unstable_scheduleCallback=function(re,me,le){var L=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?L+le:L):le=L,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,re={id:v++,callback:me,priorityLevel:re,startTime:le,expirationTime:X,sortIndex:-1},le>L?(re.sortIndex=le,e(p,re),t(f)===null&&re===t(p)&&(z?(H(R),R=-1):z=!0,Ae(se,le-L))):(re.sortIndex=X,e(f,re),x||I||(x=!0,ye(de))),re},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(re){var me=E;return function(){var le=E;E=me;try{return re.apply(this,arguments)}finally{E=le}}}})(Gf)),Gf}var N0;function KS(){return N0||(N0=1,Bf.exports=qS()),Bf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function QS(){if(L0)return Mn;L0=1;var n=rm(),e=KS();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return f.call(w,i)?!0:f.call(v,i)?!1:p.test(i)?w[i]=!0:(v[i]=!0,!1)}function I(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,o,l,h){if(o===null||typeof o>"u"||I(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function z(i,o,l,h,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){F[i]=new z(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];F[o]=new z(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){F[i]=new z(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){F[i]=new z(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){F[i]=new z(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){F[i]=new z(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){F[i]=new z(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){F[i]=new z(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){F[i]=new z(i,5,!1,i.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function Z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(H,Z);F[o]=new z(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(H,Z);F[o]=new z(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(H,Z);F[o]=new z(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){F[i]=new z(i,1,!1,i.toLowerCase(),null,!1,!1)}),F.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){F[i]=new z(i,1,!1,i.toLowerCase(),null,!0,!0)});function J(i,o,l,h){var m=F.hasOwnProperty(o)?F[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),U=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,L;function X(i){if(L===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||""}return`
`+L+i}var pe=!1;function Oe(i,o){if(!i||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var h=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){h=K}i.call(o.prototype)}else{try{throw Error()}catch(K){h=K}i()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=h.stack.split(`
`),T=m.length-1,k=y.length-1;1<=T&&0<=k&&m[T]!==y[k];)k--;for(;1<=T&&0<=k;T--,k--)if(m[T]!==y[k]){if(T!==1||k!==1)do if(T--,k--,0>k||m[T]!==y[k]){var N=`
`+m[T].replace(" at new "," at ");return i.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",i.displayName)),N}while(1<=T&&0<=k);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function $e(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Oe(i.type,!1),i;case 11:return i=Oe(i.type.render,!1),i;case 1:return i=Oe(i.type,!0),i;default:return""}}function Ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case U:return"Portal";case A:return"Profiler";case R:return"StrictMode";case C:return"Suspense";case Te:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case b:return(i._context.displayName||"Context")+".Provider";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ke:return o=i.displayName||null,o!==null?o:Ge(i.type)||"Memo";case ye:o=i._payload,i=i._init;try{return Ge(i(o))}catch{}}return null}function it(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ge(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function st(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ft(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Xe(i){var o=ft(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ln(i){i._valueTracker||(i._valueTracker=Xe(i))}function mi(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=ft(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function jr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function vn(i,o){var l=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Hi(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=st(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ks(i,o){o=o.checked,o!=null&&J(i,"checked",o,!1)}function Wi(i,o){Ks(i,o);var l=st(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?qi(i,o.type,l):o.hasOwnProperty("defaultValue")&&qi(i,o.type,st(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function No(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function qi(i,o,l){(o!=="number"||jr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var yr=Array.isArray;function vr(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+st(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Fn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Xn(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(yr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:st(l)}}function gi(i,o){var l=st(o.value),h=st(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function yi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?pt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Zn,vi=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Zn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function zr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(un).forEach(function(i){$r.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),un[o]=un[i]})});function Ki(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||un.hasOwnProperty(i)&&un[i]?(""+o).trim():o+"px"}function Qi(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Ki(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var Qs=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yi(i,o){if(o){if(Qs[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Br(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gr=null;function Hr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ji=null,_n=null,er=null;function _i(i){if(i=fl(i)){if(typeof Ji!="function")throw Error(t(280));var o=i.stateNode;o&&(o=tc(o),Ji(i.stateNode,i.type,o))}}function wn(i){_n?er?er.push(i):er=[i]:_n=i}function Wr(){if(_n){var i=_n,o=er;if(er=_n=null,_i(i),o)for(i=0;i<o.length;i++)_i(o[i])}}function wi(i,o){return i(o)}function Ys(){}var D=!1;function $(i,o,l){if(D)return i(o,l);D=!0;try{return wi(i,o,l)}finally{D=!1,(_n!==null||er!==null)&&(Ys(),Wr())}}function W(i,o){var l=i.stateNode;if(l===null)return null;var h=tc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var oe=!1;if(d)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){oe=!0}}),window.addEventListener("test",ue,ue),window.removeEventListener("test",ue,ue)}catch{oe=!1}function Se(i,o,l,h,m,y,T,k,N){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(ie){this.onError(ie)}}var Ce=!1,_e=null,we=!1,De=null,Pe={onError:function(i){Ce=!0,_e=i}};function ke(i,o,l,h,m,y,T,k,N){Ce=!1,_e=null,Se.apply(Pe,arguments)}function He(i,o,l,h,m,y,T,k,N){if(ke.apply(this,arguments),Ce){if(Ce){var K=_e;Ce=!1,_e=null}else throw Error(t(198));we||(we=!0,De=K)}}function et(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function It(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function vt(i){if(et(i)!==i)throw Error(t(188))}function mt(i){var o=i.alternate;if(!o){if(o=et(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return vt(m),i;if(y===h)return vt(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var T=!1,k=m.child;k;){if(k===l){T=!0,l=m,h=y;break}if(k===h){T=!0,h=m,l=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===l){T=!0,l=y,h=m;break}if(k===h){T=!0,h=y,l=m;break}k=k.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function ct(i){return i=mt(i),i!==null?Rn(i):null}function Rn(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Rn(i);if(o!==null)return o;i=i.sibling}return null}var tr=e.unstable_scheduleCallback,An=e.unstable_cancelCallback,En=e.unstable_shouldYield,Js=e.unstable_requestPaint,lt=e.unstable_now,nr=e.unstable_getCurrentPriorityLevel,rr=e.unstable_ImmediatePriority,Un=e.unstable_UserBlockingPriority,Be=e.unstable_NormalPriority,bt=e.unstable_LowPriority,Ei=e.unstable_IdlePriority,jn=null,ot=null;function Ti(i){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Nu,Xs=Math.log,Du=Math.LN2;function Nu(i){return i>>>=0,i===0?32:31-(Xs(i)/Du|0)|0}var Lo=64,Mo=4194304;function Xi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Zs(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var k=T&~m;k!==0?h=Xi(k):(y&=T,y!==0&&(h=Xi(y)))}else T=l&~m,T!==0?h=Xi(T):y!==0&&(h=Xi(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-qt(o),m=1<<l,h|=i[l],o&=~m;return h}function mh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-qt(y),k=1<<T,N=m[T];N===-1?((k&l)===0||(k&h)!==0)&&(m[T]=mh(k,o)):N<=o&&(i.expiredLanes|=k),y&=~k}}function zn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function eo(){var i=Lo;return Lo<<=1,(Lo&4194240)===0&&(Lo=64),i}function Zi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function es(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-qt(o),i[o]=l}function _t(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-qt(l),y=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~y}}function ts(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-qt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var Ze=0;function ns(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Lu,Oo,Mu,Ou,Vu,Xa=!1,qr=[],en=null,_r=null,wr=null,rs=new Map,ir=new Map,Kr=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fu(i,o){switch(i){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":rs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(o.pointerId)}}function kn(i,o,l,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=fl(o),o!==null&&Oo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function yh(i,o,l,h,m){switch(o){case"focusin":return en=kn(en,i,o,l,h,m),!0;case"dragenter":return _r=kn(_r,i,o,l,h,m),!0;case"mouseover":return wr=kn(wr,i,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return rs.set(y,kn(rs.get(y)||null,i,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,ir.set(y,kn(ir.get(y)||null,i,o,l,h,m)),!0}return!1}function Uu(i){var o=so(i.target);if(o!==null){var l=et(o);if(l!==null){if(o=l.tag,o===13){if(o=It(l),o!==null){i.blockedOn=o,Vu(i.priority,function(){Mu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ii(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Vo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Gr=h,l.target.dispatchEvent(h),Gr=null}else return o=fl(l),o!==null&&Oo(o),i.blockedOn=l,!1;o.shift()}return!0}function to(i,o,l){Ii(i)&&l.delete(o)}function ju(){Xa=!1,en!==null&&Ii(en)&&(en=null),_r!==null&&Ii(_r)&&(_r=null),wr!==null&&Ii(wr)&&(wr=null),rs.forEach(to),ir.forEach(to)}function Er(i,o){i.blockedOn===o&&(i.blockedOn=null,Xa||(Xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ju)))}function Tr(i){function o(m){return Er(m,i)}if(0<qr.length){Er(qr[0],i);for(var l=1;l<qr.length;l++){var h=qr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(en!==null&&Er(en,i),_r!==null&&Er(_r,i),wr!==null&&Er(wr,i),rs.forEach(o),ir.forEach(o),l=0;l<Kr.length;l++)h=Kr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<Kr.length&&(l=Kr[0],l.blockedOn===null);)Uu(l),l.blockedOn===null&&Kr.shift()}var Ci=se.ReactCurrentBatchConfig,is=!0;function Ct(i,o,l,h){var m=Ze,y=Ci.transition;Ci.transition=null;try{Ze=1,Za(i,o,l,h)}finally{Ze=m,Ci.transition=y}}function vh(i,o,l,h){var m=Ze,y=Ci.transition;Ci.transition=null;try{Ze=4,Za(i,o,l,h)}finally{Ze=m,Ci.transition=y}}function Za(i,o,l,h){if(is){var m=Vo(i,o,l,h);if(m===null)xh(i,o,h,no,l),Fu(i,h);else if(yh(m,i,o,l,h))h.stopPropagation();else if(Fu(i,h),o&4&&-1<gh.indexOf(i)){for(;m!==null;){var y=fl(m);if(y!==null&&Lu(y),y=Vo(i,o,l,h),y===null&&xh(i,o,h,no,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else xh(i,o,h,null,l)}}var no=null;function Vo(i,o,l,h){if(no=null,i=Hr(h),i=so(i),i!==null)if(o=et(i),o===null)i=null;else if(l=o.tag,l===13){if(i=It(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return no=i,null}function el(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nr()){case rr:return 1;case Un:return 4;case Be:case bt:return 16;case Ei:return 536870912;default:return 16}default:return 16}}var $n=null,Fo=null,xn=null;function tl(){if(xn)return xn;var i,o=Fo,l=o.length,h,m="value"in $n?$n.value:$n.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===m[y-h];h++);return xn=m.slice(i,1<h?1-h:void 0)}function Uo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Qr(){return!0}function nl(){return!1}function tn(i){function o(l,h,m,y,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Qr:nl,this.isPropagationStopped=nl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),o}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=tn(Sr),Yr=le({},Sr,{view:0,detail:0}),_h=tn(Yr),zo,Ri,ss,ro=le({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ss&&(ss&&i.type==="mousemove"?(zo=i.screenX-ss.screenX,Ri=i.screenY-ss.screenY):Ri=zo=0,ss=i),zo)},movementY:function(i){return"movementY"in i?i.movementY:Ri}}),$o=tn(ro),rl=le({},ro,{dataTransfer:0}),zu=tn(rl),Bo=le({},Yr,{relatedTarget:0}),Go=tn(Bo),$u=le({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ai=tn($u),Bu=le({},Sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Gu=tn(Bu),Hu=le({},Sr,{data:0}),il=tn(Hu),Ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Wu[i])?!!o[i]:!1}function Jr(){return qu}var c=le({},Yr,{key:function(i){if(i.key){var o=Ho[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Uo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Tn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(i){return i.type==="keypress"?Uo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Uo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=tn(c),_=le({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=tn(_),B=le({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Y=tn(B),he=le({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=tn(he),Bt=le({},ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=tn(Bt),Kt=[9,13,27,32],Vt=d&&"CompositionEvent"in window,sr=null;d&&"documentMode"in document&&(sr=document.documentMode);var Bn=d&&"TextEvent"in window&&!sr,io=d&&(!Vt||sr&&8<sr&&11>=sr),Wo=" ",Tg=!1;function Sg(i,o){switch(i){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ig(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qo=!1;function zT(i,o){switch(i){case"compositionend":return Ig(o);case"keypress":return o.which!==32?null:(Tg=!0,Wo);case"textInput":return i=o.data,i===Wo&&Tg?null:i;default:return null}}function $T(i,o){if(qo)return i==="compositionend"||!Vt&&Sg(i,o)?(i=tl(),xn=Fo=$n=null,qo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return io&&o.locale!=="ko"?null:o.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!BT[i.type]:o==="textarea"}function Rg(i,o,l,h){wn(h),o=Xu(o,"onChange"),0<o.length&&(l=new jo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var sl=null,ol=null;function GT(i){Gg(i,0)}function Ku(i){var o=Xo(i);if(mi(o))return i}function HT(i,o){if(i==="change")return o}var Ag=!1;if(d){var wh;if(d){var Eh="oninput"in document;if(!Eh){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Eh=typeof kg.oninput=="function"}wh=Eh}else wh=!1;Ag=wh&&(!document.documentMode||9<document.documentMode)}function xg(){sl&&(sl.detachEvent("onpropertychange",Pg),ol=sl=null)}function Pg(i){if(i.propertyName==="value"&&Ku(ol)){var o=[];Rg(o,ol,i,Hr(i)),$(GT,o)}}function WT(i,o,l){i==="focusin"?(xg(),sl=o,ol=l,sl.attachEvent("onpropertychange",Pg)):i==="focusout"&&xg()}function qT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ku(ol)}function KT(i,o){if(i==="click")return Ku(o)}function QT(i,o){if(i==="input"||i==="change")return Ku(o)}function YT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ir=typeof Object.is=="function"?Object.is:YT;function al(i,o){if(Ir(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Ir(i[m],o[m]))return!1}return!0}function bg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Dg(i,o){var l=bg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bg(l)}}function Ng(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ng(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Lg(){for(var i=window,o=jr();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=jr(i.document)}return o}function Th(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function JT(i){var o=Lg(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Ng(l.ownerDocument.documentElement,l)){if(h!==null&&Th(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=Dg(l,y);var T=Dg(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var XT=d&&"documentMode"in document&&11>=document.documentMode,Ko=null,Sh=null,ll=null,Ih=!1;function Mg(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ih||Ko==null||Ko!==jr(h)||(h=Ko,"selectionStart"in h&&Th(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ll&&al(ll,h)||(ll=h,h=Xu(Sh,"onSelect"),0<h.length&&(o=new jo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Ko)))}function Qu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Qo={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},Ch={},Og={};d&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Yu(i){if(Ch[i])return Ch[i];if(!Qo[i])return i;var o=Qo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Og)return Ch[i]=o[l];return i}var Vg=Yu("animationend"),Fg=Yu("animationiteration"),Ug=Yu("animationstart"),jg=Yu("transitionend"),zg=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(i,o){zg.set(i,o),a(o,[i])}for(var Rh=0;Rh<$g.length;Rh++){var Ah=$g[Rh],ZT=Ah.toLowerCase(),eS=Ah[0].toUpperCase()+Ah.slice(1);os(ZT,"on"+eS)}os(Vg,"onAnimationEnd"),os(Fg,"onAnimationIteration"),os(Ug,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(jg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Bg(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,He(h,o,void 0,i),i.currentTarget=null}function Gg(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var T=h.length-1;0<=T;T--){var k=h[T],N=k.instance,K=k.currentTarget;if(k=k.listener,N!==y&&m.isPropagationStopped())break e;Bg(m,k,K),y=N}else for(T=0;T<h.length;T++){if(k=h[T],N=k.instance,K=k.currentTarget,k=k.listener,N!==y&&m.isPropagationStopped())break e;Bg(m,k,K),y=N}}}if(we)throw i=De,we=!1,De=null,i}function Et(i,o){var l=o[Mh];l===void 0&&(l=o[Mh]=new Set);var h=i+"__bubble";l.has(h)||(Hg(o,i,2,!1),l.add(h))}function kh(i,o,l){var h=0;o&&(h|=4),Hg(l,i,h,o)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function cl(i){if(!i[Ju]){i[Ju]=!0,r.forEach(function(l){l!=="selectionchange"&&(tS.has(l)||kh(l,!1,i),kh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ju]||(o[Ju]=!0,kh("selectionchange",!1,o))}}function Hg(i,o,l,h){switch(el(o)){case 1:var m=Ct;break;case 4:m=vh;break;default:m=Za}l=m.bind(null,o,l,i),m=void 0,!oe||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function xh(i,o,l,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var k=h.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===m||N.nodeType===8&&N.parentNode===m))return;T=T.return}for(;k!==null;){if(T=so(k),T===null)return;if(N=T.tag,N===5||N===6){h=y=T;continue e}k=k.parentNode}}h=h.return}$(function(){var K=y,ie=Hr(l),ae=[];e:{var ne=zg.get(i);if(ne!==void 0){var ge=jo,Ie=i;switch(i){case"keypress":if(Uo(l)===0)break e;case"keydown":case"keyup":ge=g;break;case"focusin":Ie="focus",ge=Go;break;case"focusout":Ie="blur",ge=Go;break;case"beforeblur":case"afterblur":ge=Go;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Y;break;case Vg:case Fg:case Ug:ge=Ai;break;case jg:ge=ht;break;case"scroll":ge=_h;break;case"wheel":ge=tt;break;case"copy":case"cut":case"paste":ge=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=S}var Re=(o&4)!==0,Mt=!Re&&i==="scroll",G=Re?ne!==null?ne+"Capture":null:ne;Re=[];for(var V=K,q;V!==null;){q=V;var ce=q.stateNode;if(q.tag===5&&ce!==null&&(q=ce,G!==null&&(ce=W(V,G),ce!=null&&Re.push(dl(V,ce,q)))),Mt)break;V=V.return}0<Re.length&&(ne=new ge(ne,Ie,null,l,ie),ae.push({event:ne,listeners:Re}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ne&&l!==Gr&&(Ie=l.relatedTarget||l.fromElement)&&(so(Ie)||Ie[ki]))break e;if((ge||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ge?(Ie=l.relatedTarget||l.toElement,ge=K,Ie=Ie?so(Ie):null,Ie!==null&&(Mt=et(Ie),Ie!==Mt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(ge=null,Ie=K),ge!==Ie)){if(Re=$o,ce="onMouseLeave",G="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Re=S,ce="onPointerLeave",G="onPointerEnter",V="pointer"),Mt=ge==null?ne:Xo(ge),q=Ie==null?ne:Xo(Ie),ne=new Re(ce,V+"leave",ge,l,ie),ne.target=Mt,ne.relatedTarget=q,ce=null,so(ie)===K&&(Re=new Re(G,V+"enter",Ie,l,ie),Re.target=q,Re.relatedTarget=Mt,ce=Re),Mt=ce,ge&&Ie)t:{for(Re=ge,G=Ie,V=0,q=Re;q;q=Yo(q))V++;for(q=0,ce=G;ce;ce=Yo(ce))q++;for(;0<V-q;)Re=Yo(Re),V--;for(;0<q-V;)G=Yo(G),q--;for(;V--;){if(Re===G||G!==null&&Re===G.alternate)break t;Re=Yo(Re),G=Yo(G)}Re=null}else Re=null;ge!==null&&Wg(ae,ne,ge,Re,!1),Ie!==null&&Mt!==null&&Wg(ae,Mt,Ie,Re,!0)}}e:{if(ne=K?Xo(K):window,ge=ne.nodeName&&ne.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ne.type==="file")var xe=HT;else if(Cg(ne))if(Ag)xe=QT;else{xe=qT;var Le=WT}else(ge=ne.nodeName)&&ge.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(xe=KT);if(xe&&(xe=xe(i,K))){Rg(ae,xe,l,ie);break e}Le&&Le(i,ne,K),i==="focusout"&&(Le=ne._wrapperState)&&Le.controlled&&ne.type==="number"&&qi(ne,"number",ne.value)}switch(Le=K?Xo(K):window,i){case"focusin":(Cg(Le)||Le.contentEditable==="true")&&(Ko=Le,Sh=K,ll=null);break;case"focusout":ll=Sh=Ko=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,Mg(ae,l,ie);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Mg(ae,l,ie)}var Me;if(Vt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else qo?Sg(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(io&&l.locale!=="ko"&&(qo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&qo&&(Me=tl()):($n=ie,Fo="value"in $n?$n.value:$n.textContent,qo=!0)),Le=Xu(K,Fe),0<Le.length&&(Fe=new il(Fe,i,null,l,ie),ae.push({event:Fe,listeners:Le}),Me?Fe.data=Me:(Me=Ig(l),Me!==null&&(Fe.data=Me)))),(Me=Bn?zT(i,l):$T(i,l))&&(K=Xu(K,"onBeforeInput"),0<K.length&&(ie=new il("onBeforeInput","beforeinput",null,l,ie),ae.push({event:ie,listeners:K}),ie.data=Me))}Gg(ae,o)})}function dl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Xu(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=W(i,l),y!=null&&h.unshift(dl(i,y,m)),y=W(i,o),y!=null&&h.push(dl(i,y,m))),i=i.return}return h}function Yo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Wg(i,o,l,h,m){for(var y=o._reactName,T=[];l!==null&&l!==h;){var k=l,N=k.alternate,K=k.stateNode;if(N!==null&&N===h)break;k.tag===5&&K!==null&&(k=K,m?(N=W(l,y),N!=null&&T.unshift(dl(l,N,k))):m||(N=W(l,y),N!=null&&T.push(dl(l,N,k)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var nS=/\r\n?/g,rS=/\u0000|\uFFFD/g;function qg(i){return(typeof i=="string"?i:""+i).replace(nS,`
`).replace(rS,"")}function Zu(i,o,l){if(o=qg(o),qg(i)!==o&&l)throw Error(t(425))}function ec(){}var Ph=null,bh=null;function Dh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nh=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(i){return Kg.resolve(null).then(i).catch(oS)}:Nh;function oS(i){setTimeout(function(){throw i})}function Lh(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Tr(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Tr(o)}function as(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Qg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jo,hl="__reactProps$"+Jo,ki="__reactContainer$"+Jo,Mh="__reactEvents$"+Jo,aS="__reactListeners$"+Jo,lS="__reactHandles$"+Jo;function so(i){var o=i[Xr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[ki]||l[Xr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Qg(i);i!==null;){if(l=i[Xr])return l;i=Qg(i)}return o}i=l,l=i.parentNode}return null}function fl(i){return i=i[Xr]||i[ki],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Xo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function tc(i){return i[hl]||null}var Oh=[],Zo=-1;function ls(i){return{current:i}}function Tt(i){0>Zo||(i.current=Oh[Zo],Oh[Zo]=null,Zo--)}function wt(i,o){Zo++,Oh[Zo]=i.current,i.current=o}var us={},cn=ls(us),Pn=ls(!1),oo=us;function ea(i,o){var l=i.type.contextTypes;if(!l)return us;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function bn(i){return i=i.childContextTypes,i!=null}function nc(){Tt(Pn),Tt(cn)}function Yg(i,o,l){if(cn.current!==us)throw Error(t(168));wt(cn,o),wt(Pn,l)}function Jg(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,it(i)||"Unknown",m));return le({},l,h)}function rc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||us,oo=cn.current,wt(cn,i),wt(Pn,Pn.current),!0}function Xg(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Jg(i,o,oo),h.__reactInternalMemoizedMergedChildContext=i,Tt(Pn),Tt(cn),wt(cn,i)):Tt(Pn),wt(Pn,l)}var xi=null,ic=!1,Vh=!1;function Zg(i){xi===null?xi=[i]:xi.push(i)}function uS(i){ic=!0,Zg(i)}function cs(){if(!Vh&&xi!==null){Vh=!0;var i=0,o=Ze;try{var l=xi;for(Ze=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}xi=null,ic=!1}catch(m){throw xi!==null&&(xi=xi.slice(i+1)),tr(rr,cs),m}finally{Ze=o,Vh=!1}}return null}var ta=[],na=0,sc=null,oc=0,or=[],ar=0,ao=null,Pi=1,bi="";function lo(i,o){ta[na++]=oc,ta[na++]=sc,sc=i,oc=o}function ey(i,o,l){or[ar++]=Pi,or[ar++]=bi,or[ar++]=ao,ao=i;var h=Pi;i=bi;var m=32-qt(h)-1;h&=~(1<<m),l+=1;var y=32-qt(o)+m;if(30<y){var T=m-m%5;y=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Pi=1<<32-qt(o)+m|l<<m|h,bi=y+i}else Pi=1<<y|l<<m|h,bi=i}function Fh(i){i.return!==null&&(lo(i,1),ey(i,1,0))}function Uh(i){for(;i===sc;)sc=ta[--na],ta[na]=null,oc=ta[--na],ta[na]=null;for(;i===ao;)ao=or[--ar],or[ar]=null,bi=or[--ar],or[ar]=null,Pi=or[--ar],or[ar]=null}var Gn=null,Hn=null,Rt=!1,Cr=null;function ty(i,o){var l=dr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function ny(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Gn=i,Hn=as(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Gn=i,Hn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ao!==null?{id:Pi,overflow:bi}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=dr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Gn=i,Hn=null,!0):!1;default:return!1}}function jh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function zh(i){if(Rt){var o=Hn;if(o){var l=o;if(!ny(i,o)){if(jh(i))throw Error(t(418));o=as(l.nextSibling);var h=Gn;o&&ny(i,o)?ty(h,l):(i.flags=i.flags&-4097|2,Rt=!1,Gn=i)}}else{if(jh(i))throw Error(t(418));i.flags=i.flags&-4097|2,Rt=!1,Gn=i}}}function ry(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Gn=i}function ac(i){if(i!==Gn)return!1;if(!Rt)return ry(i),Rt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Dh(i.type,i.memoizedProps)),o&&(o=Hn)){if(jh(i))throw iy(),Error(t(418));for(;o;)ty(i,o),o=as(o.nextSibling)}if(ry(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Hn=as(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Hn=null}}else Hn=Gn?as(i.stateNode.nextSibling):null;return!0}function iy(){for(var i=Hn;i;)i=as(i.nextSibling)}function ra(){Hn=Gn=null,Rt=!1}function $h(i){Cr===null?Cr=[i]:Cr.push(i)}var cS=se.ReactCurrentBatchConfig;function pl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var k=m.refs;T===null?delete k[y]:k[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function lc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function sy(i){var o=i._init;return o(i._payload)}function oy(i){function o(G,V){if(i){var q=G.deletions;q===null?(G.deletions=[V],G.flags|=16):q.push(V)}}function l(G,V){if(!i)return null;for(;V!==null;)o(G,V),V=V.sibling;return null}function h(G,V){for(G=new Map;V!==null;)V.key!==null?G.set(V.key,V):G.set(V.index,V),V=V.sibling;return G}function m(G,V){return G=vs(G,V),G.index=0,G.sibling=null,G}function y(G,V,q){return G.index=q,i?(q=G.alternate,q!==null?(q=q.index,q<V?(G.flags|=2,V):q):(G.flags|=2,V)):(G.flags|=1048576,V)}function T(G){return i&&G.alternate===null&&(G.flags|=2),G}function k(G,V,q,ce){return V===null||V.tag!==6?(V=Lf(q,G.mode,ce),V.return=G,V):(V=m(V,q),V.return=G,V)}function N(G,V,q,ce){var xe=q.type;return xe===P?ie(G,V,q.props.children,ce,q.key):V!==null&&(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ye&&sy(xe)===V.type)?(ce=m(V,q.props),ce.ref=pl(G,V,q),ce.return=G,ce):(ce=Dc(q.type,q.key,q.props,null,G.mode,ce),ce.ref=pl(G,V,q),ce.return=G,ce)}function K(G,V,q,ce){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Mf(q,G.mode,ce),V.return=G,V):(V=m(V,q.children||[]),V.return=G,V)}function ie(G,V,q,ce,xe){return V===null||V.tag!==7?(V=yo(q,G.mode,ce,xe),V.return=G,V):(V=m(V,q),V.return=G,V)}function ae(G,V,q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Lf(""+V,G.mode,q),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case de:return q=Dc(V.type,V.key,V.props,null,G.mode,q),q.ref=pl(G,null,V),q.return=G,q;case U:return V=Mf(V,G.mode,q),V.return=G,V;case ye:var ce=V._init;return ae(G,ce(V._payload),q)}if(yr(V)||me(V))return V=yo(V,G.mode,q,null),V.return=G,V;lc(G,V)}return null}function ne(G,V,q,ce){var xe=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return xe!==null?null:k(G,V,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case de:return q.key===xe?N(G,V,q,ce):null;case U:return q.key===xe?K(G,V,q,ce):null;case ye:return xe=q._init,ne(G,V,xe(q._payload),ce)}if(yr(q)||me(q))return xe!==null?null:ie(G,V,q,ce,null);lc(G,q)}return null}function ge(G,V,q,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return G=G.get(q)||null,k(V,G,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case de:return G=G.get(ce.key===null?q:ce.key)||null,N(V,G,ce,xe);case U:return G=G.get(ce.key===null?q:ce.key)||null,K(V,G,ce,xe);case ye:var Le=ce._init;return ge(G,V,q,Le(ce._payload),xe)}if(yr(ce)||me(ce))return G=G.get(q)||null,ie(V,G,ce,xe,null);lc(V,ce)}return null}function Ie(G,V,q,ce){for(var xe=null,Le=null,Me=V,Fe=V=0,Jt=null;Me!==null&&Fe<q.length;Fe++){Me.index>Fe?(Jt=Me,Me=null):Jt=Me.sibling;var ut=ne(G,Me,q[Fe],ce);if(ut===null){Me===null&&(Me=Jt);break}i&&Me&&ut.alternate===null&&o(G,Me),V=y(ut,V,Fe),Le===null?xe=ut:Le.sibling=ut,Le=ut,Me=Jt}if(Fe===q.length)return l(G,Me),Rt&&lo(G,Fe),xe;if(Me===null){for(;Fe<q.length;Fe++)Me=ae(G,q[Fe],ce),Me!==null&&(V=y(Me,V,Fe),Le===null?xe=Me:Le.sibling=Me,Le=Me);return Rt&&lo(G,Fe),xe}for(Me=h(G,Me);Fe<q.length;Fe++)Jt=ge(Me,G,Fe,q[Fe],ce),Jt!==null&&(i&&Jt.alternate!==null&&Me.delete(Jt.key===null?Fe:Jt.key),V=y(Jt,V,Fe),Le===null?xe=Jt:Le.sibling=Jt,Le=Jt);return i&&Me.forEach(function(_s){return o(G,_s)}),Rt&&lo(G,Fe),xe}function Re(G,V,q,ce){var xe=me(q);if(typeof xe!="function")throw Error(t(150));if(q=xe.call(q),q==null)throw Error(t(151));for(var Le=xe=null,Me=V,Fe=V=0,Jt=null,ut=q.next();Me!==null&&!ut.done;Fe++,ut=q.next()){Me.index>Fe?(Jt=Me,Me=null):Jt=Me.sibling;var _s=ne(G,Me,ut.value,ce);if(_s===null){Me===null&&(Me=Jt);break}i&&Me&&_s.alternate===null&&o(G,Me),V=y(_s,V,Fe),Le===null?xe=_s:Le.sibling=_s,Le=_s,Me=Jt}if(ut.done)return l(G,Me),Rt&&lo(G,Fe),xe;if(Me===null){for(;!ut.done;Fe++,ut=q.next())ut=ae(G,ut.value,ce),ut!==null&&(V=y(ut,V,Fe),Le===null?xe=ut:Le.sibling=ut,Le=ut);return Rt&&lo(G,Fe),xe}for(Me=h(G,Me);!ut.done;Fe++,ut=q.next())ut=ge(Me,G,Fe,ut.value,ce),ut!==null&&(i&&ut.alternate!==null&&Me.delete(ut.key===null?Fe:ut.key),V=y(ut,V,Fe),Le===null?xe=ut:Le.sibling=ut,Le=ut);return i&&Me.forEach(function(BS){return o(G,BS)}),Rt&&lo(G,Fe),xe}function Mt(G,V,q,ce){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case de:e:{for(var xe=q.key,Le=V;Le!==null;){if(Le.key===xe){if(xe=q.type,xe===P){if(Le.tag===7){l(G,Le.sibling),V=m(Le,q.props.children),V.return=G,G=V;break e}}else if(Le.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ye&&sy(xe)===Le.type){l(G,Le.sibling),V=m(Le,q.props),V.ref=pl(G,Le,q),V.return=G,G=V;break e}l(G,Le);break}else o(G,Le);Le=Le.sibling}q.type===P?(V=yo(q.props.children,G.mode,ce,q.key),V.return=G,G=V):(ce=Dc(q.type,q.key,q.props,null,G.mode,ce),ce.ref=pl(G,V,q),ce.return=G,G=ce)}return T(G);case U:e:{for(Le=q.key;V!==null;){if(V.key===Le)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){l(G,V.sibling),V=m(V,q.children||[]),V.return=G,G=V;break e}else{l(G,V);break}else o(G,V);V=V.sibling}V=Mf(q,G.mode,ce),V.return=G,G=V}return T(G);case ye:return Le=q._init,Mt(G,V,Le(q._payload),ce)}if(yr(q))return Ie(G,V,q,ce);if(me(q))return Re(G,V,q,ce);lc(G,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,V!==null&&V.tag===6?(l(G,V.sibling),V=m(V,q),V.return=G,G=V):(l(G,V),V=Lf(q,G.mode,ce),V.return=G,G=V),T(G)):l(G,V)}return Mt}var ia=oy(!0),ay=oy(!1),uc=ls(null),cc=null,sa=null,Bh=null;function Gh(){Bh=sa=cc=null}function Hh(i){var o=uc.current;Tt(uc),i._currentValue=o}function Wh(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function oa(i,o){cc=i,Bh=sa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Dn=!0),i.firstContext=null)}function lr(i){var o=i._currentValue;if(Bh!==i)if(i={context:i,memoizedValue:o,next:null},sa===null){if(cc===null)throw Error(t(308));sa=i,cc.dependencies={lanes:0,firstContext:i}}else sa=sa.next=i;return o}var uo=null;function qh(i){uo===null?uo=[i]:uo.push(i)}function ly(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,qh(o)):(l.next=m.next,m.next=l),o.interleaved=l,Di(i,h)}function Di(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ds=!1;function Kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ni(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function hs(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Di(i,l)}return m=h.interleaved,m===null?(o.next=o,qh(h)):(o.next=m.next,m.next=o),h.interleaved=o,Di(i,l)}function dc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ts(i,l)}}function cy(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function hc(i,o,l,h){var m=i.updateQueue;ds=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var N=k,K=N.next;N.next=null,T===null?y=K:T.next=K,T=N;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,k=ie.lastBaseUpdate,k!==T&&(k===null?ie.firstBaseUpdate=K:k.next=K,ie.lastBaseUpdate=N))}if(y!==null){var ae=m.baseState;T=0,ie=K=N=null,k=y;do{var ne=k.lane,ge=k.eventTime;if((h&ne)===ne){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var Ie=i,Re=k;switch(ne=o,ge=l,Re.tag){case 1:if(Ie=Re.payload,typeof Ie=="function"){ae=Ie.call(ge,ae,ne);break e}ae=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Re.payload,ne=typeof Ie=="function"?Ie.call(ge,ae,ne):Ie,ne==null)break e;ae=le({},ae,ne);break e;case 2:ds=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,ne=m.effects,ne===null?m.effects=[k]:ne.push(k))}else ge={eventTime:ge,lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ie===null?(K=ie=ge,N=ae):ie=ie.next=ge,T|=ne;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;ne=k,k=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);if(ie===null&&(N=ae),m.baseState=N,m.firstBaseUpdate=K,m.lastBaseUpdate=ie,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);fo|=T,i.lanes=T,i.memoizedState=ae}}function dy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var ml={},Zr=ls(ml),gl=ls(ml),yl=ls(ml);function co(i){if(i===ml)throw Error(t(174));return i}function Qh(i,o){switch(wt(yl,o),wt(gl,i),wt(Zr,ml),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:dt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=dt(o,i)}Tt(Zr),wt(Zr,o)}function aa(){Tt(Zr),Tt(gl),Tt(yl)}function hy(i){co(yl.current);var o=co(Zr.current),l=dt(o,i.type);o!==l&&(wt(gl,i),wt(Zr,l))}function Yh(i){gl.current===i&&(Tt(Zr),Tt(gl))}var At=ls(0);function fc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jh=[];function Xh(){for(var i=0;i<Jh.length;i++)Jh[i]._workInProgressVersionPrimary=null;Jh.length=0}var pc=se.ReactCurrentDispatcher,Zh=se.ReactCurrentBatchConfig,ho=0,kt=null,Gt=null,Qt=null,mc=!1,vl=!1,_l=0,dS=0;function dn(){throw Error(t(321))}function ef(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Ir(i[l],o[l]))return!1;return!0}function tf(i,o,l,h,m,y){if(ho=y,kt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,pc.current=i===null||i.memoizedState===null?mS:gS,i=l(h,m),vl){y=0;do{if(vl=!1,_l=0,25<=y)throw Error(t(301));y+=1,Qt=Gt=null,o.updateQueue=null,pc.current=yS,i=l(h,m)}while(vl)}if(pc.current=vc,o=Gt!==null&&Gt.next!==null,ho=0,Qt=Gt=kt=null,mc=!1,o)throw Error(t(300));return i}function nf(){var i=_l!==0;return _l=0,i}function ei(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?kt.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function ur(){if(Gt===null){var i=kt.alternate;i=i!==null?i.memoizedState:null}else i=Gt.next;var o=Qt===null?kt.memoizedState:Qt.next;if(o!==null)Qt=o,Gt=i;else{if(i===null)throw Error(t(310));Gt=i,i={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Qt===null?kt.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function wl(i,o){return typeof o=="function"?o(i):o}function rf(i){var o=ur(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Gt,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var k=T=null,N=null,K=y;do{var ie=K.lane;if((ho&ie)===ie)N!==null&&(N=N.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:i(h,K.action);else{var ae={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};N===null?(k=N=ae,T=h):N=N.next=ae,kt.lanes|=ie,fo|=ie}K=K.next}while(K!==null&&K!==y);N===null?T=h:N.next=k,Ir(h,o.memoizedState)||(Dn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=N,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do y=m.lane,kt.lanes|=y,fo|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function sf(i){var o=ur(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);Ir(y,o.memoizedState)||(Dn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function fy(){}function py(i,o){var l=kt,h=ur(),m=o(),y=!Ir(h.memoizedState,m);if(y&&(h.memoizedState=m,Dn=!0),h=h.queue,of(yy.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,El(9,gy.bind(null,l,h,m,o),void 0,null),Yt===null)throw Error(t(349));(ho&30)!==0||my(l,o,m)}return m}function my(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function gy(i,o,l,h){o.value=l,o.getSnapshot=h,vy(o)&&_y(i)}function yy(i,o,l){return l(function(){vy(o)&&_y(i)})}function vy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Ir(i,l)}catch{return!0}}function _y(i){var o=Di(i,1);o!==null&&xr(o,i,1,-1)}function wy(i){var o=ei();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:i},o.queue=i,i=i.dispatch=pS.bind(null,kt,i),[o.memoizedState,i]}function El(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=kt.updateQueue,o===null?(o={lastEffect:null,stores:null},kt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Ey(){return ur().memoizedState}function gc(i,o,l,h){var m=ei();kt.flags|=i,m.memoizedState=El(1|o,l,void 0,h===void 0?null:h)}function yc(i,o,l,h){var m=ur();h=h===void 0?null:h;var y=void 0;if(Gt!==null){var T=Gt.memoizedState;if(y=T.destroy,h!==null&&ef(h,T.deps)){m.memoizedState=El(o,l,y,h);return}}kt.flags|=i,m.memoizedState=El(1|o,l,y,h)}function Ty(i,o){return gc(8390656,8,i,o)}function of(i,o){return yc(2048,8,i,o)}function Sy(i,o){return yc(4,2,i,o)}function Iy(i,o){return yc(4,4,i,o)}function Cy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Ry(i,o,l){return l=l!=null?l.concat([i]):null,yc(4,4,Cy.bind(null,o,i),l)}function af(){}function Ay(i,o){var l=ur();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&ef(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function ky(i,o){var l=ur();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&ef(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function xy(i,o,l){return(ho&21)===0?(i.baseState&&(i.baseState=!1,Dn=!0),i.memoizedState=l):(Ir(l,o)||(l=eo(),kt.lanes|=l,fo|=l,i.baseState=!0),o)}function hS(i,o){var l=Ze;Ze=l!==0&&4>l?l:4,i(!0);var h=Zh.transition;Zh.transition={};try{i(!1),o()}finally{Ze=l,Zh.transition=h}}function Py(){return ur().memoizedState}function fS(i,o,l){var h=gs(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},by(i))Dy(o,l);else if(l=ly(i,o,l,h),l!==null){var m=In();xr(l,i,h,m),Ny(l,o,h)}}function pS(i,o,l){var h=gs(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(by(i))Dy(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,k=y(T,l);if(m.hasEagerState=!0,m.eagerState=k,Ir(k,T)){var N=o.interleaved;N===null?(m.next=m,qh(o)):(m.next=N.next,N.next=m),o.interleaved=m;return}}catch{}finally{}l=ly(i,o,m,h),l!==null&&(m=In(),xr(l,i,h,m),Ny(l,o,h))}}function by(i){var o=i.alternate;return i===kt||o!==null&&o===kt}function Dy(i,o){vl=mc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Ny(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ts(i,l)}}var vc={readContext:lr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},mS={readContext:lr,useCallback:function(i,o){return ei().memoizedState=[i,o===void 0?null:o],i},useContext:lr,useEffect:Ty,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,gc(4194308,4,Cy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return gc(4194308,4,i,o)},useInsertionEffect:function(i,o){return gc(4,2,i,o)},useMemo:function(i,o){var l=ei();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=ei();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=fS.bind(null,kt,i),[h.memoizedState,i]},useRef:function(i){var o=ei();return i={current:i},o.memoizedState=i},useState:wy,useDebugValue:af,useDeferredValue:function(i){return ei().memoizedState=i},useTransition:function(){var i=wy(!1),o=i[0];return i=hS.bind(null,i[1]),ei().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=kt,m=ei();if(Rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Yt===null)throw Error(t(349));(ho&30)!==0||my(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,Ty(yy.bind(null,h,y,i),[i]),h.flags|=2048,El(9,gy.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=ei(),o=Yt.identifierPrefix;if(Rt){var l=bi,h=Pi;l=(h&~(1<<32-qt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=_l++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=dS++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},gS={readContext:lr,useCallback:Ay,useContext:lr,useEffect:of,useImperativeHandle:Ry,useInsertionEffect:Sy,useLayoutEffect:Iy,useMemo:ky,useReducer:rf,useRef:Ey,useState:function(){return rf(wl)},useDebugValue:af,useDeferredValue:function(i){var o=ur();return xy(o,Gt.memoizedState,i)},useTransition:function(){var i=rf(wl)[0],o=ur().memoizedState;return[i,o]},useMutableSource:fy,useSyncExternalStore:py,useId:Py,unstable_isNewReconciler:!1},yS={readContext:lr,useCallback:Ay,useContext:lr,useEffect:of,useImperativeHandle:Ry,useInsertionEffect:Sy,useLayoutEffect:Iy,useMemo:ky,useReducer:sf,useRef:Ey,useState:function(){return sf(wl)},useDebugValue:af,useDeferredValue:function(i){var o=ur();return Gt===null?o.memoizedState=i:xy(o,Gt.memoizedState,i)},useTransition:function(){var i=sf(wl)[0],o=ur().memoizedState;return[i,o]},useMutableSource:fy,useSyncExternalStore:py,useId:Py,unstable_isNewReconciler:!1};function Rr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function lf(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:le({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var _c={isMounted:function(i){return(i=i._reactInternals)?et(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=In(),m=gs(i),y=Ni(h,m);y.payload=o,l!=null&&(y.callback=l),o=hs(i,y,m),o!==null&&(xr(o,i,m,h),dc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=In(),m=gs(i),y=Ni(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=hs(i,y,m),o!==null&&(xr(o,i,m,h),dc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=In(),h=gs(i),m=Ni(l,h);m.tag=2,o!=null&&(m.callback=o),o=hs(i,m,h),o!==null&&(xr(o,i,h,l),dc(o,i,h))}};function Ly(i,o,l,h,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):o.prototype&&o.prototype.isPureReactComponent?!al(l,h)||!al(m,y):!0}function My(i,o,l){var h=!1,m=us,y=o.contextType;return typeof y=="object"&&y!==null?y=lr(y):(m=bn(o)?oo:cn.current,h=o.contextTypes,y=(h=h!=null)?ea(i,m):us),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_c,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function Oy(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&_c.enqueueReplaceState(o,o.state,null)}function uf(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Kh(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=lr(y):(y=bn(o)?oo:cn.current,m.context=ea(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(lf(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&_c.enqueueReplaceState(m,m.state,null),hc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function la(i,o){try{var l="",h=o;do l+=$e(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function cf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function df(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var vS=typeof WeakMap=="function"?WeakMap:Map;function Vy(i,o,l){l=Ni(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Rc||(Rc=!0,Rf=h),df(i,o)},l}function Fy(i,o,l){l=Ni(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){df(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){df(i,o),typeof h!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Uy(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new vS;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=DS.bind(null,i,o,l),o.then(i,i))}function jy(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function zy(i,o,l,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Ni(-1,1),o.tag=2,hs(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var _S=se.ReactCurrentOwner,Dn=!1;function Sn(i,o,l,h){o.child=i===null?ay(o,null,l,h):ia(o,i.child,l,h)}function $y(i,o,l,h,m){l=l.render;var y=o.ref;return oa(o,m),h=tf(i,o,l,h,y,m),l=nf(),i!==null&&!Dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Li(i,o,m)):(Rt&&l&&Fh(o),o.flags|=1,Sn(i,o,h,m),o.child)}function By(i,o,l,h,m){if(i===null){var y=l.type;return typeof y=="function"&&!Nf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Gy(i,o,y,h,m)):(i=Dc(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:al,l(T,h)&&i.ref===o.ref)return Li(i,o,m)}return o.flags|=1,i=vs(y,h),i.ref=o.ref,i.return=o,o.child=i}function Gy(i,o,l,h,m){if(i!==null){var y=i.memoizedProps;if(al(y,h)&&i.ref===o.ref)if(Dn=!1,o.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Dn=!0);else return o.lanes=i.lanes,Li(i,o,m)}return hf(i,o,l,h,m)}function Hy(i,o,l){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(ca,Wn),Wn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,wt(ca,Wn),Wn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,wt(ca,Wn),Wn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,wt(ca,Wn),Wn|=h;return Sn(i,o,m,l),o.child}function Wy(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function hf(i,o,l,h,m){var y=bn(l)?oo:cn.current;return y=ea(o,y),oa(o,m),l=tf(i,o,l,h,y,m),h=nf(),i!==null&&!Dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Li(i,o,m)):(Rt&&h&&Fh(o),o.flags|=1,Sn(i,o,l,m),o.child)}function qy(i,o,l,h,m){if(bn(l)){var y=!0;rc(o)}else y=!1;if(oa(o,m),o.stateNode===null)Ec(i,o),My(o,l,h),uf(o,l,h,m),h=!0;else if(i===null){var T=o.stateNode,k=o.memoizedProps;T.props=k;var N=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=lr(K):(K=bn(l)?oo:cn.current,K=ea(o,K));var ie=l.getDerivedStateFromProps,ae=typeof ie=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==h||N!==K)&&Oy(o,T,h,K),ds=!1;var ne=o.memoizedState;T.state=ne,hc(o,h,T,m),N=o.memoizedState,k!==h||ne!==N||Pn.current||ds?(typeof ie=="function"&&(lf(o,l,ie,h),N=o.memoizedState),(k=ds||Ly(o,l,k,h,ne,N,K))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=N),T.props=h,T.state=N,T.context=K,h=k):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,uy(i,o),k=o.memoizedProps,K=o.type===o.elementType?k:Rr(o.type,k),T.props=K,ae=o.pendingProps,ne=T.context,N=l.contextType,typeof N=="object"&&N!==null?N=lr(N):(N=bn(l)?oo:cn.current,N=ea(o,N));var ge=l.getDerivedStateFromProps;(ie=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==ae||ne!==N)&&Oy(o,T,h,N),ds=!1,ne=o.memoizedState,T.state=ne,hc(o,h,T,m);var Ie=o.memoizedState;k!==ae||ne!==Ie||Pn.current||ds?(typeof ge=="function"&&(lf(o,l,ge,h),Ie=o.memoizedState),(K=ds||Ly(o,l,K,h,ne,Ie,N)||!1)?(ie||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Ie,N),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Ie,N)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ie),T.props=h,T.state=Ie,T.context=N,h=K):(typeof T.componentDidUpdate!="function"||k===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),h=!1)}return ff(i,o,l,h,y,m)}function ff(i,o,l,h,m,y){Wy(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&Xg(o,l,!1),Li(i,o,y);h=o.stateNode,_S.current=o;var k=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=ia(o,i.child,null,y),o.child=ia(o,null,k,y)):Sn(i,o,k,y),o.memoizedState=h.state,m&&Xg(o,l,!0),o.child}function Ky(i){var o=i.stateNode;o.pendingContext?Yg(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Yg(i,o.context,!1),Qh(i,o.containerInfo)}function Qy(i,o,l,h,m){return ra(),$h(m),o.flags|=256,Sn(i,o,l,h),o.child}var pf={dehydrated:null,treeContext:null,retryLane:0};function mf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Yy(i,o,l){var h=o.pendingProps,m=At.current,y=!1,T=(o.flags&128)!==0,k;if((k=T)||(k=i!==null&&i.memoizedState===null?!1:(m&2)!==0),k?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),wt(At,m&1),i===null)return zh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=o.mode,y=o.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Nc(T,h,0,null),i=yo(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=mf(l),o.memoizedState=pf,i):gf(o,T));if(m=i.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return wS(i,o,T,h,k,m,l);if(y){y=h.fallback,T=o.mode,m=i.child,k=m.sibling;var N={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=N,o.deletions=null):(h=vs(m,N),h.subtreeFlags=m.subtreeFlags&14680064),k!==null?y=vs(k,y):(y=yo(y,T,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,T=i.child.memoizedState,T=T===null?mf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=pf,h}return y=i.child,i=y.sibling,h=vs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function gf(i,o){return o=Nc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function wc(i,o,l,h){return h!==null&&$h(h),ia(o,i.child,null,l),i=gf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function wS(i,o,l,h,m,y,T){if(l)return o.flags&256?(o.flags&=-257,h=cf(Error(t(422))),wc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=Nc({mode:"visible",children:h.children},m,0,null),y=yo(y,m,T,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ia(o,i.child,null,T),o.child.memoizedState=mf(T),o.memoizedState=pf,y);if((o.mode&1)===0)return wc(i,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(t(419)),h=cf(y,h,void 0),wc(i,o,T,h)}if(k=(T&i.childLanes)!==0,Dn||k){if(h=Yt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|T))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Di(i,m),xr(h,i,m,-1))}return Df(),h=cf(Error(t(421))),wc(i,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=NS.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,Hn=as(m.nextSibling),Gn=o,Rt=!0,Cr=null,i!==null&&(or[ar++]=Pi,or[ar++]=bi,or[ar++]=ao,Pi=i.id,bi=i.overflow,ao=o),o=gf(o,h.children),o.flags|=4096,o)}function Jy(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Wh(i.return,o,l)}function yf(i,o,l,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function Xy(i,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Sn(i,o,h.children,l),h=At.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jy(i,l,o);else if(i.tag===19)Jy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(wt(At,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&fc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),yf(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&fc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}yf(o,!0,l,null,y);break;case"together":yf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ec(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Li(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),fo|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=vs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=vs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function ES(i,o,l){switch(o.tag){case 3:Ky(o),ra();break;case 5:hy(o);break;case 1:bn(o.type)&&rc(o);break;case 4:Qh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;wt(uc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(wt(At,At.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Yy(i,o,l):(wt(At,At.current&1),i=Li(i,o,l),i!==null?i.sibling:null);wt(At,At.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Xy(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),wt(At,At.current),h)break;return null;case 22:case 23:return o.lanes=0,Hy(i,o,l)}return Li(i,o,l)}var Zy,vf,e0,t0;Zy=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},vf=function(){},e0=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,co(Zr.current);var y=null;switch(l){case"input":m=vn(i,m),h=vn(i,h),y=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),y=[];break;case"textarea":m=Fn(i,m),h=Fn(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=ec)}Yi(l,h);var T;l=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var k=m[K];for(T in k)k.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in h){var N=h[K];if(k=m?.[K],h.hasOwnProperty(K)&&N!==k&&(N!=null||k!=null))if(K==="style")if(k){for(T in k)!k.hasOwnProperty(T)||N&&N.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in N)N.hasOwnProperty(T)&&k[T]!==N[T]&&(l||(l={}),l[T]=N[T])}else l||(y||(y=[]),y.push(K,l)),l=N;else K==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,k=k?k.__html:void 0,N!=null&&k!==N&&(y=y||[]).push(K,N)):K==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push(K,""+N):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(N!=null&&K==="onScroll"&&Et("scroll",i),y||k===N||(y=[])):(y=y||[]).push(K,N))}l&&(y=y||[]).push("style",l);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},t0=function(i,o,l,h){l!==h&&(o.flags|=4)};function Tl(i,o){if(!Rt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function hn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function TS(i,o,l){var h=o.pendingProps;switch(Uh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(o),null;case 1:return bn(o.type)&&nc(),hn(o),null;case 3:return h=o.stateNode,aa(),Tt(Pn),Tt(cn),Xh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ac(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cr!==null&&(xf(Cr),Cr=null))),vf(i,o),hn(o),null;case 5:Yh(o);var m=co(yl.current);if(l=o.type,i!==null&&o.stateNode!=null)e0(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return hn(o),null}if(i=co(Zr.current),ac(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[Xr]=o,h[hl]=y,i=(o.mode&1)!==0,l){case"dialog":Et("cancel",h),Et("close",h);break;case"iframe":case"object":case"embed":Et("load",h);break;case"video":case"audio":for(m=0;m<ul.length;m++)Et(ul[m],h);break;case"source":Et("error",h);break;case"img":case"image":case"link":Et("error",h),Et("load",h);break;case"details":Et("toggle",h);break;case"input":Hi(h,y),Et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Et("invalid",h);break;case"textarea":Xn(h,y),Et("invalid",h)}Yi(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var k=y[T];T==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&Zu(h.textContent,k,i),m=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&Zu(h.textContent,k,i),m=["children",""+k]):s.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Et("scroll",h)}switch(l){case"input":ln(h),No(h,y,!0);break;case"textarea":ln(h),yi(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ec)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=pt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[Xr]=o,i[hl]=h,Zy(i,o,!1,!1),o.stateNode=i;e:{switch(T=Br(l,h),l){case"dialog":Et("cancel",i),Et("close",i),m=h;break;case"iframe":case"object":case"embed":Et("load",i),m=h;break;case"video":case"audio":for(m=0;m<ul.length;m++)Et(ul[m],i);m=h;break;case"source":Et("error",i),m=h;break;case"img":case"image":case"link":Et("error",i),Et("load",i),m=h;break;case"details":Et("toggle",i),m=h;break;case"input":Hi(i,h),m=vn(i,h),Et("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),Et("invalid",i);break;case"textarea":Xn(i,h),m=Fn(i,h),Et("invalid",i);break;default:m=h}Yi(l,m),k=m;for(y in k)if(k.hasOwnProperty(y)){var N=k[y];y==="style"?Qi(i,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&vi(i,N)):y==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&zr(i,N):typeof N=="number"&&zr(i,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?N!=null&&y==="onScroll"&&Et("scroll",i):N!=null&&J(i,y,N,T))}switch(l){case"input":ln(i),No(i,h,!1);break;case"textarea":ln(i),yi(i);break;case"option":h.value!=null&&i.setAttribute("value",""+st(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?vr(i,!!h.multiple,y,!1):h.defaultValue!=null&&vr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ec)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return hn(o),null;case 6:if(i&&o.stateNode!=null)t0(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=co(yl.current),co(Zr.current),ac(o)){if(h=o.stateNode,l=o.memoizedProps,h[Xr]=o,(y=h.nodeValue!==l)&&(i=Gn,i!==null))switch(i.tag){case 3:Zu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Zu(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Xr]=o,o.stateNode=h}return hn(o),null;case 13:if(Tt(At),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Rt&&Hn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)iy(),ra(),o.flags|=98560,y=!1;else if(y=ac(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Xr]=o}else ra(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hn(o),y=!1}else Cr!==null&&(xf(Cr),Cr=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(At.current&1)!==0?Ht===0&&(Ht=3):Df())),o.updateQueue!==null&&(o.flags|=4),hn(o),null);case 4:return aa(),vf(i,o),i===null&&cl(o.stateNode.containerInfo),hn(o),null;case 10:return Hh(o.type._context),hn(o),null;case 17:return bn(o.type)&&nc(),hn(o),null;case 19:if(Tt(At),y=o.memoizedState,y===null)return hn(o),null;if(h=(o.flags&128)!==0,T=y.rendering,T===null)if(h)Tl(y,!1);else{if(Ht!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=fc(i),T!==null){for(o.flags|=128,Tl(y,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return wt(At,At.current&1|2),o.child}i=i.sibling}y.tail!==null&&lt()>da&&(o.flags|=128,h=!0,Tl(y,!1),o.lanes=4194304)}else{if(!h)if(i=fc(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Tl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Rt)return hn(o),null}else 2*lt()-y.renderingStartTime>da&&l!==1073741824&&(o.flags|=128,h=!0,Tl(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=lt(),o.sibling=null,l=At.current,wt(At,h?l&1|2:l&1),o):(hn(o),null);case 22:case 23:return bf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Wn&1073741824)!==0&&(hn(o),o.subtreeFlags&6&&(o.flags|=8192)):hn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function SS(i,o){switch(Uh(o),o.tag){case 1:return bn(o.type)&&nc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return aa(),Tt(Pn),Tt(cn),Xh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Yh(o),null;case 13:if(Tt(At),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ra()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Tt(At),null;case 4:return aa(),null;case 10:return Hh(o.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var Tc=!1,fn=!1,IS=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ua(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Dt(i,o,h)}else l.current=null}function _f(i,o,l){try{l()}catch(h){Dt(i,o,h)}}var n0=!1;function CS(i,o){if(Ph=is,i=Lg(),Th(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,k=-1,N=-1,K=0,ie=0,ae=i,ne=null;t:for(;;){for(var ge;ae!==l||m!==0&&ae.nodeType!==3||(k=T+m),ae!==y||h!==0&&ae.nodeType!==3||(N=T+h),ae.nodeType===3&&(T+=ae.nodeValue.length),(ge=ae.firstChild)!==null;)ne=ae,ae=ge;for(;;){if(ae===i)break t;if(ne===l&&++K===m&&(k=T),ne===y&&++ie===h&&(N=T),(ge=ae.nextSibling)!==null)break;ae=ne,ne=ae.parentNode}ae=ge}l=k===-1||N===-1?null:{start:k,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(bh={focusedElem:i,selectionRange:l},is=!1,Ee=o;Ee!==null;)if(o=Ee,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ee=i;else for(;Ee!==null;){o=Ee;try{var Ie=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Re=Ie.memoizedProps,Mt=Ie.memoizedState,G=o.stateNode,V=G.getSnapshotBeforeUpdate(o.elementType===o.type?Re:Rr(o.type,Re),Mt);G.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){Dt(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,Ee=i;break}Ee=o.return}return Ie=n0,n0=!1,Ie}function Sl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&_f(o,l,y)}m=m.next}while(m!==h)}}function Sc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function wf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function r0(i){var o=i.alternate;o!==null&&(i.alternate=null,r0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Xr],delete o[hl],delete o[Mh],delete o[aS],delete o[lS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function i0(i){return i.tag===5||i.tag===3||i.tag===4}function s0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||i0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ef(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ec));else if(h!==4&&(i=i.child,i!==null))for(Ef(i,o,l),i=i.sibling;i!==null;)Ef(i,o,l),i=i.sibling}function Tf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Tf(i,o,l),i=i.sibling;i!==null;)Tf(i,o,l),i=i.sibling}var nn=null,Ar=!1;function fs(i,o,l){for(l=l.child;l!==null;)o0(i,o,l),l=l.sibling}function o0(i,o,l){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(jn,l)}catch{}switch(l.tag){case 5:fn||ua(l,o);case 6:var h=nn,m=Ar;nn=null,fs(i,o,l),nn=h,Ar=m,nn!==null&&(Ar?(i=nn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):nn.removeChild(l.stateNode));break;case 18:nn!==null&&(Ar?(i=nn,l=l.stateNode,i.nodeType===8?Lh(i.parentNode,l):i.nodeType===1&&Lh(i,l),Tr(i)):Lh(nn,l.stateNode));break;case 4:h=nn,m=Ar,nn=l.stateNode.containerInfo,Ar=!0,fs(i,o,l),nn=h,Ar=m;break;case 0:case 11:case 14:case 15:if(!fn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&_f(l,o,T),m=m.next}while(m!==h)}fs(i,o,l);break;case 1:if(!fn&&(ua(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){Dt(l,o,k)}fs(i,o,l);break;case 21:fs(i,o,l);break;case 22:l.mode&1?(fn=(h=fn)||l.memoizedState!==null,fs(i,o,l),fn=h):fs(i,o,l);break;default:fs(i,o,l)}}function a0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new IS),o.forEach(function(h){var m=LS.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function kr(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=i,T=o,k=T;e:for(;k!==null;){switch(k.tag){case 5:nn=k.stateNode,Ar=!1;break e;case 3:nn=k.stateNode.containerInfo,Ar=!0;break e;case 4:nn=k.stateNode.containerInfo,Ar=!0;break e}k=k.return}if(nn===null)throw Error(t(160));o0(y,T,m),nn=null,Ar=!1;var N=m.alternate;N!==null&&(N.return=null),m.return=null}catch(K){Dt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)l0(o,i),o=o.sibling}function l0(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(kr(o,i),ti(i),h&4){try{Sl(3,i,i.return),Sc(3,i)}catch(Re){Dt(i,i.return,Re)}try{Sl(5,i,i.return)}catch(Re){Dt(i,i.return,Re)}}break;case 1:kr(o,i),ti(i),h&512&&l!==null&&ua(l,l.return);break;case 5:if(kr(o,i),ti(i),h&512&&l!==null&&ua(l,l.return),i.flags&32){var m=i.stateNode;try{zr(m,"")}catch(Re){Dt(i,i.return,Re)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,k=i.type,N=i.updateQueue;if(i.updateQueue=null,N!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Ks(m,y),Br(k,T);var K=Br(k,y);for(T=0;T<N.length;T+=2){var ie=N[T],ae=N[T+1];ie==="style"?Qi(m,ae):ie==="dangerouslySetInnerHTML"?vi(m,ae):ie==="children"?zr(m,ae):J(m,ie,ae,K)}switch(k){case"input":Wi(m,y);break;case"textarea":gi(m,y);break;case"select":var ne=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ge=y.value;ge!=null?vr(m,!!y.multiple,ge,!1):ne!==!!y.multiple&&(y.defaultValue!=null?vr(m,!!y.multiple,y.defaultValue,!0):vr(m,!!y.multiple,y.multiple?[]:"",!1))}m[hl]=y}catch(Re){Dt(i,i.return,Re)}}break;case 6:if(kr(o,i),ti(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Re){Dt(i,i.return,Re)}}break;case 3:if(kr(o,i),ti(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Tr(o.containerInfo)}catch(Re){Dt(i,i.return,Re)}break;case 4:kr(o,i),ti(i);break;case 13:kr(o,i),ti(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Cf=lt())),h&4&&a0(i);break;case 22:if(ie=l!==null&&l.memoizedState!==null,i.mode&1?(fn=(K=fn)||ie,kr(o,i),fn=K):kr(o,i),ti(i),h&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ie&&(i.mode&1)!==0)for(Ee=i,ie=i.child;ie!==null;){for(ae=Ee=ie;Ee!==null;){switch(ne=Ee,ge=ne.child,ne.tag){case 0:case 11:case 14:case 15:Sl(4,ne,ne.return);break;case 1:ua(ne,ne.return);var Ie=ne.stateNode;if(typeof Ie.componentWillUnmount=="function"){h=ne,l=ne.return;try{o=h,Ie.props=o.memoizedProps,Ie.state=o.memoizedState,Ie.componentWillUnmount()}catch(Re){Dt(h,l,Re)}}break;case 5:ua(ne,ne.return);break;case 22:if(ne.memoizedState!==null){d0(ae);continue}}ge!==null?(ge.return=ne,Ee=ge):d0(ae)}ie=ie.sibling}e:for(ie=null,ae=i;;){if(ae.tag===5){if(ie===null){ie=ae;try{m=ae.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=ae.stateNode,N=ae.memoizedProps.style,T=N!=null&&N.hasOwnProperty("display")?N.display:null,k.style.display=Ki("display",T))}catch(Re){Dt(i,i.return,Re)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=K?"":ae.memoizedProps}catch(Re){Dt(i,i.return,Re)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:kr(o,i),ti(i),h&4&&a0(i);break;case 21:break;default:kr(o,i),ti(i)}}function ti(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(i0(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(zr(m,""),h.flags&=-33);var y=s0(i);Tf(i,y,m);break;case 3:case 4:var T=h.stateNode.containerInfo,k=s0(i);Ef(i,k,T);break;default:throw Error(t(161))}}catch(N){Dt(i,i.return,N)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function RS(i,o,l){Ee=i,u0(i)}function u0(i,o,l){for(var h=(i.mode&1)!==0;Ee!==null;){var m=Ee,y=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||Tc;if(!T){var k=m.alternate,N=k!==null&&k.memoizedState!==null||fn;k=Tc;var K=fn;if(Tc=T,(fn=N)&&!K)for(Ee=m;Ee!==null;)T=Ee,N=T.child,T.tag===22&&T.memoizedState!==null?h0(m):N!==null?(N.return=T,Ee=N):h0(m);for(;y!==null;)Ee=y,u0(y),y=y.sibling;Ee=m,Tc=k,fn=K}c0(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,Ee=y):c0(i)}}function c0(i){for(;Ee!==null;){var o=Ee;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:fn||Sc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!fn)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Rr(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&dy(o,y,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}dy(o,T,l)}break;case 5:var k=o.stateNode;if(l===null&&o.flags&4){l=k;var N=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&Tr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}fn||o.flags&512&&wf(o)}catch(ne){Dt(o,o.return,ne)}}if(o===i){Ee=null;break}if(l=o.sibling,l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function d0(i){for(;Ee!==null;){var o=Ee;if(o===i){Ee=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function h0(i){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Sc(4,o)}catch(N){Dt(o,l,N)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(N){Dt(o,m,N)}}var y=o.return;try{wf(o)}catch(N){Dt(o,y,N)}break;case 5:var T=o.return;try{wf(o)}catch(N){Dt(o,T,N)}}}catch(N){Dt(o,o.return,N)}if(o===i){Ee=null;break}var k=o.sibling;if(k!==null){k.return=o.return,Ee=k;break}Ee=o.return}}var AS=Math.ceil,Ic=se.ReactCurrentDispatcher,Sf=se.ReactCurrentOwner,cr=se.ReactCurrentBatchConfig,at=0,Yt=null,Ft=null,rn=0,Wn=0,ca=ls(0),Ht=0,Il=null,fo=0,Cc=0,If=0,Cl=null,Nn=null,Cf=0,da=1/0,Mi=null,Rc=!1,Rf=null,ps=null,Ac=!1,ms=null,kc=0,Rl=0,Af=null,xc=-1,Pc=0;function In(){return(at&6)!==0?lt():xc!==-1?xc:xc=lt()}function gs(i){return(i.mode&1)===0?1:(at&2)!==0&&rn!==0?rn&-rn:cS.transition!==null?(Pc===0&&(Pc=eo()),Pc):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:el(i.type)),i)}function xr(i,o,l,h){if(50<Rl)throw Rl=0,Af=null,Error(t(185));es(i,l,h),((at&2)===0||i!==Yt)&&(i===Yt&&((at&2)===0&&(Cc|=l),Ht===4&&ys(i,rn)),Ln(i,h),l===1&&at===0&&(o.mode&1)===0&&(da=lt()+500,ic&&cs()))}function Ln(i,o){var l=i.callbackNode;Si(i,o);var h=Zs(i,i===Yt?rn:0);if(h===0)l!==null&&An(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&An(l),o===1)i.tag===0?uS(p0.bind(null,i)):Zg(p0.bind(null,i)),sS(function(){(at&6)===0&&cs()}),l=null;else{switch(ns(h)){case 1:l=rr;break;case 4:l=Un;break;case 16:l=Be;break;case 536870912:l=Ei;break;default:l=Be}l=T0(l,f0.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function f0(i,o){if(xc=-1,Pc=0,(at&6)!==0)throw Error(t(327));var l=i.callbackNode;if(ha()&&i.callbackNode!==l)return null;var h=Zs(i,i===Yt?rn:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=bc(i,h);else{o=h;var m=at;at|=2;var y=g0();(Yt!==i||rn!==o)&&(Mi=null,da=lt()+500,mo(i,o));do try{PS();break}catch(k){m0(i,k)}while(!0);Gh(),Ic.current=y,at=m,Ft!==null?o=0:(Yt=null,rn=0,o=Ht)}if(o!==0){if(o===2&&(m=zn(i),m!==0&&(h=m,o=kf(i,m))),o===1)throw l=Il,mo(i,0),ys(i,h),Ln(i,lt()),l;if(o===6)ys(i,h);else{if(m=i.current.alternate,(h&30)===0&&!kS(m)&&(o=bc(i,h),o===2&&(y=zn(i),y!==0&&(h=y,o=kf(i,y))),o===1))throw l=Il,mo(i,0),ys(i,h),Ln(i,lt()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:go(i,Nn,Mi);break;case 3:if(ys(i,h),(h&130023424)===h&&(o=Cf+500-lt(),10<o)){if(Zs(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){In(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Nh(go.bind(null,i,Nn,Mi),o);break}go(i,Nn,Mi);break;case 4:if(ys(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var T=31-qt(h);y=1<<T,T=o[T],T>m&&(m=T),h&=~y}if(h=m,h=lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*AS(h/1960))-h,10<h){i.timeoutHandle=Nh(go.bind(null,i,Nn,Mi),h);break}go(i,Nn,Mi);break;case 5:go(i,Nn,Mi);break;default:throw Error(t(329))}}}return Ln(i,lt()),i.callbackNode===l?f0.bind(null,i):null}function kf(i,o){var l=Cl;return i.current.memoizedState.isDehydrated&&(mo(i,o).flags|=256),i=bc(i,o),i!==2&&(o=Nn,Nn=l,o!==null&&xf(o)),i}function xf(i){Nn===null?Nn=i:Nn.push.apply(Nn,i)}function kS(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Ir(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ys(i,o){for(o&=~If,o&=~Cc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-qt(o),h=1<<l;i[l]=-1,o&=~h}}function p0(i){if((at&6)!==0)throw Error(t(327));ha();var o=Zs(i,0);if((o&1)===0)return Ln(i,lt()),null;var l=bc(i,o);if(i.tag!==0&&l===2){var h=zn(i);h!==0&&(o=h,l=kf(i,h))}if(l===1)throw l=Il,mo(i,0),ys(i,o),Ln(i,lt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,go(i,Nn,Mi),Ln(i,lt()),null}function Pf(i,o){var l=at;at|=1;try{return i(o)}finally{at=l,at===0&&(da=lt()+500,ic&&cs())}}function po(i){ms!==null&&ms.tag===0&&(at&6)===0&&ha();var o=at;at|=1;var l=cr.transition,h=Ze;try{if(cr.transition=null,Ze=1,i)return i()}finally{Ze=h,cr.transition=l,at=o,(at&6)===0&&cs()}}function bf(){Wn=ca.current,Tt(ca)}function mo(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,iS(l)),Ft!==null)for(l=Ft.return;l!==null;){var h=l;switch(Uh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&nc();break;case 3:aa(),Tt(Pn),Tt(cn),Xh();break;case 5:Yh(h);break;case 4:aa();break;case 13:Tt(At);break;case 19:Tt(At);break;case 10:Hh(h.type._context);break;case 22:case 23:bf()}l=l.return}if(Yt=i,Ft=i=vs(i.current,null),rn=Wn=o,Ht=0,Il=null,If=Cc=fo=0,Nn=Cl=null,uo!==null){for(o=0;o<uo.length;o++)if(l=uo[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,h.next=T}l.pending=h}uo=null}return i}function m0(i,o){do{var l=Ft;try{if(Gh(),pc.current=vc,mc){for(var h=kt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}mc=!1}if(ho=0,Qt=Gt=kt=null,vl=!1,_l=0,Sf.current=null,l===null||l.return===null){Ht=1,Il=o,Ft=null;break}e:{var y=i,T=l.return,k=l,N=o;if(o=rn,k.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=N,ie=k,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=jy(T);if(ge!==null){ge.flags&=-257,zy(ge,T,k,y,o),ge.mode&1&&Uy(y,K,o),o=ge,N=K;var Ie=o.updateQueue;if(Ie===null){var Re=new Set;Re.add(N),o.updateQueue=Re}else Ie.add(N);break e}else{if((o&1)===0){Uy(y,K,o),Df();break e}N=Error(t(426))}}else if(Rt&&k.mode&1){var Mt=jy(T);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),zy(Mt,T,k,y,o),$h(la(N,k));break e}}y=N=la(N,k),Ht!==4&&(Ht=2),Cl===null?Cl=[y]:Cl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var G=Vy(y,N,o);cy(y,G);break e;case 1:k=N;var V=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ps===null||!ps.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var ce=Fy(y,k,o);cy(y,ce);break e}}y=y.return}while(y!==null)}v0(l)}catch(xe){o=xe,Ft===l&&l!==null&&(Ft=l=l.return);continue}break}while(!0)}function g0(){var i=Ic.current;return Ic.current=vc,i===null?vc:i}function Df(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Yt===null||(fo&268435455)===0&&(Cc&268435455)===0||ys(Yt,rn)}function bc(i,o){var l=at;at|=2;var h=g0();(Yt!==i||rn!==o)&&(Mi=null,mo(i,o));do try{xS();break}catch(m){m0(i,m)}while(!0);if(Gh(),at=l,Ic.current=h,Ft!==null)throw Error(t(261));return Yt=null,rn=0,Ht}function xS(){for(;Ft!==null;)y0(Ft)}function PS(){for(;Ft!==null&&!En();)y0(Ft)}function y0(i){var o=E0(i.alternate,i,Wn);i.memoizedProps=i.pendingProps,o===null?v0(i):Ft=o,Sf.current=null}function v0(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=TS(l,o,Wn),l!==null){Ft=l;return}}else{if(l=SS(l,o),l!==null){l.flags&=32767,Ft=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ht=6,Ft=null;return}}if(o=o.sibling,o!==null){Ft=o;return}Ft=o=i}while(o!==null);Ht===0&&(Ht=5)}function go(i,o,l){var h=Ze,m=cr.transition;try{cr.transition=null,Ze=1,bS(i,o,l,h)}finally{cr.transition=m,Ze=h}return null}function bS(i,o,l,h){do ha();while(ms!==null);if((at&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(_t(i,y),i===Yt&&(Ft=Yt=null,rn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ac||(Ac=!0,T0(Be,function(){return ha(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=cr.transition,cr.transition=null;var T=Ze;Ze=1;var k=at;at|=4,Sf.current=null,CS(i,l),l0(l,i),JT(bh),is=!!Ph,bh=Ph=null,i.current=l,RS(l),Js(),at=k,Ze=T,cr.transition=y}else i.current=l;if(Ac&&(Ac=!1,ms=i,kc=m),y=i.pendingLanes,y===0&&(ps=null),Ti(l.stateNode),Ln(i,lt()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Rc)throw Rc=!1,i=Rf,Rf=null,i;return(kc&1)!==0&&i.tag!==0&&ha(),y=i.pendingLanes,(y&1)!==0?i===Af?Rl++:(Rl=0,Af=i):Rl=0,cs(),null}function ha(){if(ms!==null){var i=ns(kc),o=cr.transition,l=Ze;try{if(cr.transition=null,Ze=16>i?16:i,ms===null)var h=!1;else{if(i=ms,ms=null,kc=0,(at&6)!==0)throw Error(t(331));var m=at;for(at|=4,Ee=i.current;Ee!==null;){var y=Ee,T=y.child;if((Ee.flags&16)!==0){var k=y.deletions;if(k!==null){for(var N=0;N<k.length;N++){var K=k[N];for(Ee=K;Ee!==null;){var ie=Ee;switch(ie.tag){case 0:case 11:case 15:Sl(8,ie,y)}var ae=ie.child;if(ae!==null)ae.return=ie,Ee=ae;else for(;Ee!==null;){ie=Ee;var ne=ie.sibling,ge=ie.return;if(r0(ie),ie===K){Ee=null;break}if(ne!==null){ne.return=ge,Ee=ne;break}Ee=ge}}}var Ie=y.alternate;if(Ie!==null){var Re=Ie.child;if(Re!==null){Ie.child=null;do{var Mt=Re.sibling;Re.sibling=null,Re=Mt}while(Re!==null)}}Ee=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,Ee=T;else e:for(;Ee!==null;){if(y=Ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Sl(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,Ee=G;break e}Ee=y.return}}var V=i.current;for(Ee=V;Ee!==null;){T=Ee;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,Ee=q;else e:for(T=V;Ee!==null;){if(k=Ee,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Sc(9,k)}}catch(xe){Dt(k,k.return,xe)}if(k===T){Ee=null;break e}var ce=k.sibling;if(ce!==null){ce.return=k.return,Ee=ce;break e}Ee=k.return}}if(at=m,cs(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(jn,i)}catch{}h=!0}return h}finally{Ze=l,cr.transition=o}}return!1}function _0(i,o,l){o=la(l,o),o=Vy(i,o,1),i=hs(i,o,1),o=In(),i!==null&&(es(i,1,o),Ln(i,o))}function Dt(i,o,l){if(i.tag===3)_0(i,i,l);else for(;o!==null;){if(o.tag===3){_0(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ps===null||!ps.has(h))){i=la(l,i),i=Fy(o,i,1),o=hs(o,i,1),i=In(),o!==null&&(es(o,1,i),Ln(o,i));break}}o=o.return}}function DS(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=In(),i.pingedLanes|=i.suspendedLanes&l,Yt===i&&(rn&l)===l&&(Ht===4||Ht===3&&(rn&130023424)===rn&&500>lt()-Cf?mo(i,0):If|=l),Ln(i,o)}function w0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Mo,Mo<<=1,(Mo&130023424)===0&&(Mo=4194304)));var l=In();i=Di(i,o),i!==null&&(es(i,o,l),Ln(i,l))}function NS(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),w0(i,l)}function LS(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),w0(i,l)}var E0;E0=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Pn.current)Dn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Dn=!1,ES(i,o,l);Dn=(i.flags&131072)!==0}else Dn=!1,Rt&&(o.flags&1048576)!==0&&ey(o,oc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Ec(i,o),i=o.pendingProps;var m=ea(o,cn.current);oa(o,l),m=tf(null,o,h,i,m,l);var y=nf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,bn(h)?(y=!0,rc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Kh(o),m.updater=_c,o.stateNode=m,m._reactInternals=o,uf(o,h,i,l),o=ff(null,o,h,!0,y,l)):(o.tag=0,Rt&&y&&Fh(o),Sn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Ec(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=OS(h),i=Rr(h,i),m){case 0:o=hf(null,o,h,i,l);break e;case 1:o=qy(null,o,h,i,l);break e;case 11:o=$y(null,o,h,i,l);break e;case 14:o=By(null,o,h,Rr(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Rr(h,m),hf(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Rr(h,m),qy(i,o,h,m,l);case 3:e:{if(Ky(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,uy(i,o),hc(o,h,null,l);var T=o.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=la(Error(t(423)),o),o=Qy(i,o,h,l,m);break e}else if(h!==m){m=la(Error(t(424)),o),o=Qy(i,o,h,l,m);break e}else for(Hn=as(o.stateNode.containerInfo.firstChild),Gn=o,Rt=!0,Cr=null,l=ay(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ra(),h===m){o=Li(i,o,l);break e}Sn(i,o,h,l)}o=o.child}return o;case 5:return hy(o),i===null&&zh(o),h=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,T=m.children,Dh(h,m)?T=null:y!==null&&Dh(h,y)&&(o.flags|=32),Wy(i,o),Sn(i,o,T,l),o.child;case 6:return i===null&&zh(o),null;case 13:return Yy(i,o,l);case 4:return Qh(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ia(o,null,h,l):Sn(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Rr(h,m),$y(i,o,h,m,l);case 7:return Sn(i,o,o.pendingProps,l),o.child;case 8:return Sn(i,o,o.pendingProps.children,l),o.child;case 12:return Sn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,wt(uc,h._currentValue),h._currentValue=T,y!==null)if(Ir(y.value,T)){if(y.children===m.children&&!Pn.current){o=Li(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var k=y.dependencies;if(k!==null){T=y.child;for(var N=k.firstContext;N!==null;){if(N.context===h){if(y.tag===1){N=Ni(-1,l&-l),N.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?N.next=N:(N.next=ie.next,ie.next=N),K.pending=N}}y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),Wh(y.return,l,o),k.lanes|=l;break}N=N.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,k=T.alternate,k!==null&&(k.lanes|=l),Wh(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Sn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,oa(o,l),m=lr(m),h=h(m),o.flags|=1,Sn(i,o,h,l),o.child;case 14:return h=o.type,m=Rr(h,o.pendingProps),m=Rr(h.type,m),By(i,o,h,m,l);case 15:return Gy(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Rr(h,m),Ec(i,o),o.tag=1,bn(h)?(i=!0,rc(o)):i=!1,oa(o,l),My(o,h,m),uf(o,h,m,l),ff(null,o,h,!0,i,l);case 19:return Xy(i,o,l);case 22:return Hy(i,o,l)}throw Error(t(156,o.tag))};function T0(i,o){return tr(i,o)}function MS(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(i,o,l,h){return new MS(i,o,l,h)}function Nf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function OS(i){if(typeof i=="function")return Nf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===Ke)return 14}return 2}function vs(i,o){var l=i.alternate;return l===null?(l=dr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Dc(i,o,l,h,m,y){var T=2;if(h=i,typeof i=="function")Nf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case P:return yo(l.children,m,y,o);case R:T=8,m|=8;break;case A:return i=dr(12,l,o,m|2),i.elementType=A,i.lanes=y,i;case C:return i=dr(13,l,o,m),i.elementType=C,i.lanes=y,i;case Te:return i=dr(19,l,o,m),i.elementType=Te,i.lanes=y,i;case Ae:return Nc(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:T=10;break e;case M:T=9;break e;case j:T=11;break e;case Ke:T=14;break e;case ye:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=dr(T,l,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function yo(i,o,l,h){return i=dr(7,i,h,o),i.lanes=l,i}function Nc(i,o,l,h){return i=dr(22,i,h,o),i.elementType=Ae,i.lanes=l,i.stateNode={isHidden:!1},i}function Lf(i,o,l){return i=dr(6,i,null,o),i.lanes=l,i}function Mf(i,o,l){return o=dr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function VS(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Of(i,o,l,h,m,y,T,k,N){return i=new VS(i,o,l,k,N),o===1?(o=1,y===!0&&(o|=8)):o=0,y=dr(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(y),i}function FS(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function S0(i){if(!i)return us;i=i._reactInternals;e:{if(et(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(bn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(bn(l))return Jg(i,l,o)}return o}function I0(i,o,l,h,m,y,T,k,N){return i=Of(l,h,!0,i,m,y,T,k,N),i.context=S0(null),l=i.current,h=In(),m=gs(l),y=Ni(h,m),y.callback=o??null,hs(l,y,m),i.current.lanes=m,es(i,m,h),Ln(i,h),i}function Lc(i,o,l,h){var m=o.current,y=In(),T=gs(m);return l=S0(l),o.context===null?o.context=l:o.pendingContext=l,o=Ni(y,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=hs(m,o,T),i!==null&&(xr(i,m,T,y),dc(i,m,T)),T}function Mc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function C0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Vf(i,o){C0(i,o),(i=i.alternate)&&C0(i,o)}function US(){return null}var R0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ff(i){this._internalRoot=i}Oc.prototype.render=Ff.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Lc(i,o,null,null)},Oc.prototype.unmount=Ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;po(function(){Lc(null,i,null,null)}),o[ki]=null}};function Oc(i){this._internalRoot=i}Oc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ou();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Kr.length&&o!==0&&o<Kr[l].priority;l++);Kr.splice(l,0,i),l===0&&Uu(i)}};function Uf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Vc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function A0(){}function jS(i,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var K=Mc(T);y.call(K)}}var T=I0(o,h,i,0,null,!1,!1,"",A0);return i._reactRootContainer=T,i[ki]=T.current,cl(i.nodeType===8?i.parentNode:i),po(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var k=h;h=function(){var K=Mc(N);k.call(K)}}var N=Of(i,0,!1,null,null,!1,!1,"",A0);return i._reactRootContainer=N,i[ki]=N.current,cl(i.nodeType===8?i.parentNode:i),po(function(){Lc(o,N,l,h)}),N}function Fc(i,o,l,h,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var k=m;m=function(){var N=Mc(T);k.call(N)}}Lc(o,T,i,m)}else T=jS(l,o,i,m,h);return Mc(T)}Lu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Xi(o.pendingLanes);l!==0&&(ts(o,l|1),Ln(o,lt()),(at&6)===0&&(da=lt()+500,cs()))}break;case 13:po(function(){var h=Di(i,1);if(h!==null){var m=In();xr(h,i,1,m)}}),Vf(i,1)}},Oo=function(i){if(i.tag===13){var o=Di(i,134217728);if(o!==null){var l=In();xr(o,i,134217728,l)}Vf(i,134217728)}},Mu=function(i){if(i.tag===13){var o=gs(i),l=Di(i,o);if(l!==null){var h=In();xr(l,i,o,h)}Vf(i,o)}},Ou=function(){return Ze},Vu=function(i,o){var l=Ze;try{return Ze=i,o()}finally{Ze=l}},Ji=function(i,o,l){switch(o){case"input":if(Wi(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=tc(h);if(!m)throw Error(t(90));mi(h),Wi(h,m)}}}break;case"textarea":gi(i,l);break;case"select":o=l.value,o!=null&&vr(i,!!l.multiple,o,!1)}},wi=Pf,Ys=po;var zS={usingClientEntryPoint:!1,Events:[fl,Xo,tc,wn,Wr,Pf]},Al={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$S={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ct(i),i===null?null:i.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||US,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{jn=Uc.inject($S),ot=Uc}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zS,Mn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(o))throw Error(t(200));return FS(i,o,null,l)},Mn.createRoot=function(i,o){if(!Uf(i))throw Error(t(299));var l=!1,h="",m=R0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Of(i,1,!1,null,null,l,!1,h,m),i[ki]=o.current,cl(i.nodeType===8?i.parentNode:i),new Ff(o)},Mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ct(o),i=i===null?null:i.stateNode,i},Mn.flushSync=function(i){return po(i)},Mn.hydrate=function(i,o,l){if(!Vc(o))throw Error(t(200));return Fc(null,i,o,!0,l)},Mn.hydrateRoot=function(i,o,l){if(!Uf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",T=R0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=I0(o,null,i,1,l??null,m,!1,y,T),i[ki]=o.current,cl(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Oc(o)},Mn.render=function(i,o,l){if(!Vc(o))throw Error(t(200));return Fc(null,i,o,!1,l)},Mn.unmountComponentAtNode=function(i){if(!Vc(i))throw Error(t(40));return i._reactRootContainer?(po(function(){Fc(null,null,i,!1,function(){i._reactRootContainer=null,i[ki]=null})}),!0):!1},Mn.unstable_batchedUpdates=Pf,Mn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Vc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Fc(i,o,l,!1,h)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var M0;function mw(){if(M0)return $f.exports;M0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$f.exports=QS(),$f.exports}var O0;function YS(){if(O0)return jc;O0=1;var n=mw();return jc.createRoot=n.createRoot,jc.hydrateRoot=n.hydrateRoot,jc}var V0=YS(),Hf,F0;function JS(){if(F0)return Hf;F0=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var d,f,p;if(Array.isArray(a)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(!s(a[f],u[f]))return!1;return!0}var v;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!u.has(f.value[0]))return!1;for(v=a.entries();!(f=v.next()).done;)if(!s(f.value[1],u.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(a[f]!==u[f])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(p=Object.keys(a),d=p.length,d!==Object.keys(u).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,p[f]))return!1;if(n&&a instanceof Element)return!1;for(f=d;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&a.$$typeof)&&!s(a[p[f]],u[p[f]]))return!1;return!0}return a!==a&&u!==u}return Hf=function(u,d){try{return s(u,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Hf}var XS=JS();const ZS=Ud(XS);var Wf,U0;function e2(){if(U0)return Wf;U0=1;var n=function(e,t,r,s,a,u,d,f){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,s,a,u,d,f],w=0;p=new Error(t.replace(/%s/g,function(){return v[w++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Wf=n,Wf}var t2=e2();const j0=Ud(t2);var qf,z0;function n2(){return z0||(z0=1,qf=function(e,t,r,s){var a=r?r.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),p=0;p<u.length;p++){var v=u[p];if(!f(v))return!1;var w=e[v],E=t[v];if(a=r?r.call(s,w,E,v):void 0,a===!1||a===void 0&&w!==E)return!1}return!0}),qf}var r2=n2();const i2=Ud(r2);var gw=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(gw||{}),Kf={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},$0=Object.values(gw),im={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},s2=Object.entries(im).reduce((n,[e,t])=>(n[t]=e,n),{}),Pr="data-rh",Ta={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Sa=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},o2=n=>{let e=Sa(n,"title");const t=Sa(n,Ta.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Sa(n,Ta.DEFAULT_TITLE);return e||r||void 0},a2=n=>Sa(n,Ta.ON_CHANGE_CLIENT_STATE)||(()=>{}),Qf=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),l2=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const d=s[a].toLowerCase();if(n.indexOf(d)!==-1&&r[d])return t.concat(r)}}return t},[]),u2=n=>console&&typeof console.warn=="function"&&console.warn(n),xl=(n,e,t)=>{const r={};return t.filter(s=>Array.isArray(s[n])?!0:(typeof s[n]<"u"&&u2(`Helmet: ${n} should be of type "Array". Instead found type "${typeof s[n]}"`),!1)).map(s=>s[n]).reverse().reduce((s,a)=>{const u={};a.filter(f=>{let p;const v=Object.keys(f);for(let E=0;E<v.length;E+=1){const I=v[E],x=I.toLowerCase();e.indexOf(x)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(x==="rel"&&f[x].toLowerCase()==="stylesheet")&&(p=x),e.indexOf(I)!==-1&&(I==="innerHTML"||I==="cssText"||I==="itemprop")&&(p=I)}if(!p||!f[p])return!1;const w=f[p].toLowerCase();return r[p]||(r[p]={}),u[p]||(u[p]={}),r[p][w]?!1:(u[p][w]=!0,!0)}).reverse().forEach(f=>s.push(f));const d=Object.keys(u);for(let f=0;f<d.length;f+=1){const p=d[f],v={...r[p],...u[p]};r[p]=v}return s},[]).reverse()},c2=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},d2=n=>({baseTag:l2(["href"],n),bodyAttributes:Qf("bodyAttributes",n),defer:Sa(n,Ta.DEFER),encode:Sa(n,Ta.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Qf("htmlAttributes",n),linkTags:xl("link",["rel","href"],n),metaTags:xl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:xl("noscript",["innerHTML"],n),onChangeClientState:a2(n),scriptTags:xl("script",["src","innerHTML"],n),styleTags:xl("style",["cssText"],n),title:o2(n),titleAttributes:Qf("titleAttributes",n),prioritizeSeoTags:c2(n,Ta.PRIORITIZE_SEO_TAGS)}),yw=n=>Array.isArray(n)?n.join(""):n,h2=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},Yf=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(h2(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},B0=(n,e)=>({...n,[e]:void 0}),f2=["noscript","script","style"],mp=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),vw=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),p2=(n,e,t,r)=>{const s=vw(t),a=yw(e);return s?`<${n} ${Pr}="true" ${s}>${mp(a,r)}</${n}>`:`<${n} ${Pr}="true">${mp(a,r)}</${n}>`},m2=(n,e,t=!0)=>e.reduce((r,s)=>{const a=s,u=Object.keys(a).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,v)=>{const w=typeof a[v]>"u"?v:`${v}="${mp(a[v],t)}"`;return p?`${p} ${w}`:w},""),d=a.innerHTML||a.cssText||"",f=f2.indexOf(n)===-1;return`${r}<${n} ${Pr}="true" ${u}${f?"/>":`>${d}</${n}>`}`},""),_w=(n,e={})=>Object.keys(n).reduce((t,r)=>{const s=im[r];return t[s||r]=n[r],t},e),g2=(n,e,t)=>{const r={key:e,[Pr]:!0},s=_w(t,r);return[As.createElement("title",s,e)]},Xc=(n,e)=>e.map((t,r)=>{const s={key:r,[Pr]:!0};return Object.keys(t).forEach(a=>{const d=im[a]||a;if(d==="innerHTML"||d==="cssText"){const f=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:f}}else s[d]=t[a]}),As.createElement(n,s)}),hr=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>g2(n,e.title,e.titleAttributes),toString:()=>p2(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>_w(e),toString:()=>vw(e)};default:return{toComponent:()=>Xc(n,e),toString:()=>m2(n,e,t)}}},y2=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const s=Yf(n,Kf.meta),a=Yf(e,Kf.link),u=Yf(t,Kf.script);return{priorityMethods:{toComponent:()=>[...Xc("meta",s.priority),...Xc("link",a.priority),...Xc("script",u.priority)],toString:()=>`${hr("meta",s.priority,r)} ${hr("link",a.priority,r)} ${hr("script",u.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:u.default}},v2=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:u,title:d="",titleAttributes:f,prioritizeSeoTags:p}=n;let{linkTags:v,metaTags:w,scriptTags:E}=n,I={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:I,linkTags:v,metaTags:w,scriptTags:E}=y2(n)),{priority:I,base:hr("base",e,r),bodyAttributes:hr("bodyAttributes",t,r),htmlAttributes:hr("htmlAttributes",s,r),link:hr("link",v,r),meta:hr("meta",w,r),noscript:hr("noscript",a,r),script:hr("script",E,r),style:hr("style",u,r),title:hr("title",{title:d,titleAttributes:f},r)}},gp=v2,zc=[],ww=!!(typeof window<"u"&&window.document&&window.document.createElement),yp=class{instances=[];canUseDOM=ww;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?zc:this.instances,add:n=>{(this.canUseDOM?zc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?zc:this.instances).indexOf(n);(this.canUseDOM?zc:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=gp({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},_2={},Ew=As.createContext(_2),vp=class Tw extends O.Component{static canUseDOM=ww;helmetData;constructor(e){super(e),this.helmetData=new yp(this.props.context||{},Tw.canUseDOM)}render(){return As.createElement(Ew.Provider,{value:this.helmetData.value},this.props.children)}},fa=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Pr}]`),s=[].slice.call(r),a=[];let u;return e&&e.length&&e.forEach(d=>{const f=document.createElement(n);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p))if(p==="innerHTML")f.innerHTML=d.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const v=p,w=typeof d[v]>"u"?"":d[v];f.setAttribute(p,w)}f.setAttribute(Pr,"true"),s.some((p,v)=>(u=v,f.isEqualNode(p)))?s.splice(u,1):a.push(f)}),s.forEach(d=>d.parentNode?.removeChild(d)),a.forEach(d=>t.appendChild(d)),{oldTags:s,newTags:a}},_p=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Pr),s=r?r.split(","):[],a=[...s],u=Object.keys(e);for(const d of u){const f=e[d]||"";t.getAttribute(d)!==f&&t.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);const p=a.indexOf(d);p!==-1&&a.splice(p,1)}for(let d=a.length-1;d>=0;d-=1)t.removeAttribute(a[d]);s.length===a.length?t.removeAttribute(Pr):t.getAttribute(Pr)!==u.join(",")&&t.setAttribute(Pr,u.join(","))},w2=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=yw(n)),_p("title",e)},G0=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:u,noscriptTags:d,onChangeClientState:f,scriptTags:p,styleTags:v,title:w,titleAttributes:E}=n;_p("body",r),_p("html",s),w2(w,E);const I={baseTag:fa("base",t),linkTags:fa("link",a),metaTags:fa("meta",u),noscriptTags:fa("noscript",d),scriptTags:fa("script",p),styleTags:fa("style",v)},x={},z={};Object.keys(I).forEach(F=>{const{newTags:H,oldTags:Z}=I[F];H.length&&(x[F]=H),Z.length&&(z[F]=I[F].oldTags)}),e&&e(),f(n,x,z)},Pl=null,E2=n=>{Pl&&cancelAnimationFrame(Pl),n.defer?Pl=requestAnimationFrame(()=>{G0(n,()=>{Pl=null})}):(G0(n),Pl=null)},T2=E2,H0=class extends O.Component{rendered=!1;shouldComponentUpdate(n){return!i2(n,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:n}=this.props.context;n.remove(this),this.emitChange()}emitChange(){const{helmetInstances:n,setHelmet:e}=this.props.context;let t=null;const r=d2(n.get().map(s=>{const a={...s.props};return delete a.context,a}));vp.canUseDOM?T2(r):gp&&(t=gp(r)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:n}=this.props.context;n.add(this),this.emitChange()}render(){return this.init(),null}},S2=class extends O.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(n){return!ZS(B0(this.props,"helmetData"),B0(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return j0($0.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${$0.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),j0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return As.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,u=Object.keys(a).reduce((f,p)=>(f[s2[p]||p]=a[p],f),{});let{type:d}=r;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(r,s),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,u,s);break;default:e=this.mapObjectTypeChildren(r,e,u,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof yp)){const s=r;r=new yp(s.context,!0),delete t.helmetData}return r?As.createElement(H0,{...t,context:r.value}):As.createElement(Ew.Consumer,null,s=>As.createElement(H0,{...t,context:s}))}};/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sw=n=>{throw TypeError(n)},I2=(n,e,t)=>e.has(n)||Sw("Cannot "+t),Jf=(n,e,t)=>(I2(n,e,"read from private field"),t?t.call(n):e.get(n)),C2=(n,e,t)=>e.has(n)?Sw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),W0="popstate";function R2(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return Ql("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Vs(s)}return k2(e,t,null,n)}function qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A2(){return Math.random().toString(36).substring(2,10)}function q0(n,e){return{usr:n.state,key:n.key,idx:e}}function Ql(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Hs(e):e,state:t,key:e&&e.key||r||A2()}}function Vs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Hs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function k2(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){d="POP";let F=v(),H=F==null?null:F-p;p=F,f&&f({action:d,location:z.location,delta:H})}function E(F,H){d="PUSH";let Z=Ql(z.location,F,H);p=v()+1;let J=q0(Z,p),se=z.createHref(Z);try{u.pushState(J,"",se)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;s.location.assign(se)}a&&f&&f({action:d,location:z.location,delta:1})}function I(F,H){d="REPLACE";let Z=Ql(z.location,F,H);p=v();let J=q0(Z,p),se=z.createHref(Z);u.replaceState(J,"",se),a&&f&&f({action:d,location:z.location,delta:0})}function x(F){return Iw(F)}let z={get action(){return d},get location(){return n(s,u)},listen(F){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(W0,w),f=F,()=>{s.removeEventListener(W0,w),f=null}},createHref(F){return e(s,F)},createURL:x,encodeLocation(F){let H=x(F);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:I,go(F){return u.go(F)}};return z}function Iw(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),qe(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Vs(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var Ol,K0=class{constructor(n){if(C2(this,Ol,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Jf(this,Ol).has(n))return Jf(this,Ol).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Jf(this,Ol).set(n,e)}};Ol=new WeakMap;var x2=new Set(["lazy","caseSensitive","path","id","index","children"]);function P2(n){return x2.has(n)}var b2=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function D2(n){return b2.has(n)}function N2(n){return n.index===!0}function Yl(n,e,t=[],r={},s=!1){return n.map((a,u)=>{let d=[...t,String(u)],f=typeof a.id=="string"?a.id:d.join("-");if(qe(a.index!==!0||!a.children,"Cannot specify children on an index route"),qe(s||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),N2(a)){let p={...a,...e(a),id:f};return r[f]=p,p}else{let p={...a,...e(a),id:f,children:void 0};return r[f]=p,a.children&&(p.children=Yl(a.children,e,d,r,s)),p}})}function Ts(n,e,t="/"){return Zc(n,e,t,!1)}function Zc(n,e,t,r){let s=typeof e=="string"?Hs(e):e,a=mr(s.pathname||"/",t);if(a==null)return null;let u=Cw(n);M2(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=W2(a);d=G2(u[f],p,r)}return d}function L2(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function Cw(n,e=[],t=[],r="",s=!1){let a=(u,d,f=s,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;qe(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let w=oi([r,v.relativePath]),E=t.concat(v);u.children&&u.children.length>0&&(qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Cw(u.children,e,E,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:$2(w,u.index),routesMeta:E})};return n.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))a(u,d);else for(let f of Rw(u.path))a(u,d,!0,f)}),e}function Rw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Rw(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function M2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:B2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var O2=/^:[\w-]+$/,V2=3,F2=2,U2=1,j2=10,z2=-2,Q0=n=>n==="*";function $2(n,e){let t=n.split("/"),r=t.length;return t.some(Q0)&&(r+=z2),e&&(r+=F2),t.filter(s=>!Q0(s)).reduce((s,a)=>s+(O2.test(a)?V2:a===""?U2:j2),r)}function B2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function G2(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=pd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),E=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=pd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:oi([a,w.pathname]),pathnameBase:Y2(oi([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=oi([a,w.pathnameBase]))}return u}function pd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=H2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:w},E)=>{if(v==="*"){let x=d[E]||"";u=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const I=d[E];return w&&!I?p[v]=void 0:p[v]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function H2(n,e=!1,t=!0){Nt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function W2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function mr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function q2({basename:n,pathname:e}){return e==="/"?n:oi([n,e])}function K2(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Hs(n):n;return{pathname:t?t.startsWith("/")?t:Q2(t,e):e,search:J2(r),hash:X2(s)}}function Q2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Xf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Aw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jd(n){let e=Aw(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function zd(n,e,t,r=!1){let s;typeof n=="string"?s=Hs(n):(s={...n},qe(!s.pathname||!s.pathname.includes("?"),Xf("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),Xf("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),Xf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}d=w>=0?e[w]:"/"}let f=K2(s,d),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var oi=n=>n.join("/").replace(/\/\/+/g,"/"),Y2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),J2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,X2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,md=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function xa(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var kw=["POST","PUT","PATCH","DELETE"],Z2=new Set(kw),eI=["GET",...kw],tI=new Set(eI),nI=new Set([301,302,303,307,308]),rI=new Set([307,308]),Zf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},iI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sm=n=>sI.test(n),oI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),xw="remix-router-transitions",Pw=Symbol("ResetLoaderData");function aI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||oI,a={},u=Yl(n.routes,s,void 0,a),d,f=n.basename||"/",p=n.dataStrategy||hI,v={unstable_middleware:!1,...n.future},w=null,E=new Set,I=null,x=null,z=null,F=n.hydrationData!=null,H=Ts(u,n.history.location,f),Z=!1,J=null,se;if(H==null&&!n.patchRoutesOnNavigation){let D=fr(404,{pathname:n.history.location.pathname}),{matches:$,route:W}=av(u);se=!0,H=$,J={[W.id]:D}}else if(H&&!n.hydrationData&&wn(H,u,n.history.location.pathname).active&&(H=null),H)if(H.some(D=>D.route.lazy))se=!1;else if(!H.some(D=>D.route.loader))se=!0;else{let D=n.hydrationData?n.hydrationData.loaderData:null,$=n.hydrationData?n.hydrationData.errors:null;if($){let W=H.findIndex(oe=>$[oe.route.id]!==void 0);se=H.slice(0,W+1).every(oe=>!Ep(oe.route,D,$))}else se=H.every(W=>!Ep(W.route,D,$))}else{se=!1,H=[];let D=wn(null,u,n.history.location.pathname);D.active&&D.matches&&(Z=!0,H=D.matches)}let de,U={historyAction:n.history.action,location:n.history.location,matches:H,initialized:se,navigation:Zf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||J,fetchers:new Map,blockers:new Map},P="POP",R=!1,A,b=!1,M=new Map,j=null,C=!1,Te=!1,Ke=new Set,ye=new Map,Ae=0,re=-1,me=new Map,le=new Set,L=new Map,X=new Map,pe=new Set,Oe=new Map,$e,Ge=null;function it(){if(w=n.history.listen(({action:D,location:$,delta:W})=>{if($e){$e(),$e=void 0;return}Nt(Oe.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Gr({currentLocation:U.location,nextLocation:$,historyAction:D});if(oe&&W!=null){let ue=new Promise(Se=>{$e=Se});n.history.go(W*-1),Br(oe,{state:"blocked",location:$,proceed(){Br(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),ue.then(()=>n.history.go(W))},reset(){let Se=new Map(U.blockers);Se.set(oe,bl),Xe({blockers:Se})}});return}return vn(D,$)}),t){II(e,M);let D=()=>CI(e,M);e.addEventListener("pagehide",D),j=()=>e.removeEventListener("pagehide",D)}return U.initialized||vn("POP",U.location,{initialHydration:!0}),de}function st(){w&&w(),j&&j(),E.clear(),A&&A.abort(),U.fetchers.forEach((D,$)=>vi($)),U.blockers.forEach((D,$)=>Yi($))}function ft(D){return E.add(D),()=>E.delete(D)}function Xe(D,$={}){D.matches&&(D.matches=D.matches.map(ue=>{let Se=a[ue.route.id],Ce=ue.route;return Ce.element!==Se.element||Ce.errorElement!==Se.errorElement||Ce.hydrateFallbackElement!==Se.hydrateFallbackElement?{...ue,route:Se}:ue})),U={...U,...D};let W=[],oe=[];U.fetchers.forEach((ue,Se)=>{ue.state==="idle"&&(pe.has(Se)?W.push(Se):oe.push(Se))}),pe.forEach(ue=>{!U.fetchers.has(ue)&&!ye.has(ue)&&W.push(ue)}),[...E].forEach(ue=>ue(U,{deletedFetchers:W,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),W.forEach(ue=>vi(ue)),oe.forEach(ue=>U.fetchers.delete(ue))}function ln(D,$,{flushSync:W}={}){let oe=U.actionData!=null&&U.navigation.formMethod!=null&&Vn(U.navigation.formMethod)&&U.navigation.state==="loading"&&D.state?._isRedirect!==!0,ue;$.actionData?Object.keys($.actionData).length>0?ue=$.actionData:ue=null:oe?ue=U.actionData:ue=null;let Se=$.loaderData?sv(U.loaderData,$.loaderData,$.matches||[],$.errors):U.loaderData,Ce=U.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Pe,ke)=>Ce.set(ke,bl)));let _e=C?!1:_i(D,$.matches||U.matches),we=R===!0||U.navigation.formMethod!=null&&Vn(U.navigation.formMethod)&&D.state?._isRedirect!==!0;d&&(u=d,d=void 0),C||P==="POP"||(P==="PUSH"?n.history.push(D,D.state):P==="REPLACE"&&n.history.replace(D,D.state));let De;if(P==="POP"){let Pe=M.get(U.location.pathname);Pe&&Pe.has(D.pathname)?De={currentLocation:U.location,nextLocation:D}:M.has(D.pathname)&&(De={currentLocation:D,nextLocation:U.location})}else if(b){let Pe=M.get(U.location.pathname);Pe?Pe.add(D.pathname):(Pe=new Set([D.pathname]),M.set(U.location.pathname,Pe)),De={currentLocation:U.location,nextLocation:D}}Xe({...$,actionData:ue,loaderData:Se,historyAction:P,location:D,initialized:!0,navigation:Zf,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:we,blockers:Ce},{viewTransitionOpts:De,flushSync:W===!0}),P="POP",R=!1,b=!1,C=!1,Te=!1,Ge?.resolve(),Ge=null}async function mi(D,$){if(typeof D=="number"){n.history.go(D);return}let W=wp(U.location,U.matches,f,D,$?.fromRouteId,$?.relative),{path:oe,submission:ue,error:Se}=Y0(!1,W,$),Ce=U.location,_e=Ql(U.location,oe,$&&$.state);_e={..._e,...n.history.encodeLocation(_e)};let we=$&&$.replace!=null?$.replace:void 0,De="PUSH";we===!0?De="REPLACE":we===!1||ue!=null&&Vn(ue.formMethod)&&ue.formAction===U.location.pathname+U.location.search&&(De="REPLACE");let Pe=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,ke=($&&$.flushSync)===!0,He=Gr({currentLocation:Ce,nextLocation:_e,historyAction:De});if(He){Br(He,{state:"blocked",location:_e,proceed(){Br(He,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),mi(D,$)},reset(){let et=new Map(U.blockers);et.set(He,bl),Xe({blockers:et})}});return}await vn(De,_e,{submission:ue,pendingError:Se,preventScrollReset:Pe,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:ke})}function jr(){Ge||(Ge=RI()),yi(),Xe({revalidation:"loading"});let D=Ge.promise;return U.navigation.state==="submitting"?D:U.navigation.state==="idle"?(vn(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),D):(vn(P||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:b===!0}),D)}async function vn(D,$,W){A&&A.abort(),A=null,P=D,C=(W&&W.startUninterruptedRevalidation)===!0,er(U.location,U.matches),R=(W&&W.preventScrollReset)===!0,b=(W&&W.enableViewTransition)===!0;let oe=d||u,ue=W&&W.overrideNavigation,Se=W?.initialHydration&&U.matches&&U.matches.length>0&&!Z?U.matches:Ts(oe,$,f),Ce=(W&&W.flushSync)===!0;if(Se&&U.initialized&&!Te&&_I(U.location,$)&&!(W&&W.submission&&Vn(W.submission.formMethod))){ln($,{matches:Se},{flushSync:Ce});return}let _e=wn(Se,oe,$.pathname);if(_e.active&&_e.matches&&(Se=_e.matches),!Se){let{error:vt,notFoundMatches:mt,route:ct}=Hr($.pathname);ln($,{matches:mt,loaderData:{},errors:{[ct.id]:vt}},{flushSync:Ce});return}A=new AbortController;let we=ga(n.history,$,A.signal,W&&W.submission),De=n.unstable_getContext?await n.unstable_getContext():new K0,Pe;if(W&&W.pendingError)Pe=[Ss(Se).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&Vn(W.submission.formMethod)){let vt=await Hi(we,$,W.submission,Se,De,_e.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:Ce});if(vt.shortCircuited)return;if(vt.pendingActionResult){let[mt,ct]=vt.pendingActionResult;if(qn(ct)&&xa(ct.error)&&ct.error.status===404){A=null,ln($,{matches:vt.matches,loaderData:{},errors:{[mt]:ct.error}});return}}Se=vt.matches||Se,Pe=vt.pendingActionResult,ue=ep($,W.submission),Ce=!1,_e.active=!1,we=ga(n.history,we.url,we.signal)}let{shortCircuited:ke,matches:He,loaderData:et,errors:It}=await Ks(we,$,Se,De,_e.active,ue,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Ce,Pe);ke||(A=null,ln($,{matches:He||Se,...ov(Pe),loaderData:et,errors:It}))}async function Hi(D,$,W,oe,ue,Se,Ce,_e={}){yi();let we=TI($,W);if(Xe({navigation:we},{flushSync:_e.flushSync===!0}),Se){let ke=await Wr(oe,$.pathname,D.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let He=Ss(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[He,{type:"error",error:ke.error}]}}else if(ke.matches)oe=ke.matches;else{let{notFoundMatches:He,error:et,route:It}=Hr($.pathname);return{matches:He,pendingActionResult:[It.id,{type:"error",error:et}]}}}let De,Pe=ed(oe,$);if(!Pe.route.action&&!Pe.route.lazy)De={type:"error",error:fr(405,{method:D.method,pathname:$.pathname,routeId:Pe.route.id})};else{let ke=Ia(s,a,D,oe,Pe,Ce?[]:r,ue),He=await Xn(D,ke,ue,null);if(De=He[Pe.route.id],!De){for(let et of oe)if(He[et.route.id]){De=He[et.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(_o(De)){let ke;return _e&&_e.replace!=null?ke=_e.replace:ke=nv(De.response.headers.get("Location"),new URL(D.url),f)===U.location.pathname+U.location.search,await Fn(D,De,!0,{submission:W,replace:ke}),{shortCircuited:!0}}if(qn(De)){let ke=Ss(oe,Pe.route.id);return(_e&&_e.replace)!==!0&&(P="PUSH"),{matches:oe,pendingActionResult:[ke.route.id,De,Pe.route.id]}}return{matches:oe,pendingActionResult:[Pe.route.id,De]}}async function Ks(D,$,W,oe,ue,Se,Ce,_e,we,De,Pe,ke){let He=Se||ep($,Ce),et=Ce||_e||uv(He),It=!C&&!De;if(ue){if(It){let bt=Wi(ke);Xe({navigation:He,...bt!==void 0?{actionData:bt}:{}},{flushSync:Pe})}let Be=await Wr(W,$.pathname,D.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){let bt=Ss(Be.partialMatches).route.id;return{matches:Be.partialMatches,loaderData:{},errors:{[bt]:Be.error}}}else if(Be.matches)W=Be.matches;else{let{error:bt,notFoundMatches:Ei,route:jn}=Hr($.pathname);return{matches:Ei,loaderData:{},errors:{[jn.id]:bt}}}}let vt=d||u,{dsMatches:mt,revalidatingFetchers:ct}=J0(D,oe,s,a,n.history,U,W,et,$,De?[]:r,De===!0,Te,Ke,pe,L,le,vt,f,n.patchRoutesOnNavigation!=null,ke);if(re=++Ae,!n.dataStrategy&&!mt.some(Be=>Be.shouldLoad)&&!mt.some(Be=>Be.route.unstable_middleware)&&ct.length===0){let Be=Ki();return ln($,{matches:W,loaderData:{},errors:ke&&qn(ke[1])?{[ke[0]]:ke[1].error}:null,...ov(ke),...Be?{fetchers:new Map(U.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(It){let Be={};if(!ue){Be.navigation=He;let bt=Wi(ke);bt!==void 0&&(Be.actionData=bt)}ct.length>0&&(Be.fetchers=No(ct)),Xe(Be,{flushSync:Pe})}ct.forEach(Be=>{un(Be.key),Be.controller&&ye.set(Be.key,Be.controller)});let Rn=()=>ct.forEach(Be=>un(Be.key));A&&A.signal.addEventListener("abort",Rn);let{loaderResults:tr,fetcherResults:An}=await gi(mt,ct,D,oe);if(D.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Rn),ct.forEach(Be=>ye.delete(Be.key));let En=$c(tr);if(En)return await Fn(D,En.result,!0,{replace:we}),{shortCircuited:!0};if(En=$c(An),En)return le.add(En.key),await Fn(D,En.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Js,errors:lt}=iv(U,W,tr,ke,ct,An);De&&U.errors&&(lt={...U.errors,...lt});let nr=Ki(),rr=Qi(re),Un=nr||rr||ct.length>0;return{matches:W,loaderData:Js,errors:lt,...Un?{fetchers:new Map(U.fetchers)}:{}}}function Wi(D){if(D&&!qn(D[1]))return{[D[0]]:D[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function No(D){return D.forEach($=>{let W=U.fetchers.get($.key),oe=Dl(void 0,W?W.data:void 0);U.fetchers.set($.key,oe)}),new Map(U.fetchers)}async function qi(D,$,W,oe){un(D);let ue=(oe&&oe.flushSync)===!0,Se=d||u,Ce=wp(U.location,U.matches,f,W,$,oe?.relative),_e=Ts(Se,Ce,f),we=wn(_e,Se,Ce);if(we.active&&we.matches&&(_e=we.matches),!_e){dt(D,$,fr(404,{pathname:Ce}),{flushSync:ue});return}let{path:De,submission:Pe,error:ke}=Y0(!0,Ce,oe);if(ke){dt(D,$,ke,{flushSync:ue});return}let He=n.unstable_getContext?await n.unstable_getContext():new K0,et=(oe&&oe.preventScrollReset)===!0;if(Pe&&Vn(Pe.formMethod)){await yr(D,$,De,_e,He,we.active,ue,et,Pe);return}L.set(D,{routeId:$,path:De}),await vr(D,$,De,_e,He,we.active,ue,et,Pe)}async function yr(D,$,W,oe,ue,Se,Ce,_e,we){yi(),L.delete(D);let De=U.fetchers.get(D);pt(D,SI(we,De),{flushSync:Ce});let Pe=new AbortController,ke=ga(n.history,W,Pe.signal,we);if(Se){let ot=await Wr(oe,new URL(ke.url).pathname,ke.signal,D);if(ot.type==="aborted")return;if(ot.type==="error"){dt(D,$,ot.error,{flushSync:Ce});return}else if(ot.matches)oe=ot.matches;else{dt(D,$,fr(404,{pathname:W}),{flushSync:Ce});return}}let He=ed(oe,W);if(!He.route.action&&!He.route.lazy){let ot=fr(405,{method:we.formMethod,pathname:W,routeId:$});dt(D,$,ot,{flushSync:Ce});return}ye.set(D,Pe);let et=Ae,It=Ia(s,a,ke,oe,He,r,ue),mt=(await Xn(ke,It,ue,D))[He.route.id];if(ke.signal.aborted){ye.get(D)===Pe&&ye.delete(D);return}if(pe.has(D)){if(_o(mt)||qn(mt)){pt(D,Es(void 0));return}}else{if(_o(mt))if(ye.delete(D),re>et){pt(D,Es(void 0));return}else return le.add(D),pt(D,Dl(we)),Fn(ke,mt,!1,{fetcherSubmission:we,preventScrollReset:_e});if(qn(mt)){dt(D,$,mt.error);return}}let ct=U.navigation.location||U.location,Rn=ga(n.history,ct,Pe.signal),tr=d||u,An=U.navigation.state!=="idle"?Ts(tr,U.navigation.location,f):U.matches;qe(An,"Didn't find any matches after fetcher action");let En=++Ae;me.set(D,En);let Js=Dl(we,mt.data);U.fetchers.set(D,Js);let{dsMatches:lt,revalidatingFetchers:nr}=J0(Rn,ue,s,a,n.history,U,An,we,ct,r,!1,Te,Ke,pe,L,le,tr,f,n.patchRoutesOnNavigation!=null,[He.route.id,mt]);nr.filter(ot=>ot.key!==D).forEach(ot=>{let Ti=ot.key,qt=U.fetchers.get(Ti),Xs=Dl(void 0,qt?qt.data:void 0);U.fetchers.set(Ti,Xs),un(Ti),ot.controller&&ye.set(Ti,ot.controller)}),Xe({fetchers:new Map(U.fetchers)});let rr=()=>nr.forEach(ot=>un(ot.key));Pe.signal.addEventListener("abort",rr);let{loaderResults:Un,fetcherResults:Be}=await gi(lt,nr,Rn,ue);if(Pe.signal.aborted)return;if(Pe.signal.removeEventListener("abort",rr),me.delete(D),ye.delete(D),nr.forEach(ot=>ye.delete(ot.key)),U.fetchers.has(D)){let ot=Es(mt.data);U.fetchers.set(D,ot)}let bt=$c(Un);if(bt)return Fn(Rn,bt.result,!1,{preventScrollReset:_e});if(bt=$c(Be),bt)return le.add(bt.key),Fn(Rn,bt.result,!1,{preventScrollReset:_e});let{loaderData:Ei,errors:jn}=iv(U,An,Un,void 0,nr,Be);Qi(En),U.navigation.state==="loading"&&En>re?(qe(P,"Expected pending action"),A&&A.abort(),ln(U.navigation.location,{matches:An,loaderData:Ei,errors:jn,fetchers:new Map(U.fetchers)})):(Xe({errors:jn,loaderData:sv(U.loaderData,Ei,An,jn),fetchers:new Map(U.fetchers)}),Te=!1)}async function vr(D,$,W,oe,ue,Se,Ce,_e,we){let De=U.fetchers.get(D);pt(D,Dl(we,De?De.data:void 0),{flushSync:Ce});let Pe=new AbortController,ke=ga(n.history,W,Pe.signal);if(Se){let ct=await Wr(oe,new URL(ke.url).pathname,ke.signal,D);if(ct.type==="aborted")return;if(ct.type==="error"){dt(D,$,ct.error,{flushSync:Ce});return}else if(ct.matches)oe=ct.matches;else{dt(D,$,fr(404,{pathname:W}),{flushSync:Ce});return}}let He=ed(oe,W);ye.set(D,Pe);let et=Ae,It=Ia(s,a,ke,oe,He,r,ue),mt=(await Xn(ke,It,ue,D))[He.route.id];if(ye.get(D)===Pe&&ye.delete(D),!ke.signal.aborted){if(pe.has(D)){pt(D,Es(void 0));return}if(_o(mt))if(re>et){pt(D,Es(void 0));return}else{le.add(D),await Fn(ke,mt,!1,{preventScrollReset:_e});return}if(qn(mt)){dt(D,$,mt.error);return}pt(D,Es(mt.data))}}async function Fn(D,$,W,{submission:oe,fetcherSubmission:ue,preventScrollReset:Se,replace:Ce}={}){$.response.headers.has("X-Remix-Revalidate")&&(Te=!0);let _e=$.response.headers.get("Location");qe(_e,"Expected a Location header on the redirect Response"),_e=nv(_e,new URL(D.url),f);let we=Ql(U.location,_e,{_isRedirect:!0});if(t){let It=!1;if($.response.headers.has("X-Remix-Reload-Document"))It=!0;else if(sm(_e)){const vt=Iw(_e,!0);It=vt.origin!==e.location.origin||mr(vt.pathname,f)==null}if(It){Ce?e.location.replace(_e):e.location.assign(_e);return}}A=null;let De=Ce===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:ke,formEncType:He}=U.navigation;!oe&&!ue&&Pe&&ke&&He&&(oe=uv(U.navigation));let et=oe||ue;if(rI.has($.response.status)&&et&&Vn(et.formMethod))await vn(De,we,{submission:{...et,formAction:_e},preventScrollReset:Se||R,enableViewTransition:W?b:void 0});else{let It=ep(we,oe);await vn(De,we,{overrideNavigation:It,fetcherSubmission:ue,preventScrollReset:Se||R,enableViewTransition:W?b:void 0})}}async function Xn(D,$,W,oe){let ue,Se={};try{ue=await fI(p,D,$,oe,W,!1)}catch(Ce){return $.filter(_e=>_e.shouldLoad).forEach(_e=>{Se[_e.route.id]={type:"error",error:Ce}}),Se}if(D.signal.aborted)return Se;for(let[Ce,_e]of Object.entries(ue))if(wI(_e)){let we=_e.result;Se[Ce]={type:"redirect",response:yI(we,D,Ce,$,f)}}else Se[Ce]=await gI(_e);return Se}async function gi(D,$,W,oe){let ue=Xn(W,D,oe,null),Se=Promise.all($.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Pe=(await Xn(we.request,we.matches,oe,we.key))[we.match.route.id];return{[we.key]:Pe}}else return Promise.resolve({[we.key]:{type:"error",error:fr(404,{pathname:we.path})}})})),Ce=await ue,_e=(await Se).reduce((we,De)=>Object.assign(we,De),{});return{loaderResults:Ce,fetcherResults:_e}}function yi(){Te=!0,L.forEach((D,$)=>{ye.has($)&&Ke.add($),un($)})}function pt(D,$,W={}){U.fetchers.set(D,$),Xe({fetchers:new Map(U.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function dt(D,$,W,oe={}){let ue=Ss(U.matches,$);vi(D),Xe({errors:{[ue.route.id]:W},fetchers:new Map(U.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Zn(D){return X.set(D,(X.get(D)||0)+1),pe.has(D)&&pe.delete(D),U.fetchers.get(D)||iI}function vi(D){let $=U.fetchers.get(D);ye.has(D)&&!($&&$.state==="loading"&&me.has(D))&&un(D),L.delete(D),me.delete(D),le.delete(D),pe.delete(D),Ke.delete(D),U.fetchers.delete(D)}function zr(D){let $=(X.get(D)||0)-1;$<=0?(X.delete(D),pe.add(D)):X.set(D,$),Xe({fetchers:new Map(U.fetchers)})}function un(D){let $=ye.get(D);$&&($.abort(),ye.delete(D))}function $r(D){for(let $ of D){let W=Zn($),oe=Es(W.data);U.fetchers.set($,oe)}}function Ki(){let D=[],$=!1;for(let W of le){let oe=U.fetchers.get(W);qe(oe,`Expected fetcher: ${W}`),oe.state==="loading"&&(le.delete(W),D.push(W),$=!0)}return $r(D),$}function Qi(D){let $=[];for(let[W,oe]of me)if(oe<D){let ue=U.fetchers.get(W);qe(ue,`Expected fetcher: ${W}`),ue.state==="loading"&&(un(W),me.delete(W),$.push(W))}return $r($),$.length>0}function Qs(D,$){let W=U.blockers.get(D)||bl;return Oe.get(D)!==$&&Oe.set(D,$),W}function Yi(D){U.blockers.delete(D),Oe.delete(D)}function Br(D,$){let W=U.blockers.get(D)||bl;qe(W.state==="unblocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="proceeding"||W.state==="blocked"&&$.state==="unblocked"||W.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${$.state}`);let oe=new Map(U.blockers);oe.set(D,$),Xe({blockers:oe})}function Gr({currentLocation:D,nextLocation:$,historyAction:W}){if(Oe.size===0)return;Oe.size>1&&Nt(!1,"A router only supports one blocker at a time");let oe=Array.from(Oe.entries()),[ue,Se]=oe[oe.length-1],Ce=U.blockers.get(ue);if(!(Ce&&Ce.state==="proceeding")&&Se({currentLocation:D,nextLocation:$,historyAction:W}))return ue}function Hr(D){let $=fr(404,{pathname:D}),W=d||u,{matches:oe,route:ue}=av(W);return{notFoundMatches:oe,route:ue,error:$}}function Ji(D,$,W){if(I=D,z=$,x=W||null,!F&&U.navigation===Zf){F=!0;let oe=_i(U.location,U.matches);oe!=null&&Xe({restoreScrollPosition:oe})}return()=>{I=null,z=null,x=null}}function _n(D,$){return x&&x(D,$.map(oe=>L2(oe,U.loaderData)))||D.key}function er(D,$){if(I&&z){let W=_n(D,$);I[W]=z()}}function _i(D,$){if(I){let W=_n(D,$),oe=I[W];if(typeof oe=="number")return oe}return null}function wn(D,$,W){if(n.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Zc($,W,f,!0)}}else return{active:!0,matches:Zc($,W,f,!0)||[]};return{active:!1,matches:null}}async function Wr(D,$,W,oe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:D};let ue=D;for(;;){let Se=d==null,Ce=d||u,_e=a;try{await n.patchRoutesOnNavigation({signal:W,path:$,matches:ue,fetcherKey:oe,patch:(Pe,ke)=>{W.aborted||X0(Pe,ke,Ce,_e,s,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:ue}}finally{Se&&!W.aborted&&(u=[...u])}if(W.aborted)return{type:"aborted"};let we=Ts(Ce,$,f);if(we)return{type:"success",matches:we};let De=Zc(Ce,$,f,!0);if(!De||ue.length===De.length&&ue.every((Pe,ke)=>Pe.route.id===De[ke].route.id))return{type:"success",matches:null};ue=De}}function wi(D){a={},d=Yl(D,s,void 0,a)}function Ys(D,$,W=!1){let oe=d==null;X0(D,$,d||u,a,s,W),oe&&(u=[...u],Xe({}))}return de={get basename(){return f},get future(){return v},get state(){return U},get routes(){return u},get window(){return e},initialize:it,subscribe:ft,enableScrollRestoration:Ji,navigate:mi,fetch:qi,revalidate:jr,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:Zn,deleteFetcher:zr,dispose:st,getBlocker:Qs,deleteBlocker:Yi,patchRoutes:Ys,_internalFetchControllers:ye,_internalSetRoutes:wi,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){Xe(D)}},de}function lI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function wp(n,e,t,r,s,a){let u,d;if(s){u=[];for(let p of e)if(u.push(p),p.route.id===s){d=p;break}}else u=e,d=e[e.length-1];let f=zd(r||".",jd(u),mr(n.pathname,t)||n.pathname,a==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&d){let p=om(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let v=new URLSearchParams(f.search),w=v.getAll("index");v.delete("index"),w.filter(I=>I).forEach(I=>v.append("index",I));let E=v.toString();f.search=E?`?${E}`:""}}return t!=="/"&&(f.pathname=q2({basename:t,pathname:f.pathname})),Vs(f)}function Y0(n,e,t){if(!t||!lI(t))return{path:e};if(t.formMethod&&!EI(t.formMethod))return{path:e,error:fr(405,{method:t.formMethod})};let r=()=>({path:e,error:fr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=Vw(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Vn(a))return r();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[I,x])=>`${E}${I}=${x}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!Vn(a))return r();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}qe(typeof FormData=="function","FormData is not available in this environment");let d,f;if(t.formData)d=Sp(t.formData),f=t.formData;else if(t.body instanceof FormData)d=Sp(t.body),f=t.body;else if(t.body instanceof URLSearchParams)d=t.body,f=rv(d);else if(t.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(t.body),f=rv(d)}catch{return r()}let p={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vn(p.formMethod))return{path:e,submission:p};let v=Hs(e);return n&&v.search&&om(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Vs(v),submission:p}}function J0(n,e,t,r,s,a,u,d,f,p,v,w,E,I,x,z,F,H,Z,J){let se=J?qn(J[1])?J[1].error:J[1].data:void 0,de=s.createURL(a.location),U=s.createURL(f),P;if(v&&a.errors){let C=Object.keys(a.errors)[0];P=u.findIndex(Te=>Te.route.id===C)}else if(J&&qn(J[1])){let C=J[0];P=u.findIndex(Te=>Te.route.id===C)-1}let R=J?J[1].statusCode:void 0,A=R&&R>=400,b={currentUrl:de,currentParams:a.matches[0]?.params||{},nextUrl:U,nextParams:u[0].params,...d,actionResult:se,actionStatus:R},M=u.map((C,Te)=>{let{route:Ke}=C,ye=null;if(P!=null&&Te>P?ye=!1:Ke.lazy?ye=!0:Ke.loader==null?ye=!1:v?ye=Ep(Ke,a.loaderData,a.errors):uI(a.loaderData,a.matches[Te],C)&&(ye=!0),ye!==null)return Tp(t,r,n,C,p,e,ye);let Ae=A?!1:w||de.pathname+de.search===U.pathname+U.search||de.search!==U.search||cI(a.matches[Te],C),re={...b,defaultShouldRevalidate:Ae},me=gd(C,re);return Tp(t,r,n,C,p,e,me,re)}),j=[];return x.forEach((C,Te)=>{if(v||!u.some(X=>X.route.id===C.routeId)||I.has(Te))return;let Ke=a.fetchers.get(Te),ye=Ke&&Ke.state!=="idle"&&Ke.data===void 0,Ae=Ts(F,C.path,H);if(!Ae){if(Z&&ye)return;j.push({key:Te,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(z.has(Te))return;let re=ed(Ae,C.path),me=new AbortController,le=ga(s,C.path,me.signal),L=null;if(E.has(Te))E.delete(Te),L=Ia(t,r,le,Ae,re,p,e);else if(ye)w&&(L=Ia(t,r,le,Ae,re,p,e));else{let X={...b,defaultShouldRevalidate:A?!1:w};gd(re,X)&&(L=Ia(t,r,le,Ae,re,p,e,X))}L&&j.push({key:Te,routeId:C.routeId,path:C.path,matches:L,match:re,request:le,controller:me})}),{dsMatches:M,revalidatingFetchers:j}}function Ep(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function uI(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function cI(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function gd(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function X0(n,e,t,r,s,a){let u;if(n){let p=r[n];qe(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),u=p.children}else u=t;let d=[],f=[];if(e.forEach(p=>{let v=u.find(w=>bw(p,w));v?f.push({existingRoute:v,newRoute:p}):d.push(p)}),d.length>0){let p=Yl(d,s,[n||"_","patch",String(u?.length||"0")],r);u.push(...p)}if(a&&f.length>0)for(let p=0;p<f.length;p++){let{existingRoute:v,newRoute:w}=f[p],E=v,[I]=Yl([w],s,[],{},!0);Object.assign(E,{element:I.element?I.element:E.element,errorElement:I.errorElement?I.errorElement:E.errorElement,hydrateFallbackElement:I.hydrateFallbackElement?I.hydrateFallbackElement:E.hydrateFallbackElement})}}function bw(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>e.children?.some(s=>bw(t,s))):!1}var Z0=new WeakMap,Dw=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(qe(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[n];if(!a)return;let u=Z0.get(s);u||(u={},Z0.set(s,u));let d=u[n];if(d)return d;let f=(async()=>{let p=P2(n),w=s[n]!==void 0&&n!=="hasErrorBoundary";if(p)Nt(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(w)Nt(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await a();E!=null&&(Object.assign(s,{[n]:E}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[n]=f,f},ev=new WeakMap;function dI(n,e,t,r,s){let a=t[n.id];if(qe(a,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let v=ev.get(a);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let w=(async()=>{qe(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),I={};for(let x in E){let z=E[x];if(z===void 0)continue;let F=D2(x),Z=a[x]!==void 0&&x!=="hasErrorBoundary";F?Nt(!F,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Z?Nt(!Z,`Route "${a.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):I[x]=z}Object.assign(a,I),Object.assign(a,{...r(a),lazy:void 0})})();return ev.set(a,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(n.lazy),d=[],f;for(let v of u){if(s&&s.includes(v))continue;let w=Dw({key:v,route:n,manifest:t,mapRouteProperties:r});w&&(d.push(w),v===e&&(f=w))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function tv(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{t[e[a].route.id]=s}),t}async function hI(n){if(!n.matches.some(t=>t.route.unstable_middleware))return tv(n);let e=!1;return Lw(n,()=>(e=!0,tv(n)),(t,r)=>Nw(t,r,n.matches,e))}function Nw(n,e,t,r){if(r)return{[e]:{type:"error",result:n}};{let s=Math.min(t.findIndex(u=>u.route.id===e)||0,t.findIndex(u=>u.unstable_shouldCallHandler())||0);return{[Ss(t,t[s].route.id).route.id]:{type:"error",result:n}}}}async function Lw(n,e,t){let{matches:r,request:s,params:a,context:u}=n,d=r.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(v=>[p.route.id,v]):[]),f={};return await Mw({request:s,params:a,context:u},d,e,t,f),f}async function Mw(n,e,t,r,s={},a=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=e[a];if(!d){let E=await t();Object.assign(s,E);return}let[f,p]=d,v=!1,w=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0;try{let E=await Mw(n,e,t,r,s,a+1);Object.assign(s,E)}catch(E){let I=await r(E,f);Object.assign(s,I)}};try{let E=await p({request:n.request,params:n.params,context:n.context},w);typeof E<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",E),v||await w()}catch(E){let I=await r(E,f);Object.assign(s,I)}}function Ow(n,e,t,r,s){let a=Dw({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=dI(r.route,Vn(t.method)?"action":"loader",e,n,s);return{middleware:a,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Tp(n,e,t,r,s,a,u,d=null){let f=!1,p=Ow(n,e,t,r,s);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return f=!0,d?typeof v=="boolean"?gd(r,{...d,defaultShouldRevalidate:v}):gd(r,d):u},resolve(v){return f||u||v&&!Vn(t.method)&&(r.route.lazy||r.route.loader)?pI({request:t,match:r,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Ia(n,e,t,r,s,a,u,d=null){return r.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:Ow(n,e,t,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Tp(n,e,t,f,a,u,!0,d))}async function fI(n,e,t,r,s,a){t.some(p=>p._lazyPromises?.middleware)&&await Promise.all(t.map(p=>p._lazyPromises?.middleware));let u={request:e,params:t[0].params,context:s,matches:t},f=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let v=u,w=!1;return Lw(v,()=>(w=!0,p({...v,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(E,I)=>Nw(E,I,t,w))}});try{await Promise.all(t.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return f}async function pI({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:s,scopedContext:a}){let u,d,f=Vn(n.method),p=f?"action":"loader",v=w=>{let E,I=new Promise((F,H)=>E=H);d=()=>E(),n.signal.addEventListener("abort",d);let x=F=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:n,params:e.params,context:a},...F!==void 0?[F]:[]),z=(async()=>{try{return{type:"data",result:await(s?s(H=>x(H)):x())}}catch(F){return{type:"error",result:F}}})();return Promise.race([z,I])};try{let w=f?e.route.action:e.route.loader;if(t||r)if(w){let E,[I]=await Promise.all([v(w).catch(x=>{E=x}),t,r]);if(E!==void 0)throw E;u=I}else{await t;let E=f?e.route.action:e.route.loader;if(E)[u]=await Promise.all([v(E),r]);else if(p==="action"){let I=new URL(n.url),x=I.pathname+I.search;throw fr(405,{method:n.method,pathname:x,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)u=await v(w);else{let E=new URL(n.url),I=E.pathname+E.search;throw fr(404,{pathname:I})}}catch(w){return{type:"error",result:w}}finally{d&&n.signal.removeEventListener("abort",d)}return u}async function mI(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function gI(n){let{result:e,type:t}=n;if(Fw(e)){let r;try{r=await mI(e)}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new md(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return t==="error"?lv(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new md(e.init?.status||500,void 0,e.data),statusCode:xa(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:xa(e)?e.status:void 0}:lv(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function yI(n,e,t,r,s){let a=n.headers.get("Location");if(qe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!sm(a)){let u=r.slice(0,r.findIndex(d=>d.route.id===t)+1);a=wp(new URL(e.url),u,s,a),n.headers.set("Location",a)}return n}function nv(n,e,t){if(sm(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=mr(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function ga(n,e,t,r){let s=n.createURL(Vw(e)).toString(),a={signal:t};if(r&&Vn(r.formMethod)){let{formMethod:u,formEncType:d}=r;a.method=u.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(r.json)):d==="text/plain"?a.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?a.body=Sp(r.formData):a.body=r.formData}return new Request(s,a)}function Sp(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function rv(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function vI(n,e,t,r=!1,s=!1){let a={},u=null,d,f=!1,p={},v=t&&qn(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let E=w.route.id,I=e[E];if(qe(!_o(I),"Cannot handle redirect results in processLoaderData"),qn(I)){let x=I.error;if(v!==void 0&&(x=v,v=void 0),u=u||{},s)u[E]=x;else{let z=Ss(n,E);u[z.route.id]==null&&(u[z.route.id]=x)}r||(a[E]=Pw),f||(f=!0,d=xa(I.error)?I.error.status:500),I.headers&&(p[E]=I.headers)}else a[E]=I.data,I.statusCode&&I.statusCode!==200&&!f&&(d=I.statusCode),I.headers&&(p[E]=I.headers)}),v!==void 0&&t&&(u={[t[0]]:v},t[2]&&(a[t[2]]=void 0)),{loaderData:a,errors:u,statusCode:d||200,loaderHeaders:p}}function iv(n,e,t,r,s,a){let{loaderData:u,errors:d}=vI(e,t,r);return s.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:v,controller:w}=f;if(w&&w.signal.aborted)return;let E=a[p];if(qe(E,"Did not find corresponding fetcher result"),qn(E)){let I=Ss(n.matches,v?.route.id);d&&d[I.route.id]||(d={...d,[I.route.id]:E.error}),n.fetchers.delete(p)}else if(_o(E))qe(!1,"Unhandled fetcher revalidation redirect");else{let I=Es(E.data);n.fetchers.set(p,I)}}),{loaderData:u,errors:d}}function sv(n,e,t,r){let s=Object.entries(e).filter(([,a])=>a!==Pw).reduce((a,[u,d])=>(a[u]=d,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function ov(n){return n?qn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ss(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function av(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(n,{pathname:e,routeId:t,method:r,type:s,message:a}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new md(n||500,u,new Error(d),!0)}function $c(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(_o(s))return{key:r,result:s}}}function Vw(n){let e=typeof n=="string"?Hs(n):n;return Vs({...e,hash:""})}function _I(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function wI(n){return Fw(n.result)&&nI.has(n.result.status)}function qn(n){return n.type==="error"}function _o(n){return(n&&n.type)==="redirect"}function lv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Fw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function EI(n){return tI.has(n.toUpperCase())}function Vn(n){return Z2.has(n.toUpperCase())}function om(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ed(n,e){let t=typeof e=="string"?Hs(e).search:e.search;if(n[n.length-1].route.index&&om(t||""))return n[n.length-1];let r=Aw(n);return r[r.length-1]}function uv(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function ep(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function TI(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Dl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SI(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Es(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function II(n,e){try{let t=n.sessionStorage.getItem(xw);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function CI(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(xw,JSON.stringify(t))}catch(r){Nt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function RI(){let n,e,t=new Promise((r,s)=>{n=async a=>{r(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var xo=O.createContext(null);xo.displayName="DataRouter";var pu=O.createContext(null);pu.displayName="DataRouterState";O.createContext(!1);var am=O.createContext({isTransitioning:!1});am.displayName="ViewTransition";var Uw=O.createContext(new Map);Uw.displayName="Fetchers";var AI=O.createContext(null);AI.displayName="Await";var Fr=O.createContext(null);Fr.displayName="Navigation";var $d=O.createContext(null);$d.displayName="Location";var Ur=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var lm=O.createContext(null);lm.displayName="RouteError";function kI(n,{relative:e}={}){qe(ja(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Fr),{hash:s,pathname:a,search:u}=mu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:oi([t,a])),r.createHref({pathname:d,search:u,hash:s})}function ja(){return O.useContext($d)!=null}function pi(){return qe(ja(),"useLocation() may be used only in the context of a <Router> component."),O.useContext($d).location}var jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zw(n){O.useContext(Fr).static||O.useLayoutEffect(n)}function um(){let{isDataRoute:n}=O.useContext(Ur);return n?jI():xI()}function xI(){qe(ja(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(xo),{basename:e,navigator:t}=O.useContext(Fr),{matches:r}=O.useContext(Ur),{pathname:s}=pi(),a=JSON.stringify(jd(r)),u=O.useRef(!1);return zw(()=>{u.current=!0}),O.useCallback((f,p={})=>{if(Nt(u.current,jw),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=zd(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:oi([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}O.createContext(null);function cm(){let{matches:n}=O.useContext(Ur),e=n[n.length-1];return e?e.params:{}}function mu(n,{relative:e}={}){let{matches:t}=O.useContext(Ur),{pathname:r}=pi(),s=JSON.stringify(jd(t));return O.useMemo(()=>zd(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function PI(n,e){return $w(n)}function $w(n,e,t,r){qe(ja(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Fr),{matches:a}=O.useContext(Ur),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let H=v&&v.path||"";Gw(f,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=pi(),E;E=w;let I=E.pathname||"/",x=I;if(p!=="/"){let H=p.replace(/^\//,"").split("/");x="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let z=Ts(n,{pathname:x});return Nt(v||z!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Nt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),MI(z&&z.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:oi([p,s.encodeLocation?s.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?p:oi([p,s.encodeLocation?s.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),a,t,r)}function bI(){let n=Bw(),e=xa(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,u)}var DI=O.createElement(bI,null),NI=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(Ur.Provider,{value:this.props.routeContext},O.createElement(lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LI({routeContext:n,match:e,children:t}){let r=O.useContext(xo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ur.Provider,{value:n},t)}function MI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:v,errors:w}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let w,E=!1,I=null,x=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||DI,u&&(d<0&&v===0?(Gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,x=null):d===v&&(E=!0,x=p.route.hydrateFallbackElement||null)));let z=e.concat(s.slice(0,v+1)),F=()=>{let H;return w?H=I:E?H=x:p.route.Component?H=O.createElement(p.route.Component,null):p.route.element?H=p.route.element:H=f,O.createElement(LI,{match:p,routeContext:{outlet:f,matches:z,isDataRoute:t!=null},children:H})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?O.createElement(NI,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):F()},null)}function dm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OI(n){let e=O.useContext(xo);return qe(e,dm(n)),e}function VI(n){let e=O.useContext(pu);return qe(e,dm(n)),e}function FI(n){let e=O.useContext(Ur);return qe(e,dm(n)),e}function hm(n){let e=FI(n),t=e.matches[e.matches.length-1];return qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function UI(){return hm("useRouteId")}function Bw(){let n=O.useContext(lm),e=VI("useRouteError"),t=hm("useRouteError");return n!==void 0?n:e.errors?.[t]}function jI(){let{router:n}=OI("useNavigate"),e=hm("useNavigate"),t=O.useRef(!1);return zw(()=>{t.current=!0}),O.useCallback(async(s,a={})=>{Nt(t.current,jw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var cv={};function Gw(n,e,t){!e&&!cv[n]&&(cv[n]=!0,Nt(!1,t))}var dv={};function hv(n,e){!n&&!dv[e]&&(dv[e]=!0,console.warn(e))}function zI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Nt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Nt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Nt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var $I=["HydrateFallback","hydrateFallbackElement"],BI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function GI({router:n,flushSync:e}){let[t,r]=O.useState(n.state),[s,a]=O.useState(),[u,d]=O.useState({isTransitioning:!1}),[f,p]=O.useState(),[v,w]=O.useState(),[E,I]=O.useState(),x=O.useRef(new Map),z=O.useCallback((J,{deletedFetchers:se,flushSync:de,viewTransitionOpts:U})=>{J.fetchers.forEach((R,A)=>{R.data!==void 0&&x.current.set(A,R.data)}),se.forEach(R=>x.current.delete(R)),hv(de===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(hv(U==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!P){e&&de?e(()=>r(J)):O.startTransition(()=>r(J));return}if(e&&de){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(J))});R.finished.finally(()=>{e(()=>{p(void 0),w(void 0),a(void 0),d({isTransitioning:!1})})}),e(()=>w(R));return}v?(f&&f.resolve(),v.skipTransition(),I({state:J,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(a(J),d({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[n.window,e,v,f]);O.useLayoutEffect(()=>n.subscribe(z),[n,z]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new BI)},[u]),O.useEffect(()=>{if(f&&s&&n.window){let J=s,se=f.promise,de=n.window.document.startViewTransition(async()=>{O.startTransition(()=>r(J)),await se});de.finished.finally(()=>{p(void 0),w(void 0),a(void 0),d({isTransitioning:!1})}),w(de)}},[s,f,n.window]),O.useEffect(()=>{f&&s&&t.location.key===s.location.key&&f.resolve()},[f,v,t.location,s]),O.useEffect(()=>{!u.isTransitioning&&E&&(a(E.state),d({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),I(void 0))},[u.isTransitioning,E]);let F=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:J=>n.navigate(J),push:(J,se,de)=>n.navigate(J,{state:se,preventScrollReset:de?.preventScrollReset}),replace:(J,se,de)=>n.navigate(J,{replace:!0,state:se,preventScrollReset:de?.preventScrollReset})}),[n]),H=n.basename||"/",Z=O.useMemo(()=>({router:n,navigator:F,static:!1,basename:H}),[n,F,H]);return O.createElement(O.Fragment,null,O.createElement(xo.Provider,{value:Z},O.createElement(pu.Provider,{value:t},O.createElement(Uw.Provider,{value:x.current},O.createElement(am.Provider,{value:u},O.createElement(qI,{basename:H,location:t.location,navigationType:t.historyAction,navigator:F},O.createElement(HI,{routes:n.routes,future:n.future,state:t})))))),null)}var HI=O.memo(WI);function WI({routes:n,future:e,state:t}){return $w(n,void 0,t,e)}function Ip({to:n,replace:e,state:t,relative:r}){qe(ja(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Fr);Nt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Ur),{pathname:u}=pi(),d=um(),f=zd(n,jd(a),u,r==="path"),p=JSON.stringify(f);return O.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function qI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){qe(!ja(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Hs(t));let{pathname:f="/",search:p="",hash:v="",state:w=null,key:E="default"}=t,I=O.useMemo(()=>{let x=mr(f,u);return x==null?null:{location:{pathname:x,search:p,hash:v,state:w,key:E},navigationType:r}},[u,f,p,v,w,E,r]);return Nt(I!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(Fr.Provider,{value:d},O.createElement($d.Provider,{children:e,value:I}))}var td="get",nd="application/x-www-form-urlencoded";function Bd(n){return n!=null&&typeof n.tagName=="string"}function KI(n){return Bd(n)&&n.tagName.toLowerCase()==="button"}function QI(n){return Bd(n)&&n.tagName.toLowerCase()==="form"}function YI(n){return Bd(n)&&n.tagName.toLowerCase()==="input"}function JI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XI(n,e){return n.button===0&&(!e||e==="_self")&&!JI(n)}function Cp(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function ZI(n,e){let t=Cp(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}var Bc=null;function eC(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var tC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tp(n){return n!=null&&!tC.has(n)?(Nt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nd}"`),null):n}function nC(n,e){let t,r,s,a,u;if(QI(n)){let d=n.getAttribute("action");r=d?mr(d,e):null,t=n.getAttribute("method")||td,s=tp(n.getAttribute("enctype"))||nd,a=new FormData(n)}else if(KI(n)||YI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?mr(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||td,s=tp(n.getAttribute("formenctype"))||tp(d.getAttribute("enctype"))||nd,a=new FormData(d,n),!eC()){let{name:p,type:v,value:w}=n;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(Bd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=td,r=null,s=nd,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function rC(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&mr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function iC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function oC(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await iC(a,t);return u.links?u.links():[]}return[]}));return cC(r.flat(1).filter(sC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function fv(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function aC(n,e,{includeHydrateFallback:t}={}){return lC(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function lC(n){return[...new Set(n)]}function uC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function cC(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(uC(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function Hw(){let n=O.useContext(xo);return fm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dC(){let n=O.useContext(pu);return fm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pm=O.createContext(void 0);pm.displayName="FrameworkContext";function Ww(){let n=O.useContext(pm);return fm(n,"You must render this element inside a <HydratedRouter> element"),n}function hC(n,e){let t=O.useContext(pm),[r,s]=O.useState(!1),[a,u]=O.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,E=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let z=H=>{H.forEach(Z=>{u(Z.isIntersecting)})},F=new IntersectionObserver(z,{threshold:.5});return E.current&&F.observe(E.current),()=>{F.disconnect()}}},[n]),O.useEffect(()=>{if(r){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[r]);let I=()=>{s(!0)},x=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Nl(d,I),onBlur:Nl(f,x),onMouseEnter:Nl(p,I),onMouseLeave:Nl(v,x),onTouchStart:Nl(w,I)}]:[!1,E,{}]}function Nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function fC({page:n,...e}){let{router:t}=Hw(),r=O.useMemo(()=>Ts(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(mC,{page:n,matches:r,...e}):null}function pC(n){let{manifest:e,routeModules:t}=Ww(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return oC(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function mC({page:n,matches:e,...t}){let r=pi(),{manifest:s,routeModules:a}=Ww(),{basename:u}=Hw(),{loaderData:d,matches:f}=dC(),p=O.useMemo(()=>fv(n,e,f,s,r,"data"),[n,e,f,s,r]),v=O.useMemo(()=>fv(n,e,f,s,r,"assets"),[n,e,f,s,r]),w=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,z=!1;if(e.forEach(H=>{let Z=s.routes[H.route.id];!Z||!Z.hasLoader||(!p.some(J=>J.route.id===H.route.id)&&H.route.id in d&&a[H.route.id]?.shouldRevalidate||Z.hasClientLoader?z=!0:x.add(H.route.id))}),x.size===0)return[];let F=rC(n,u,"data");return z&&x.size>0&&F.searchParams.set("_routes",e.filter(H=>x.has(H.route.id)).map(H=>H.route.id).join(",")),[F.pathname+F.search]},[u,d,r,s,p,e,n,a]),E=O.useMemo(()=>aC(v,s),[v,s]),I=pC(v);return O.createElement(O.Fragment,null,w.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),E.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),I.map(({key:x,link:z})=>O.createElement("link",{key:x,nonce:t.nonce,...z})))}function gC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qw&&(window.__reactRouterVersion="7.8.1")}catch{}function pv(n,e){return aI({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:R2({window:e?.window}),hydrationData:yC(),routes:n,mapRouteProperties:zI,hydrationRouteProperties:$I,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function yC(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:vC(n.errors)}),n}function vC(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new md(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}var Kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:v,viewTransition:w,...E},I){let{basename:x}=O.useContext(Fr),z=typeof p=="string"&&Kw.test(p),F,H=!1;if(typeof p=="string"&&z&&(F=p,qw))try{let A=new URL(window.location.href),b=p.startsWith("//")?new URL(A.protocol+p):new URL(p),M=mr(b.pathname,x);b.origin===A.origin&&M!=null?p=M+b.search+b.hash:H=!0}catch{Nt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=kI(p,{relative:s}),[J,se,de]=hC(r,E),U=TC(p,{replace:u,state:d,target:f,preventScrollReset:v,relative:s,viewTransition:w});function P(A){e&&e(A),A.defaultPrevented||U(A)}let R=O.createElement("a",{...E,...de,href:F||Z,onClick:H||a?e:P,ref:gC(I,se),target:f,"data-discover":!z&&t==="render"?"true":void 0});return J&&!z?O.createElement(O.Fragment,null,R,O.createElement(fC,{page:Z})):R});br.displayName="Link";var _C=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...p},v){let w=mu(u,{relative:p.relative}),E=pi(),I=O.useContext(pu),{navigator:x,basename:z}=O.useContext(Fr),F=I!=null&&AC(w)&&d===!0,H=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,Z=E.pathname,J=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,H=H.toLowerCase()),J&&z&&(J=mr(J,z)||J);const se=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let de=Z===H||!s&&Z.startsWith(H)&&Z.charAt(se)==="/",U=J!=null&&(J===H||!s&&J.startsWith(H)&&J.charAt(H.length)==="/"),P={isActive:de,isPending:U,isTransitioning:F},R=de?e:void 0,A;typeof r=="function"?A=r(P):A=[r,de?"active":null,U?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(P):a;return O.createElement(br,{...p,"aria-current":R,className:A,ref:v,style:b,to:u,viewTransition:d},typeof f=="function"?f(P):f)});_C.displayName="NavLink";var wC=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=td,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:w,...E},I)=>{let x=CC(),z=RC(d,{relative:p}),F=u.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&Kw.test(d),Z=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let se=J.nativeEvent.submitter,de=se?.getAttribute("formmethod")||u;x(se||J.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return O.createElement("form",{ref:I,method:F,action:z,onSubmit:r?f:Z,...E,"data-discover":!H&&n==="render"?"true":void 0})});wC.displayName="Form";function EC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qw(n){let e=O.useContext(xo);return qe(e,EC(n)),e}function TC(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=um(),f=pi(),p=mu(n,{relative:a});return O.useCallback(v=>{if(XI(v,e)){v.preventDefault();let w=t!==void 0?t:Vs(f)===Vs(p);d(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,p,t,r,e,n,s,a,u])}function tb(n){Nt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(Cp(n)),t=O.useRef(!1),r=pi(),s=O.useMemo(()=>ZI(r.search,t.current?null:e.current),[r.search]),a=um(),u=O.useCallback((d,f)=>{const p=Cp(typeof d=="function"?d(new URLSearchParams(s)):d);t.current=!0,a("?"+p,f)},[a,s]);return[s,u]}var SC=0,IC=()=>`__${String(++SC)}__`;function CC(){let{router:n}=Qw("useSubmit"),{basename:e}=O.useContext(Fr),t=UI();return O.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=nC(r,e);if(s.navigate===!1){let v=s.fetcherKey||IC();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function RC(n,{relative:e}={}){let{basename:t}=O.useContext(Fr),r=O.useContext(Ur);qe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...mu(n||".",{relative:e})},u=pi();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:oi([t,a.pathname])),Vs(a)}function AC(n,{relative:e}={}){let t=O.useContext(am);qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Qw("useViewTransitionState"),s=mu(n,{relative:e});if(!t.isTransitioning)return!1;let a=mr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=mr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return pd(s.pathname,u)!=null||pd(s.pathname,a)!=null}var kC=mw();function mv(n){return O.createElement(GI,{flushSync:kC.flushSync,...n})}const xC="modulepreload",PC=function(n){return"/"+n},gv={},gr=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(t.map(p=>{if(p=PC(p),p in gv)return;gv[p]=!0;const v=p.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":xC,v||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),v)return new Promise((I,x)=>{E.addEventListener("load",I),E.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},bC=(n,e,t,r)=>{const s=[t,{code:e,...r||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);To(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...s):console?.warn&&console.warn(...s)},yv={},Rp=(n,e,t,r)=>{To(t)&&yv[t]||(To(t)&&(yv[t]=new Date),bC(n,e,t,r))},Yw=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Ap=(n,e,t)=>{n.loadNamespaces(e,Yw(n,t))},vv=(n,e,t,r)=>{if(To(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Ap(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,Yw(n,r))},DC=(n,e,t={})=>!e.languages||!e.languages.length?(Rp(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),To=n=>typeof n=="string",NC=n=>typeof n=="object"&&n!==null,LC=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,MC={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},OC=n=>MC[n],VC=n=>n.replace(LC,OC);let kp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:VC};const FC=(n={})=>{kp={...kp,...n}},UC=()=>kp;let Jw;const jC=n=>{Jw=n},zC=()=>Jw,$C={type:"3rdParty",init(n){FC(n.options.react),jC(n)}},BC=O.createContext();class GC{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const HC=(n,e)=>{const t=O.useRef();return O.useEffect(()=>{t.current=n},[n,e]),t.current},Xw=(n,e,t,r)=>n.getFixedT(e,t,r),WC=(n,e,t,r)=>O.useCallback(Xw(n,e,t,r),[n,e,t,r]),gu=(n,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:s}=O.useContext(BC)||{},a=t||r||zC();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new GC),!a){Rp(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const se=(U,P)=>To(P)?P:NC(P)&&To(P.defaultValue)?P.defaultValue:Array.isArray(U)?U[U.length-1]:U,de=[se,{},!1];return de.t=se,de.i18n={},de.ready=!1,de}a.options.react?.wait&&Rp(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...UC(),...a.options.react,...e},{useSuspense:d,keyPrefix:f}=u;let p=s||a.options?.defaultNS;p=To(p)?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces?.(p);const v=(a.isInitialized||a.initializedStoreOnce)&&p.every(se=>DC(se,a,u)),w=WC(a,e.lng||null,u.nsMode==="fallback"?p:p[0],f),E=()=>w,I=()=>Xw(a,e.lng||null,u.nsMode==="fallback"?p:p[0],f),[x,z]=O.useState(E);let F=p.join();e.lng&&(F=`${e.lng}${F}`);const H=HC(F),Z=O.useRef(!0);O.useEffect(()=>{const{bindI18n:se,bindI18nStore:de}=u;Z.current=!0,!v&&!d&&(e.lng?vv(a,e.lng,p,()=>{Z.current&&z(I)}):Ap(a,p,()=>{Z.current&&z(I)})),v&&H&&H!==F&&Z.current&&z(I);const U=()=>{Z.current&&z(I)};return se&&a?.on(se,U),de&&a?.store.on(de,U),()=>{Z.current=!1,a&&se&&se?.split(" ").forEach(P=>a.off(P,U)),de&&a&&de.split(" ").forEach(P=>a.store.off(P,U))}},[a,F]),O.useEffect(()=>{Z.current&&v&&z(E)},[a,f,v]);const J=[x,a,v];if(J.t=x,J.i18n=a,J.ready=v,v||!v&&!d)return J;throw new Promise(se=>{e.lng?vv(a,e.lng,p,()=>se()):Ap(a,p,()=>se())})},qC={sm:{height:36,padding:"0 12px",fontSize:14,borderRadius:8},md:{height:44,padding:"0 16px",fontSize:16,borderRadius:12},lg:{height:52,padding:"0 20px",fontSize:18,borderRadius:16}};function rd({children:n,variant:e="primary",size:t="md",disabled:r,className:s,style:a,...u}){const d={display:"inline-flex",alignItems:"center",justifyContent:"center",borderWidth:1,borderStyle:"solid",borderColor:"transparent",cursor:r?"not-allowed":"pointer",opacity:r?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,.06), 0 2px 8px rgba(0,0,0,.04)",...qC[t]},f={background:"#15803d",color:"#fff",fontWeight:600},p={background:"#fff",color:"#15803d",borderColor:"#15803d"};return Q.jsx("button",{...u,className:(s?s+" ":"")+"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 rounded-[12px] hover:brightness-110 active:brightness-95",style:{...d,...e==="primary"?f:p,...a||{}},children:n})}const KC=()=>{};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},QC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},e1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,I=p&63;f||(I=64,u||(E=64)),r.push(t[v],t[w],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||w==null)throw new YC;const E=a<<2|d>>4;if(r.push(E),p!==64){const I=d<<4&240|p>>2;if(r.push(I),w!==64){const x=p<<6&192|w;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JC=function(n){const e=Zw(n);return e1.encodeByteArray(e,!0)},yd=function(n){return JC(n).replace(/\./g,"")},t1=function(n){try{return e1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=()=>XC().__FIREBASE_DEFAULTS__,eR=()=>{if(typeof process>"u"||typeof _v>"u")return;const n=_v.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},tR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&t1(n[1]);return e&&JSON.parse(e)},Gd=()=>{try{return KC()||ZC()||eR()||tR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},n1=n=>Gd()?.emulatorHosts?.[n],nR=n=>{const e=n1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},r1=()=>Gd()?.config,i1=n=>Gd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mm(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yd(JSON.stringify(t)),yd(JSON.stringify(u)),""].join(".")}const jl={};function sR(){const n={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?n.emulator.push(e):n.prod.push(e);return n}function oR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let wv=!1;function s1(n,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||jl[n]===e||jl[n]||wv)return;jl[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=sR().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{wv=!0,u()},E}function v(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=oR(r),I=t("text"),x=document.getElementById(I)||document.createElement("span"),z=t("learnmore"),F=document.getElementById(z)||document.createElement("a"),H=t("preprendIcon"),Z=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;d(J),v(F,z);const se=p();f(Z,H),J.append(Z,x,F,se),document.body.appendChild(J)}a?(x.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function lR(){const n=Gd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hR(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fR(){return!lR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pR(){try{return typeof indexedDB=="object"}catch{return!1}}function mR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="FirebaseError";class Bi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gR,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?yR(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Bi(s,d,r)}}function yR(n,e){return n.replace(vR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vR=/\{\$([^}]+)}/g;function _R(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(Ev(a)&&Ev(u)){if(!Fs(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Ev(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wR(n,e){const t=new ER(n,e);return t.subscribe.bind(t)}class ER{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");TR(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=np),s.error===void 0&&(s.error=np),s.complete===void 0&&(s.complete=np);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function np(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n){return n&&n._delegate?n._delegate:n}class Io{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new rR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vo){return this.instances.has(e)}getOptions(e=vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vo){return this.component?this.component.multipleInstances?e:vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IR(n){return n===vo?void 0:n}function CR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const AR={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},kR=Qe.INFO,xR={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},PR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=xR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let gm=class{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=PR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}};const bR=(n,e)=>e.some(t=>n instanceof t);let Tv,Sv;function DR(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NR(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,xp=new WeakMap,a1=new WeakMap,rp=new WeakMap,ym=new WeakMap;function LR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ps(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&o1.set(t,n)}).catch(()=>{}),ym.set(e,n),e}function MR(n){if(xp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});xp.set(n,e)}let Pp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||a1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OR(n){Pp=n(Pp)}function VR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ip(this),e,...t);return a1.set(r,e.sort?e.sort():[e]),Ps(r)}:NR().includes(n)?function(...e){return n.apply(ip(this),e),Ps(o1.get(this))}:function(...e){return Ps(n.apply(ip(this),e))}}function FR(n){return typeof n=="function"?VR(n):(n instanceof IDBTransaction&&MR(n),bR(n,DR())?new Proxy(n,Pp):n)}function Ps(n){if(n instanceof IDBRequest)return LR(n);if(rp.has(n))return rp.get(n);const e=FR(n);return e!==n&&(rp.set(n,e),ym.set(e,n)),e}const ip=n=>ym.get(n);function UR(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Ps(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ps(u.result),f.oldVersion,f.newVersion,Ps(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const jR=["get","getKey","getAll","getAllKeys","count"],zR=["put","add","delete","clear"],sp=new Map;function Iv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=zR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||jR.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return sp.set(e,a),a}OR(n=>({...n,get:(e,t,r)=>Iv(e,t)||n.get(e,t,r),has:(e,t)=>!!Iv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function BR(n){return n.getComponent()?.type==="VERSION"}const bp="@firebase/app",Cv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new gm("@firebase/app"),GR="@firebase/app-compat",HR="@firebase/analytics-compat",WR="@firebase/analytics",qR="@firebase/app-check-compat",KR="@firebase/app-check",QR="@firebase/auth",YR="@firebase/auth-compat",JR="@firebase/database",XR="@firebase/data-connect",ZR="@firebase/database-compat",eA="@firebase/functions",tA="@firebase/functions-compat",nA="@firebase/installations",rA="@firebase/installations-compat",iA="@firebase/messaging",sA="@firebase/messaging-compat",oA="@firebase/performance",aA="@firebase/performance-compat",lA="@firebase/remote-config",uA="@firebase/remote-config-compat",cA="@firebase/storage",dA="@firebase/storage-compat",hA="@firebase/firestore",fA="@firebase/ai",pA="@firebase/firestore-compat",mA="firebase",gA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="[DEFAULT]",yA={[bp]:"fire-core",[GR]:"fire-core-compat",[WR]:"fire-analytics",[HR]:"fire-analytics-compat",[KR]:"fire-app-check",[qR]:"fire-app-check-compat",[QR]:"fire-auth",[YR]:"fire-auth-compat",[JR]:"fire-rtdb",[XR]:"fire-data-connect",[ZR]:"fire-rtdb-compat",[eA]:"fire-fn",[tA]:"fire-fn-compat",[nA]:"fire-iid",[rA]:"fire-iid-compat",[iA]:"fire-fcm",[sA]:"fire-fcm-compat",[oA]:"fire-perf",[aA]:"fire-perf-compat",[lA]:"fire-rc",[uA]:"fire-rc-compat",[cA]:"fire-gcs",[dA]:"fire-gcs-compat",[hA]:"fire-fst",[pA]:"fire-fst-compat",[fA]:"fire-vertex","fire-js":"fire-js",[mA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Map,vA=new Map,Np=new Map;function Rv(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pa(n){const e=n.name;if(Np.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,n);for(const t of Jl.values())Rv(t,n);for(const t of vA.values())Rv(t,n);return!0}function Hd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new yu("app","Firebase",_A);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=gA;function l1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Dp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw bs.create("bad-app-name",{appName:String(s)});if(t||(t=r1()),!t)throw bs.create("no-options");const a=Jl.get(s);if(a){if(Fs(t,a.options)&&Fs(r,a.config))return a;throw bs.create("duplicate-app",{appName:s})}const u=new RR(s);for(const f of Np.values())u.addComponent(f);const d=new wA(t,r,u);return Jl.set(s,d),d}function vm(n=Dp){const e=Jl.get(n);if(!e&&n===Dp&&r1())return l1();if(!e)throw bs.create("no-app",{appName:n});return e}function EA(){return Array.from(Jl.values())}function Ds(n,e,t){let r=yA[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(u.join(" "));return}Pa(new Io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",SA=1,Xl="firebase-heartbeat-store";let op=null;function u1(){return op||(op=UR(TA,SA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),op}async function IA(n){try{const t=(await u1()).transaction(Xl),r=await t.objectStore(Xl).get(c1(n));return await t.done,r}catch(e){if(e instanceof Bi)Ui.warn(e.message);else{const t=bs.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}}async function Av(n,e){try{const r=(await u1()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,c1(n)),await r.done}catch(t){if(t instanceof Bi)Ui.warn(t.message);else{const r=bs.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(r.message)}}}function c1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=1024,RA=30;class AA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>RA){const s=PA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=kv(),{heartbeatsToSend:t,unsentEntries:r}=kA(this._heartbeatsCache.heartbeats),s=yd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ui.warn(e),""}}}function kv(){return new Date().toISOString().substring(0,10)}function kA(n,e=CA){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),xv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),xv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pR()?mR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xv(n){return yd(JSON.stringify({version:2,heartbeats:n})).length}function PA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){Pa(new Io("platform-logger",e=>new $R(e),"PRIVATE")),Pa(new Io("heartbeat",e=>new AA(e),"PRIVATE")),Ds(bp,Cv,n),Ds(bp,Cv,"esm2020"),Ds("fire-js","")}bA("");function d1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DA=d1,h1=new yu("auth","Firebase",d1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new gm("@firebase/auth");function NA(n,...e){vd.logLevel<=Qe.WARN&&vd.warn(`Auth (${za}): ${n}`,...e)}function id(n,...e){vd.logLevel<=Qe.ERROR&&vd.error(`Auth (${za}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,...e){throw wm(n,...e)}function Nr(n,...e){return wm(n,...e)}function _m(n,e,t){const r={...DA(),[e]:t};return new yu("auth","Firebase",r).create(e,{appName:n.name})}function Ns(n){return _m(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f1(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&hi(n,"argument-error"),_m(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return h1.create(n,...e)}function Ue(n,e,...t){if(!n)throw wm(e,...t)}function Vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw id(e),new Error(e)}function ji(n,e){n||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){return typeof self<"u"&&self.location?.href||""}function LA(){return Pv()==="http:"||Pv()==="https:"}function Pv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LA()||cR()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this.shortDelay=e,this.longDelay=t,ji(t>e,"Short delay should be less than long delay!"),this.isMobile=aR()||dR()}get(){return MA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n,e){ji(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UA=new _u(3e4,6e4);function Tm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $a(n,e,t,r,s={}){return m1(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=vu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return uR()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Po(n.emulatorConfig.host)&&(p.credentials="include"),p1.fetch()(await g1(n,n.config.apiHost,t,d),p)})}async function m1(n,e,t){n._canInitEmulator=!1;const r={...VA,...e};try{const s=new zA(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Gc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Gc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Gc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _m(n,v,p);hi(n,v)}}catch(s){if(s instanceof Bi)throw s;hi(n,"network-request-failed",{message:String(s)})}}async function jA(n,e,t,r,s={}){const a=await $a(n,e,t,r,s);return"mfaPendingCredential"in a&&hi(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function g1(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Em(n.config,s):`${n.config.apiScheme}://${s}`;return FA.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class zA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nr(this.auth,"network-request-failed")),UA.get())})}}function Gc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Nr(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(n,e){return $a(n,"POST","/v1/accounts:delete",e)}async function _d(n,e){return $a(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BA(n,e=!1){const t=Lt(n),r=await t.getIdToken(e),s=Sm(r);Ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:zl(ap(s.auth_time)),issuedAtTime:zl(ap(s.iat)),expirationTime:zl(ap(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ap(n){return Number(n)*1e3}function Sm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const s=t1(t);return s?JSON.parse(s):(id("Failed to decode base64 JWT payload"),null)}catch(s){return id("Caught error parsing JWT payload as JSON",s?.toString()),null}}function bv(n){const e=Sm(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Bi&&GA(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(n){const e=n.auth,t=await n.getIdToken(),r=await Zl(n,_d(e,{idToken:t}));Ue(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?y1(s.providerUserInfo):[],u=qA(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,p=d?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Mp(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function WA(n){const e=Lt(n);await wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qA(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function y1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(n,e){const t=await m1(n,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await g1(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Po(n.emulatorConfig.host)&&(f.credentials="include"),p1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QA(n,e){return $a(n,"POST","/v2/accounts:revokeToken",Tm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=bv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await KA(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ca;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new HA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BA(this,e)}reload(){return WA(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Zl(this,$A(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:I,providerData:x,stsTokenManager:z}=t;Ue(w&&z,e,"internal-error");const F=Ca.fromJSON(this.name,z);Ue(typeof w=="string",e,"internal-error"),ws(r,e.name),ws(s,e.name),Ue(typeof E=="boolean",e,"internal-error"),Ue(typeof I=="boolean",e,"internal-error"),ws(a,e.name),ws(u,e.name),ws(d,e.name),ws(f,e.name),ws(p,e.name),ws(v,e.name);const H=new Dr({uid:w,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:I,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:F,createdAt:p,lastLoginAt:v});return x&&Array.isArray(x)&&(H.providerData=x.map(Z=>({...Z}))),f&&(H._redirectEventId=f),H}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ca;s.updateFromServerResponse(t);const a=new Dr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await wd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ue(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?y1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,d=new Ca;d.updateFromIdToken(r);const f=new Dr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Fi(n){ji(n instanceof Function,"Expected a class definition");let e=Dv.get(n);return e?(ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Dv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}v1.type="NONE";const Nv=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ra{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=sd(this.userKey,s.apiKey,a),this.fullPersistenceKey=sd("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _d(this.auth,{idToken:e}).catch(()=>{});return t?Dr._fromGetAccountInfoResponse(this.auth,t,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ra(Fi(Nv),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Fi(Nv);const u=sd(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(u);if(v){let w;if(typeof v=="string"){const E=await _d(e,{idToken:v}).catch(()=>{});if(!E)break;w=await Dr._fromGetAccountInfoResponse(e,E,v)}else w=Dr._fromJSON(e,v);p!==a&&(d=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ra(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Ra(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I1(e))return"Blackberry";if(C1(e))return"Webos";if(w1(e))return"Safari";if((e.includes("chrome/")||E1(e))&&!e.includes("edge/"))return"Chrome";if(S1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function _1(n=yn()){return/firefox\//i.test(n)}function w1(n=yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E1(n=yn()){return/crios\//i.test(n)}function T1(n=yn()){return/iemobile/i.test(n)}function S1(n=yn()){return/android/i.test(n)}function I1(n=yn()){return/blackberry/i.test(n)}function C1(n=yn()){return/webos/i.test(n)}function Im(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YA(n=yn()){return Im(n)&&!!window.navigator?.standalone}function JA(){return hR()&&document.documentMode===10}function R1(n=yn()){return Im(n)||S1(n)||C1(n)||I1(n)||/windows phone/i.test(n)||T1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(n,e=[]){let t;switch(n){case"Browser":t=Lv(yn());break;case"Worker":t=`${Lv(yn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${za}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(n,e={}){return $a(n,"GET","/v2/passwordPolicy",Tm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=6;class tk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ek,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new XA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _d(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Ns(this));const t=e?Lt(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZA(this),t=new tk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await QA(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fi(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&NA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ba(n){return Lt(n)}class Mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=wR(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rk(n){Cm=n}function ik(n){return Cm.loadJS(n)}function sk(){return Cm.gapiScript}function ok(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n,e){const t=Hd(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Fs(a,e??{}))return s;hi(s,"already-initialized")}return t.initialize({options:e})}function lk(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function uk(n,e,t){const r=Ba(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=k1(e),{host:u,port:d}=ck(e),f=d===null?"":`:${d}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Fs(p,r.config.emulator)&&Fs(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Po(u)?(mm(`${a}//${u}${f}`),s1("Auth",!0)):dk()}function k1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ck(n){const e=k1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Ov(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Ov(u)}}}function Ov(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function dk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(n,e){return jA(n,"POST","/v1/accounts:signInWithIdp",Tm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="http://localhost";class Co extends x1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new Co(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Aa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Aa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}buildRequest(){const e={requestUri:hk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Wd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends wu{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Co._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends wu{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends wu{constructor(){super("twitter.com")}static credential(e,t){return Co._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Rs.credential(t,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Dr._fromIdTokenResponse(e,r,s),u=Vv(r);return new ba({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Vv(r);return new ba({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Vv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends Bi{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Ed(e,t,r,s)}}function P1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(n,a,e,r):a})}async function fk(n,e,t=!1){const r=await Zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ba._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(n,e,t=!1){const{auth:r}=n;if(pr(r.app))return Promise.reject(Ns(r));const s="reauthenticate";try{const a=await Zl(n,P1(r,s,e,n),t);Ue(a.idToken,r,"internal-error");const u=Sm(a.idToken);Ue(u,r,"internal-error");const{sub:d}=u;return Ue(n.uid===d,r,"user-mismatch"),ba._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(n,e,t=!1){if(pr(n.app))return Promise.reject(Ns(n));const r="signIn",s=await P1(n,r,e),a=await ba._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(n,e){return Lt(n).setPersistence(e)}function gk(n,e,t,r){return Lt(n).onIdTokenChanged(e,t,r)}function yk(n,e,t){return Lt(n).beforeAuthStateChanged(e,t)}function vk(n,e,t,r){return Lt(n).onAuthStateChanged(e,t,r)}function _k(n){return Lt(n).signOut()}const Td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=1e3,Ek=10;class N1 extends D1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);JA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Ek):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}N1.type="LOCAL";const Rm=N1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1 extends D1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}L1.type="SESSION";const M1=L1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await Tk(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=Am("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function Ik(n){ai().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function Ck(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rk(){return navigator?.serviceWorker?.controller||null}function Ak(){return O1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebaseLocalStorageDb",kk=1,Sd="firebaseLocalStorage",F1="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kd(n,e){return n.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function xk(){const n=indexedDB.deleteDatabase(V1);return new Eu(n).toPromise()}function Op(){const n=indexedDB.open(V1,kk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sd,{keyPath:F1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Sd)?e(r):(r.close(),await xk(),e(await Op()))})})}async function Fv(n,e,t){const r=Kd(n,!0).put({[F1]:e,value:t});return new Eu(r).toPromise()}async function Pk(n,e){const t=Kd(n,!1).get(e),r=await new Eu(t).toPromise();return r===void 0?null:r.value}function Uv(n,e){const t=Kd(n,!0).delete(e);return new Eu(t).toPromise()}const bk=800,Dk=3;class U1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Op(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Dk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qd._getInstance(Ak()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ck(),!this.activeServiceWorker)return;this.sender=new Sk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Op();return await Fv(e,Td,"1"),await Uv(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Pk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Kd(s,!1).getAll();return new Eu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U1.type="LOCAL";const Nk=U1;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n,e){return e?Fi(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends x1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Aa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lk(n){return mk(n.auth,new xm(n),n.bypassAuthState)}function Mk(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),pk(t,new xm(n),n.bypassAuthState)}async function Ok(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),fk(t,new xm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lk;case"linkViaPopup":case"linkViaRedirect":return Ok;case"reauthViaPopup":case"reauthViaRedirect":return Mk;default:hi(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new _u(2e3,1e4);async function z1(n,e,t){if(pr(n.app))return Promise.reject(Nr(n,"operation-not-supported-in-this-environment"));const r=Ba(n);f1(n,e,Wd);const s=km(r,t);return new wo(r,"signInViaPopup",e,s).executeNotNull()}class wo extends j1{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vk.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="pendingRedirect",od=new Map;class Uk extends j1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const r=await jk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jk(n,e){const t=B1(e),r=$1(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function zk(n,e){return $1(n)._set(B1(e),"true")}function $k(n,e){od.set(n._key(),e)}function $1(n){return Fi(n._redirectPersistence)}function B1(n){return sd(Fk,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n,e,t){return Bk(n,e,t)}async function Bk(n,e,t){if(pr(n.app))return Promise.reject(Ns(n));const r=Ba(n);f1(n,e,Wd),await r._initializationPromise;const s=km(r,t);return await zk(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function Gk(n,e){return await Ba(n)._initializationPromise,H1(n,e,!1)}async function H1(n,e,t=!1){if(pr(n.app))return Promise.reject(Ns(n));const r=Ba(n),s=km(r,e),u=await new Uk(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=600*1e3;class Wk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!W1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Nr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hk&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(e))}saveEventToCache(e){this.cachedEventUids.add(jv(e)),this.lastProcessedEventTime=Date.now()}}function jv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function W1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function qk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(n,e={}){return $a(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yk=/^https?/;async function Jk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Kk(n);for(const t of e)try{if(Xk(t))return}catch{}hi(n,"unauthorized-domain")}function Xk(n){const e=Lp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Yk.test(t))return!1;if(Qk.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new _u(3e4,6e4);function zv(){const n=ai().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ex(n){return new Promise((e,t)=>{function r(){zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zv(),t(Nr(n,"network-request-failed"))},timeout:Zk.get()})}if(ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ai().gapi?.load)r();else{const s=ok("iframefcb");return ai()[s]=()=>{gapi.load?r():t(Nr(n,"network-request-failed"))},ik(`${sk()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw ad=null,e})}let ad=null;function tx(n){return ad=ad||ex(n),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new _u(5e3,15e3),rx="__/auth/iframe",ix="emulator/auth/iframe",sx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ox=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ax(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Em(e,ix):`https://${n.config.authDomain}/${rx}`,r={apiKey:e.apiKey,appName:n.name,v:za},s=ox.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${vu(r).slice(1)}`}async function lx(n){const e=await tx(n),t=ai().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:ax(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sx,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Nr(n,"network-request-failed"),d=ai().setTimeout(()=>{a(u)},nx.get());function f(){ai().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cx=500,dx=600,hx="_blank",fx="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function px(n,e,t,r=cx,s=dx){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...ux,width:r.toString(),height:s.toString(),top:a,left:u},p=yn().toLowerCase();t&&(d=E1(p)?hx:t),_1(p)&&(e=e||fx,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[I,x])=>`${E}${I}=${x},`,"");if(YA(p)&&d!=="_self")return mx(e||"",d),new $v(null);const w=window.open(e||"",d,v);Ue(w,n,"popup-blocked");try{w.focus()}catch{}return new $v(w)}function mx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__/auth/handler",yx="emulator/auth/handler",vx=encodeURIComponent("fac");async function Bv(n,e,t,r,s,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:za,eventId:s};if(e instanceof Wd){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",_R(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof wu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),p=f?`#${vx}=${encodeURIComponent(f)}`:"";return`${_x(n)}?${vu(d).slice(1)}${p}`}function _x({config:n}){return n.emulator?Em(n,yx):`https://${n.authDomain}/${gx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class wx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M1,this._completeRedirectFn=H1,this._overrideRedirectResult=$k}async _openPopup(e,t,r,s){ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Bv(e,t,r,Lp(),s);return px(e,a,Am())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Bv(e,t,r,Lp(),s);return Ik(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ji(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await lx(e),r=new Wk(e);return t.register("authEvent",s=>(Ue(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},s=>{const a=s?.[0]?.[lp];a!==void 0&&t(!!a),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Jk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return R1()||w1()||Im()}}const Ex=wx;var Gv="@firebase/auth",Hv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ix(n){Pa(new Io("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A1(n)},p=new nk(r,s,a,f);return lk(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pa(new Io("auth-internal",e=>{const t=Ba(e.getProvider("auth").getImmediate());return(r=>new Tx(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(Gv,Hv,Sx(n)),Ds(Gv,Hv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=300,Rx=i1("authIdTokenMaxAge")||Cx;let Wv=null;const Ax=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Rx)return;const s=t?.token;Wv!==s&&(Wv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kx(n=vm()){const e=Hd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ak(n,{popupRedirectResolver:Ex,persistence:[Nk,Rm,M1]}),r=i1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Ax(a.toString());yk(t,u,()=>u(t.currentUser)),gk(t,d=>u(d))}}const s=n1("auth");return s&&uk(t,`http://${s}`),t}function xx(){return document.getElementsByTagName("head")?.[0]??document}rk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Nr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",xx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ix("Browser");var Px="firebase",bx="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(Px,bx,"app");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,q1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function A(){}A.prototype=R.prototype,P.D=R.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(b,M,j){for(var C=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)C[Te-2]=arguments[Te];return R.prototype[M].apply(b,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,R,A){A||(A=0);var b=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)b[M]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(M=0;16>M;++M)b[M]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=P.g[0],A=P.g[1],M=P.g[2];var j=P.g[3],C=R+(j^A&(M^j))+b[0]+3614090360&4294967295;R=A+(C<<7&4294967295|C>>>25),C=j+(M^R&(A^M))+b[1]+3905402710&4294967295,j=R+(C<<12&4294967295|C>>>20),C=M+(A^j&(R^A))+b[2]+606105819&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(R^M&(j^R))+b[3]+3250441966&4294967295,A=M+(C<<22&4294967295|C>>>10),C=R+(j^A&(M^j))+b[4]+4118548399&4294967295,R=A+(C<<7&4294967295|C>>>25),C=j+(M^R&(A^M))+b[5]+1200080426&4294967295,j=R+(C<<12&4294967295|C>>>20),C=M+(A^j&(R^A))+b[6]+2821735955&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(R^M&(j^R))+b[7]+4249261313&4294967295,A=M+(C<<22&4294967295|C>>>10),C=R+(j^A&(M^j))+b[8]+1770035416&4294967295,R=A+(C<<7&4294967295|C>>>25),C=j+(M^R&(A^M))+b[9]+2336552879&4294967295,j=R+(C<<12&4294967295|C>>>20),C=M+(A^j&(R^A))+b[10]+4294925233&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(R^M&(j^R))+b[11]+2304563134&4294967295,A=M+(C<<22&4294967295|C>>>10),C=R+(j^A&(M^j))+b[12]+1804603682&4294967295,R=A+(C<<7&4294967295|C>>>25),C=j+(M^R&(A^M))+b[13]+4254626195&4294967295,j=R+(C<<12&4294967295|C>>>20),C=M+(A^j&(R^A))+b[14]+2792965006&4294967295,M=j+(C<<17&4294967295|C>>>15),C=A+(R^M&(j^R))+b[15]+1236535329&4294967295,A=M+(C<<22&4294967295|C>>>10),C=R+(M^j&(A^M))+b[1]+4129170786&4294967295,R=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(R^A))+b[6]+3225465664&4294967295,j=R+(C<<9&4294967295|C>>>23),C=M+(R^A&(j^R))+b[11]+643717713&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^R&(M^j))+b[0]+3921069994&4294967295,A=M+(C<<20&4294967295|C>>>12),C=R+(M^j&(A^M))+b[5]+3593408605&4294967295,R=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(R^A))+b[10]+38016083&4294967295,j=R+(C<<9&4294967295|C>>>23),C=M+(R^A&(j^R))+b[15]+3634488961&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^R&(M^j))+b[4]+3889429448&4294967295,A=M+(C<<20&4294967295|C>>>12),C=R+(M^j&(A^M))+b[9]+568446438&4294967295,R=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(R^A))+b[14]+3275163606&4294967295,j=R+(C<<9&4294967295|C>>>23),C=M+(R^A&(j^R))+b[3]+4107603335&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^R&(M^j))+b[8]+1163531501&4294967295,A=M+(C<<20&4294967295|C>>>12),C=R+(M^j&(A^M))+b[13]+2850285829&4294967295,R=A+(C<<5&4294967295|C>>>27),C=j+(A^M&(R^A))+b[2]+4243563512&4294967295,j=R+(C<<9&4294967295|C>>>23),C=M+(R^A&(j^R))+b[7]+1735328473&4294967295,M=j+(C<<14&4294967295|C>>>18),C=A+(j^R&(M^j))+b[12]+2368359562&4294967295,A=M+(C<<20&4294967295|C>>>12),C=R+(A^M^j)+b[5]+4294588738&4294967295,R=A+(C<<4&4294967295|C>>>28),C=j+(R^A^M)+b[8]+2272392833&4294967295,j=R+(C<<11&4294967295|C>>>21),C=M+(j^R^A)+b[11]+1839030562&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^R)+b[14]+4259657740&4294967295,A=M+(C<<23&4294967295|C>>>9),C=R+(A^M^j)+b[1]+2763975236&4294967295,R=A+(C<<4&4294967295|C>>>28),C=j+(R^A^M)+b[4]+1272893353&4294967295,j=R+(C<<11&4294967295|C>>>21),C=M+(j^R^A)+b[7]+4139469664&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^R)+b[10]+3200236656&4294967295,A=M+(C<<23&4294967295|C>>>9),C=R+(A^M^j)+b[13]+681279174&4294967295,R=A+(C<<4&4294967295|C>>>28),C=j+(R^A^M)+b[0]+3936430074&4294967295,j=R+(C<<11&4294967295|C>>>21),C=M+(j^R^A)+b[3]+3572445317&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^R)+b[6]+76029189&4294967295,A=M+(C<<23&4294967295|C>>>9),C=R+(A^M^j)+b[9]+3654602809&4294967295,R=A+(C<<4&4294967295|C>>>28),C=j+(R^A^M)+b[12]+3873151461&4294967295,j=R+(C<<11&4294967295|C>>>21),C=M+(j^R^A)+b[15]+530742520&4294967295,M=j+(C<<16&4294967295|C>>>16),C=A+(M^j^R)+b[2]+3299628645&4294967295,A=M+(C<<23&4294967295|C>>>9),C=R+(M^(A|~j))+b[0]+4096336452&4294967295,R=A+(C<<6&4294967295|C>>>26),C=j+(A^(R|~M))+b[7]+1126891415&4294967295,j=R+(C<<10&4294967295|C>>>22),C=M+(R^(j|~A))+b[14]+2878612391&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~R))+b[5]+4237533241&4294967295,A=M+(C<<21&4294967295|C>>>11),C=R+(M^(A|~j))+b[12]+1700485571&4294967295,R=A+(C<<6&4294967295|C>>>26),C=j+(A^(R|~M))+b[3]+2399980690&4294967295,j=R+(C<<10&4294967295|C>>>22),C=M+(R^(j|~A))+b[10]+4293915773&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~R))+b[1]+2240044497&4294967295,A=M+(C<<21&4294967295|C>>>11),C=R+(M^(A|~j))+b[8]+1873313359&4294967295,R=A+(C<<6&4294967295|C>>>26),C=j+(A^(R|~M))+b[15]+4264355552&4294967295,j=R+(C<<10&4294967295|C>>>22),C=M+(R^(j|~A))+b[6]+2734768916&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~R))+b[13]+1309151649&4294967295,A=M+(C<<21&4294967295|C>>>11),C=R+(M^(A|~j))+b[4]+4149444226&4294967295,R=A+(C<<6&4294967295|C>>>26),C=j+(A^(R|~M))+b[11]+3174756917&4294967295,j=R+(C<<10&4294967295|C>>>22),C=M+(R^(j|~A))+b[2]+718787259&4294967295,M=j+(C<<15&4294967295|C>>>17),C=A+(j^(M|~R))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+j&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var A=R-this.blockSize,b=this.B,M=this.h,j=0;j<R;){if(M==0)for(;j<=A;)s(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<R;)if(b[M++]=P.charCodeAt(j++),M==this.blockSize){s(this,b),M=0;break}}else for(;j<R;)if(b[M++]=P[j++],M==this.blockSize){s(this,b),M=0;break}}this.h=M,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var A=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=A&255,A/=256;for(this.u(P),P=Array(16),R=A=0;4>R;++R)for(var b=0;32>b;b+=8)P[A++]=this.g[R]>>>b&255;return P};function a(P,R){var A=d;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=R(P)}function u(P,R){this.h=R;for(var A=[],b=!0,M=P.length-1;0<=M;M--){var j=P[M]|0;b&&j==R||(A[M]=j,b=!1)}this.g=A}var d={};function f(P){return-128<=P&&128>P?a(P,function(R){return new u([R|0],0>R?-1:0)}):new u([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return F(p(-P));for(var R=[],A=1,b=0;P>=A;b++)R[b]=P/A|0,A*=4294967296;return new u(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return F(v(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(R,8)),b=w,M=0;M<P.length;M+=8){var j=Math.min(8,P.length-M),C=parseInt(P.substring(M,M+j),R);8>j?(j=p(Math.pow(R,j)),b=b.j(j).add(p(C))):(b=b.j(A),b=b.add(p(C)))}return b}var w=f(0),E=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(z(this))return-F(this).m();for(var P=0,R=1,A=0;A<this.g.length;A++){var b=this.i(A);P+=(0<=b?b:4294967296+b)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(z(this))return"-"+F(this).toString(P);for(var R=p(Math.pow(P,6)),A=this,b="";;){var M=se(A,R).g;A=H(A,M.j(R));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=M,x(A))return j+b;for(;6>j.length;)j="0"+j;b=j+b}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function z(P){return P.h==-1}n.l=function(P){return P=H(this,P),z(P)?-1:x(P)?0:1};function F(P){for(var R=P.g.length,A=[],b=0;b<R;b++)A[b]=~P.g[b];return new u(A,~P.h).add(E)}n.abs=function(){return z(this)?F(this):this},n.add=function(P){for(var R=Math.max(this.g.length,P.g.length),A=[],b=0,M=0;M<=R;M++){var j=b+(this.i(M)&65535)+(P.i(M)&65535),C=(j>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);b=C>>>16,j&=65535,C&=65535,A[M]=C<<16|j}return new u(A,A[A.length-1]&-2147483648?-1:0)};function H(P,R){return P.add(F(R))}n.j=function(P){if(x(this)||x(P))return w;if(z(this))return z(P)?F(this).j(F(P)):F(F(this).j(P));if(z(P))return F(this.j(F(P)));if(0>this.l(I)&&0>P.l(I))return p(this.m()*P.m());for(var R=this.g.length+P.g.length,A=[],b=0;b<2*R;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(var M=0;M<P.g.length;M++){var j=this.i(b)>>>16,C=this.i(b)&65535,Te=P.i(M)>>>16,Ke=P.i(M)&65535;A[2*b+2*M]+=C*Ke,Z(A,2*b+2*M),A[2*b+2*M+1]+=j*Ke,Z(A,2*b+2*M+1),A[2*b+2*M+1]+=C*Te,Z(A,2*b+2*M+1),A[2*b+2*M+2]+=j*Te,Z(A,2*b+2*M+2)}for(b=0;b<R;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=R;b<2*R;b++)A[b]=0;return new u(A,0)};function Z(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function J(P,R){this.g=P,this.h=R}function se(P,R){if(x(R))throw Error("division by zero");if(x(P))return new J(w,w);if(z(P))return R=se(F(P),R),new J(F(R.g),F(R.h));if(z(R))return R=se(P,F(R)),new J(F(R.g),R.h);if(30<P.g.length){if(z(P)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var A=E,b=R;0>=b.l(P);)A=de(A),b=de(b);var M=U(A,1),j=U(b,1);for(b=U(b,2),A=U(A,2);!x(b);){var C=j.add(b);0>=C.l(P)&&(M=M.add(A),j=C),b=U(b,1),A=U(A,1)}return R=H(P,M.j(R)),new J(M,R)}for(M=w;0<=P.l(R);){for(A=Math.max(1,Math.floor(P.m()/R.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),j=p(A),C=j.j(R);z(C)||0<C.l(P);)A-=b,j=p(A),C=j.j(R);x(j)&&(j=E),M=M.add(j),P=H(P,C)}return new J(M,P)}n.A=function(P){return se(this,P).h},n.and=function(P){for(var R=Math.max(this.g.length,P.g.length),A=[],b=0;b<R;b++)A[b]=this.i(b)&P.i(b);return new u(A,this.h&P.h)},n.or=function(P){for(var R=Math.max(this.g.length,P.g.length),A=[],b=0;b<R;b++)A[b]=this.i(b)|P.i(b);return new u(A,this.h|P.h)},n.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),A=[],b=0;b<R;b++)A[b]=this.i(b)^P.i(b);return new u(A,this.h^P.h)};function de(P){for(var R=P.g.length+1,A=[],b=0;b<R;b++)A[b]=P.i(b)<<1|P.i(b-1)>>>31;return new u(A,P.h)}function U(P,R){var A=R>>5;R%=32;for(var b=P.g.length-A,M=[],j=0;j<b;j++)M[j]=0<R?P.i(j+A)>>>R|P.i(j+A+1)<<32-R:P.i(j+A);return new u(M,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,q1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ls=u}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K1,Vl,Q1,ld,Vp,Y1,J1,X1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,B={next:function(){if(!S&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function I(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,B,Y){for(var he=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)he[ht-2]=arguments[ht];return g.prototype[B].apply(S,he)}}function z(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function F(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const B=c.length||0,Y=S.length||0;c.length=B+Y;for(let he=0;he<Y;he++)c[B+he]=S[he]}else c.push(S)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var de=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function U(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function P(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,g){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let Y=0;Y<A.length;Y++)_=A[Y],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function C(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Te{constructor(){this.h=this.g=null}add(g,_){const S=Ke.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ke=new H(()=>new ye,c=>c.reset());class ye{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,re=!1,me=new Te,le=()=>{const c=d.Promise.resolve(void 0);Ae=()=>{c.then(L)}};var L=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){j(_)}var g=Ke;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Oe=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c})();function $e(c,g){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(de){e:{try{se(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$e.aa.h.call(this)}}x($e,pe);var Ge={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),st=0;function ft(c,g,_,S,B){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=B,this.key=++st,this.da=this.fa=!1}function Xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ln(c){this.src=c,this.g={},this.h=0}ln.prototype.add=function(c,g,_,S,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var he=jr(c,g,S,B);return-1<he?(g=c[he],_||(g.fa=!1)):(g=new ft(g,this.src,Y,!!S,B),g.fa=_,c.push(g)),g};function mi(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,g,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(S,B,1),Y&&(Xe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function jr(c,g,_,S){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==S)return B}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),Hi={};function Ks(c,g,_,S,B){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Ks(c,g[Y],_,S,B);return null}return _=yi(_),c&&c[it]?c.K(g,_,p(S)?!!S.capture:!1,B):Wi(c,g,_,!1,S,B)}function Wi(c,g,_,S,B,Y){if(!g)throw Error("Invalid event type");var he=p(B)?!!B.capture:!!B,ht=Xn(c);if(ht||(c[vn]=ht=new ln(c)),_=ht.add(g,_,S,he,Y),_.proxy)return _;if(S=No(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Oe||(B=he),B===void 0&&(B=!1),c.addEventListener(g.toString(),S,B);else if(c.attachEvent)c.attachEvent(vr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function No(){function c(_){return g.call(c.src,c.listener,_)}const g=Fn;return c}function qi(c,g,_,S,B){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)qi(c,g[Y],_,S,B);else S=p(S)?!!S.capture:!!S,_=yi(_),c&&c[it]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=jr(Y,_,S,B),-1<_&&(Xe(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Xn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=jr(g,_,S,B)),(_=-1<c?g[c]:null)&&yr(_))}function yr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[it])mi(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(vr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Xn(g))?(mi(_,c),_.h==0&&(_.src=null,g[vn]=null)):Xe(c)}}}function vr(c){return c in Hi?Hi[c]:Hi[c]="on"+c}function Fn(c,g){if(c.da)c=!0;else{g=new $e(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&yr(c),c=_.call(S,g)}return c}function Xn(c){return c=c[vn],c instanceof ln?c:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function yi(c){return typeof c=="function"?c:(c[gi]||(c[gi]=function(g){return c.handleEvent(g)}),c[gi])}function pt(){X.call(this),this.i=new ln(this),this.M=this,this.F=null}x(pt,X),pt.prototype[it]=!0,pt.prototype.removeEventListener=function(c,g,_,S){qi(this,c,g,_,S)};function dt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new pe(g,c);else if(g instanceof pe)g.target=g.target||c;else{var B=g;g=new pe(S,c),b(g,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var he=g.g=_[Y];B=Zn(he,S,!0,g)&&B}if(he=g.g=c,B=Zn(he,S,!0,g)&&B,B=Zn(he,S,!1,g)&&B,_)for(Y=0;Y<_.length;Y++)he=g.g=_[Y],B=Zn(he,S,!1,g)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Xe(_[S]);delete c.g[g],c.h--}}this.F=null},pt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},pt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function Zn(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,Y=0;Y<g.length;++Y){var he=g[Y];if(he&&!he.da&&he.capture==_){var ht=he.listener,Bt=he.ha||he.src;he.fa&&mi(c.i,he),B=ht.call(Bt,S)!==!1&&B}}return B&&!S.defaultPrevented}function vi(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function zr(c){c.g=vi(()=>{c.g=null,c.i&&(c.i=!1,zr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class un extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(c){X.call(this),this.h=c,this.g={}}x($r,X);var Ki=[];function Qi(c){U(c.g,function(g,_){this.g.hasOwnProperty(_)&&yr(g)},c),c.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Qi(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=d.JSON.stringify,Yi=d.JSON.parse,Br=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Gr(){}Gr.prototype.h=null;function Hr(c){return c.h||(c.h=c.i())}function Ji(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){pe.call(this,"d")}x(er,pe);function _i(){pe.call(this,"c")}x(_i,pe);var wn={},Wr=null;function wi(){return Wr=Wr||new pt}wn.La="serverreachability";function Ys(c){pe.call(this,wn.La,c)}x(Ys,pe);function D(c){const g=wi();dt(g,new Ys(g))}wn.STAT_EVENT="statevent";function $(c,g){pe.call(this,wn.STAT_EVENT,c),this.stat=g}x($,pe);function W(c){const g=wi();dt(g,new $(g,c))}wn.Ma="timingevent";function oe(c,g){pe.call(this,wn.Ma,c),this.size=g}x(oe,pe);function ue(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function Ce(c,g,_,S,B,Y){c.info(function(){if(c.g)if(Y)for(var he="",ht=Y.split("&"),Bt=0;Bt<ht.length;Bt++){var tt=ht[Bt].split("=");if(1<tt.length){var Kt=tt[0];tt=tt[1];var Vt=Kt.split("_");he=2<=Vt.length&&Vt[1]=="type"?he+(Kt+"="+tt+"&"):he+(Kt+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+_+`
`+he})}function _e(c,g,_,S,B,Y,he){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+_+`
`+Y+" "+he})}function we(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Pe(c,_)+(S?" "+S:"")})}function De(c,g){c.info(function(){return"TIMEOUT: "+g})}Se.prototype.info=function(){};function Pe(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return Qs(_)}catch{return g}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},et;function It(){}x(It,Gr),It.prototype.g=function(){return new XMLHttpRequest},It.prototype.i=function(){return{}},et=new It;function vt(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var ct={},Rn={};function tr(c,g,_){c.L=1,c.v=ts(zn(g)),c.m=_,c.P=!0,An(c,null)}function An(c,g){c.F=Date.now(),lt(c),c.A=zn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),rs(_.i,"t",S),c.C=0,_=c.j.J,c.h=new mt,c.g=Hu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new un(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ki[0]=B.toString()),B=Ki);for(var Y=0;Y<B.length;Y++){var he=Ks(_,B[Y],S||g.handleEvent,!1,g.h||g);if(!he)break;g.g[he.key]=he}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),D(),Ce(c.i,c.u,c.A,c.l,c.R,c.m)}vt.prototype.ca=function(c){c=c.target;const g=this.M;g&&xn(c)==3?g.j():this.Y(c)},vt.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=xn(this.g);var g=this.g.Ba();const sr=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Vt!=4||g==7||(g==8||0>=sr?D(3):D(2)),rr(this);var _=this.g.Z();this.X=_;t:if(En(this)){var S=tl(this.g);c="";var B=S.length,Y=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),Un(this);var he="";break t}this.h.i=new d.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Y&&g==B-1)});S.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,_e(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Bt=this.g;if((ht=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ht)){var tt=ht;break t}}tt=null}if(_=tt)we(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bt(this,_);else{this.o=!1,this.s=3,W(12),Be(this),Un(this);break e}}if(this.P){_=!0;let Bn;for(;!this.J&&this.C<he.length;)if(Bn=Js(this,he),Bn==Rn){Vt==4&&(this.s=4,W(14),_=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==ct){this.s=4,W(15),we(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else we(this.i,this.l,Bn,null),bt(this,Bn);if(En(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||he.length!=0||this.h.h||(this.s=1,W(16),_=!1),this.o=this.o&&_,!_)we(this.i,this.l,he,"[Invalid Chunked Response]"),Be(this),Un(this);else if(0<he.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),rl(Kt),Kt.M=!0,W(11))}}else we(this.i,this.l,he,null),bt(this,he);Vt==4&&Be(this),this.o&&!this.J&&(Vt==4?Go(this.j,this):(this.o=!1,lt(this)))}else Uo(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,W(12)):(this.s=0,W(13)),Be(this),Un(this)}}}catch{}finally{}};function En(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Js(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?Rn:(_=Number(g.substring(_,S)),isNaN(_)?ct:(S+=1,S+_>g.length?Rn:(g=g.slice(S,S+_),c.C=S+_,g)))}vt.prototype.cancel=function(){this.J=!0,Be(this)};function lt(c){c.S=Date.now()+c.I,nr(c,c.I)}function nr(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ue(E(c.ba,c),g)}function rr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}vt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(De(this.i,this.A),this.L!=2&&(D(),W(17)),Be(this),this.s=2,Un(this)):nr(this,this.S-c)};function Un(c){c.j.G==0||c.J||Go(c.j,c)}function Be(c){rr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Qi(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function bt(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||qt(_.h,c))){if(!c.K&&qt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Bo(_),Sr(_);else break e;$o(_),W(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=ue(E(_.Za,_),6e3));if(1>=Ti(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((c.K||_.g==c)&&Bo(_),!Z(g))for(B=_.Da.g.parse(g),g=0;g<B.length;g++){let tt=B[g];if(_.T=tt[0],tt=tt[1],_.G==2)if(tt[0]=="c"){_.K=tt[1],_.ia=tt[2];const Kt=tt[3];Kt!=null&&(_.la=Kt,_.j.info("VER="+_.la));const Vt=tt[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const sr=tt[5];sr!=null&&typeof sr=="number"&&0<sr&&(S=1.5*sr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Bn=c.g;if(Bn){const io=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var Y=S.h;Y.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Xs(Y,Y.h),Y.h=null))}if(S.D){const Wo=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(S.ya=Wo,_t(S.I,S.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var he=c;if(S.qa=Gu(S,S.J?S.ia:null,S.W),he.K){Du(S.h,he);var ht=he,Bt=S.L;Bt&&(ht.I=Bt),ht.B&&(rr(ht),lt(ht)),S.g=he}else ro(S);0<_.i.length&&Yr(_)}else tt[0]!="stop"&&tt[0]!="close"||Ai(_,7);else _.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ai(_,7):tn(_):tt[0]!="noop"&&_.l&&_.l.ta(tt),_.v=0)}}D(4)}catch{}}var Ei=class{constructor(c,g){this.g=c,this.map=g}};function jn(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Xs(c,g){c.g?c.g.add(g):c.h=g}function Du(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}jn.prototype.cancel=function(){if(this.i=Nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Nu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return z(c.i)}function Lo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Mo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function Xi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Mo(c),S=Lo(c),B=S.length,Y=0;Y<B;Y++)g.call(void 0,S[Y],_&&_[Y],c)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),B=null;if(0<=S){var Y=c[_].substring(0,S);B=c[_].substring(S+1)}else Y=c[_];g(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,eo(this,c.j),this.o=c.o,this.g=c.g,Zi(this,c.s),this.l=c.l;var g=c.i,_=new qr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),es(this,_),this.m=c.m}else c&&(g=String(c).match(Zs))?(this.h=!1,eo(this,g[1]||"",!0),this.o=Ze(g[2]||""),this.g=Ze(g[3]||"",!0),Zi(this,g[4]),this.l=Ze(g[5]||"",!0),es(this,g[6]||"",!0),this.m=Ze(g[7]||"")):(this.h=!1,this.i=new qr(null,this.h))}Si.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ns(g,Oo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ns(g,Oo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ns(_,_.charAt(0)=="/"?Ou:Mu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ns(_,Xa)),c.join("")};function zn(c){return new Si(c)}function eo(c,g,_){c.j=_?Ze(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Zi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function es(c,g,_){g instanceof qr?(c.i=g,Kr(c.i,c.h)):(_||(g=ns(g,Vu)),c.i=new qr(g,c.h))}function _t(c,g,_){c.i.set(g,_)}function ts(c){return _t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ze(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ns(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Lu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,Mu=/[#\?:]/g,Ou=/[#\?]/g,Vu=/[#\?@]/g,Xa=/#/g;function qr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function en(c){c.g||(c.g=new Map,c.h=0,c.i&&mh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=qr.prototype,n.add=function(c,g){en(this),this.i=null,c=ir(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function _r(c,g){en(c),g=ir(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function wr(c,g){return en(c),g=ir(c,g),c.g.has(g)}n.forEach=function(c,g){en(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(g,B,S,this)},this)},this)},n.na=function(){en(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const B=c[S];for(let Y=0;Y<B.length;Y++)_.push(g[S])}return _},n.V=function(c){en(this);let g=[];if(typeof c=="string")wr(this,c)&&(g=g.concat(this.g.get(ir(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return en(this),this.i=null,c=ir(this,c),wr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function rs(c,g,_){_r(c,g),0<_.length&&(c.i=null,c.g.set(ir(c,g),z(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const Y=encodeURIComponent(String(S)),he=this.V(S);for(S=0;S<he.length;S++){var B=Y;he[S]!==""&&(B+="="+encodeURIComponent(String(he[S]))),c.push(B)}}return this.i=c.join("&")};function ir(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Kr(c,g){g&&!c.j&&(en(c),c.i=null,c.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(_r(this,S),rs(this,B,_))},c)),c.j=g}function gh(c,g){const _=new Se;if(d.Image){const S=new Image;S.onload=I(kn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=I(kn,_,"TestLoadImage: error",!1,g,S),S.onabort=I(kn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=I(kn,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Fu(c,g){const _=new Se,S=new AbortController,B=setTimeout(()=>{S.abort(),kn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(B),Y.ok?kn(_,"TestPingServer: ok",!0,g):kn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),kn(_,"TestPingServer: error",!1,g)})}function kn(c,g,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function yh(){this.g=new Br}function Uu(c,g,_){const S=_||"";try{Xi(c,function(B,Y){let he=B;p(B)&&(he=Qs(B)),g.push(S+Y+"="+encodeURIComponent(he))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function Ii(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Ii,Gr),Ii.prototype.g=function(){return new to(this.l,this.j)},Ii.prototype.i=(function(c){return function(){return c}})({});function to(c,g){pt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(to,pt),n=to.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Tr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ju(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ju(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Er(this):Tr(this),this.readyState==3&&ju(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Er(this))},n.Qa=function(c){this.g&&(this.response=c,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Tr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Tr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ci(c){let g="";return U(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function is(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ci(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):_t(c,g,_))}function Ct(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ct,pt);var vh=/^https?$/i,Za=["POST","PUT"];n=Ct.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():et.g(),this.v=this.o?Hr(this.o):Hr(et),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){no(this,Y);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Za,g,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of _)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){no(this,Y)}};function no(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Vo(c),$n(c)}function Vo(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),$n(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(c){if(c.h&&typeof u<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)vi(c.Ea,0,c);else if(dt(c,"readystatechange"),xn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=he===0){var B=String(c.D).match(Zs)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!vh.test(B?B.toLowerCase():"")}_=S}if(_)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var Y=2<xn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Vo(c)}}finally{$n(c)}}}}function $n(c,g){if(c.g){Fo(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||dt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Fo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yi(g)}};function tl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uo(c){const g={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Z(c[S]))continue;var _=M(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[B]||[];g[B]=Y,Y.push(_)}P(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function nl(c){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,c),this.cb=Qr("retryDelaySeedMs",1e4,c),this.Wa=Qr("forwardChannelMaxRetries",2,c),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jn(c&&c.concurrentRequestLimit),this.Da=new yh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){W(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Gu(this,null,this.W),Yr(this)};function tn(c){if(jo(c),c.G==3){var g=c.U++,_=zn(c.I);if(_t(_,"SID",c.K),_t(_,"RID",g),_t(_,"TYPE","terminate"),Ri(c,_),g=new vt(c,c.j,g),g.L=2,g.v=ts(zn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Hu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),lt(g)}Bu(c)}function Sr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function jo(c){Sr(c),c.u&&(d.clearTimeout(c.u),c.u=null),Bo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Yr(c){if(!ot(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ae||le(),re||(Ae(),re=!0),me.add(g,c),c.B=0}}function _h(c,g){return Ti(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ue(E(c.Ga,c,g),$u(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new vt(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),b(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ss(this,B,g),_=zn(this.I),_t(_,"RID",c),_t(_,"CVER",22),this.D&&_t(_,"X-HTTP-Session-Id",this.D),Ri(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(Ci(Y)))+"&"+g:this.m&&is(_,this.m,Y)),Xs(this.h,B),this.Ua&&_t(_,"TYPE","init"),this.P?(_t(_,"$req",g),_t(_,"SID","null"),B.T=!0,tr(B,_,null)):tr(B,_,g),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||ot(this.h)||zo(this))};function zo(c,g){var _;g?_=g.l:_=c.U++;const S=zn(c.I);_t(S,"SID",c.K),_t(S,"RID",_),_t(S,"AID",c.T),Ri(c,S),c.m&&c.o&&is(S,c.m,c.o),_=new vt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ss(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xs(c.h,_),tr(_,S,g)}function Ri(c,g){c.H&&U(c.H,function(_,S){_t(g,S,_)}),c.l&&Xi({},function(_,S){_t(g,S,_)})}function ss(c,g,_){_=Math.min(c.i.length,_);var S=c.l?E(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const he=["count="+_];Y==-1?0<_?(Y=B[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let ht=!0;for(let Bt=0;Bt<_;Bt++){let tt=B[Bt].g;const Kt=B[Bt].map;if(tt-=Y,0>tt)Y=Math.max(0,B[Bt].g-100),ht=!1;else try{Uu(Kt,he,"req"+tt+"_")}catch{S&&S(Kt)}}if(ht){S=he.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function ro(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ae||le(),re||(Ae(),re=!0),me.add(g,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ue(E(c.Fa,c),$u(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ue(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,W(10),Sr(this),zu(this))};function rl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new vt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=zn(c.qa);_t(g,"RID","rpc"),_t(g,"SID",c.K),_t(g,"AID",c.T),_t(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&_t(g,"TO",c.ja),_t(g,"TYPE","xmlhttp"),Ri(c,g),c.m&&c.o&&is(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ts(zn(g)),_.m=null,_.P=!0,An(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Sr(this),$o(this),W(19))};function Bo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Go(c,g){var _=null;if(c.g==g){Bo(c),rl(c),c.g=null;var S=2}else if(qt(c.h,g))_=g.D,Du(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;S=wi(),dt(S,new oe(S,_)),Yr(c)}else ro(c);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&_h(c,g)||S==2&&$o(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),B){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function $u(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ai(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),S=c.Xa;const B=!S;S=new Si(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||eo(S,"https"),ts(S),B?gh(S.toString(),_):Fu(S.toString(),_)}else W(2);c.G=0,c.l&&c.l.sa(g),Bu(c),jo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),W(2)):(this.j.info("Failed to ping google.com"),W(1))};function Bu(c){if(c.G=0,c.ka=[],c.l){const g=Nu(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Gu(c,g,_){var S=_ instanceof Si?zn(_):new Si(_);if(S.g!="")g&&(S.g=g+"."+S.g),Zi(S,S.s);else{var B=d.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var Y=new Si(null);S&&eo(Y,S),g&&(Y.g=g),B&&Zi(Y,B),_&&(Y.l=_),S=Y}return _=c.D,g=c.ya,_&&g&&_t(S,_,g),_t(S,"VER",c.la),Ri(c,S),S}function Hu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ct(new Ii({eb:_})):new Ct(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}n=il.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ho(){}Ho.prototype.g=function(c,g){return new Tn(c,g)};function Tn(c,g){pt.call(this),this.g=new nl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jr(this)}x(Tn,pt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){tn(this.g)},Tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Qs(c),c=_);g.i.push(new Ei(g.Ya++,c)),g.G==3&&Yr(g)},Tn.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,Tn.aa.N.call(this)};function Wu(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}x(Wu,er);function qu(){_i.call(this),this.status=1}x(qu,_i);function Jr(c){this.g=c}x(Jr,il),Jr.prototype.ua=function(){dt(this.g,"a")},Jr.prototype.ta=function(c){dt(this.g,new Wu(c))},Jr.prototype.sa=function(c){dt(this.g,new qu)},Jr.prototype.ra=function(){dt(this.g,"b")},Ho.prototype.createWebChannel=Ho.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,X1=function(){return new Ho},J1=function(){return wi()},Y1=wn,Vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,ld=ke,He.COMPLETE="complete",Q1=He,Ji.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Vl=Ji,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,K1=Ct}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const Kv="@firebase/firestore",Qv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new gm("@firebase/firestore");function ya(){return Ro.logLevel}function ve(n,...e){if(Ro.logLevel<=Qe.DEBUG){const t=e.map(Pm);Ro.debug(`Firestore (${Ga}): ${n}`,...t)}}function zi(n,...e){if(Ro.logLevel<=Qe.ERROR){const t=e.map(Pm);Ro.error(`Firestore (${Ga}): ${n}`,...t)}}function Da(n,...e){if(Ro.logLevel<=Qe.WARN){const t=e.map(Pm);Ro.warn(`Firestore (${Ga}): ${n}`,...t)}}function Pm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Z1(n,r,t)}function Z1(n,e,t){let r=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zi(r),new Error(r)}function rt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Z1(e,s,r)}function ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(mn.UNAUTHENTICATED)))}shutdown(){}}class Nx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Lx{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new li;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new li,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new li)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new eE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class Mx{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ox{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Mx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Yv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Fx(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function Fp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return up(s)===up(a)?Ye(s,a):up(s)?1:-1}return Ye(n.length,e.length)}const Ux=55296,jx=57343;function up(n){const e=n.charCodeAt(0);return e>=Ux&&e<=jx}function Na(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class ri{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=ri.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ye(e.length,t.length)}static compareSegments(e,t){const r=ri.isNumericId(e),s=ri.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ri.extractNumericId(e).compare(ri.extractNumericId(t)):Fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class gt extends ri{construct(e,t,r){return new gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new gt(t)}static emptyPath(){return new gt([])}}const zx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ri{construct(e,t,r){return new on(e,t,r)}static isValidIdentifier(e){return zx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new on([Jv])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(gt.fromString(e))}static fromName(e){return new be(gt.fromString(e).popFirst(5))}static empty(){return new be(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $x(n,e,t,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xv(n){if(!be.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Zv(n){if(be.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qd(n);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Bx(n,e){if(e<=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n,e){const t={typeString:n};return e&&(t.value=e),t}function Tu(n,e){if(!nE(n))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new fe(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-62135596800,t_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*t_);return new yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<e_)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t_}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:$t("string",yt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new yt(0,0))}static max(){return new Ve(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function Gx(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new Us(s,be.empty(),e)}function Hx(n){return new Us(n.readTime,n.key,eu)}class Us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Us(Ve.min(),be.empty(),eu)}static max(){return new Us(Ve.max(),be.empty(),eu)}}function Wx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==qx)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let s=0,a=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++a,u&&a===s&&t()}),(f=>r(f)))})),u=!0,a===s&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((s=>s?te.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((v=>{u[p]=v,++d,d===a&&r(u)}),(v=>s(v)))}}))}static doWhile(e,t){return new te(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function Qx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-1;function Su(n){return n==null}function Id(n){return n===0&&1/n==-1/0}function Yx(n){return typeof n=="number"&&Number.isInteger(n)&&!Id(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="";function Jx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=n_(e)),e=Xx(n.get(t),e);return n_(e)}function Xx(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case rE:t+="";break;default:t+=a}}return t}function n_(n){return n+rE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??sn.RED,this.left=s??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new sn(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new i_(this.data.getIterator())}getIteratorFrom(e){return new i_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class i_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Wt(on.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Na(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sE("Invalid base64 string: "+a):a}})(e);return new an(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const Zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=Zx.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zs(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="server_timestamp",aE="__type__",lE="__previous_value__",uE="__local_write_time__";function Nm(n){return(n?.mapValue?.fields||{})[aE]?.stringValue===oE}function Jd(n){const e=n.mapValue.fields[lE];return Nm(e)?Jd(e):e}function tu(n){const e=js(n.mapValue.fields[uE].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,t,r,s,a,u,d,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const nu="(default)";class ru{constructor(e,t){this.projectId=e,this.database=t||nu}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===nu}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__type__",t3="__max__",qc={mapValue:{}},dE="__vector__",Cd="value";function $s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nm(n)?4:r3(n)?9007199254740991:n3(n)?10:11:Ne(28295,{value:n})}function fi(n,e){if(n===e)return!0;const t=$s(n);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tu(n).isEqual(tu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=js(s.timestampValue),d=js(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return zs(s.bytesValue).isEqual(zs(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Ot(s.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Ot(s.integerValue)===Ot(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Ot(s.doubleValue),d=Ot(a.doubleValue);return u===d?Id(u)===Id(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Na(n.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(r_(u)!==r_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!fi(u[f],d[f])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function iu(n,e){return(n.values||[]).find((t=>fi(t,e)))!==void 0}function La(n,e){if(n===e)return 0;const t=$s(n),r=$s(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=Ot(a.integerValue||a.doubleValue),f=Ot(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return s_(n.timestampValue,e.timestampValue);case 4:return s_(tu(n),tu(e));case 5:return Fp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=zs(a),f=zs(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=Ye(d[p],f[p]);if(v!==0)return v}return Ye(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ye(Ot(a.latitude),Ot(u.latitude));return d!==0?d:Ye(Ot(a.longitude),Ot(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return o_(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},p=d[Cd]?.arrayValue,v=f[Cd]?.arrayValue,w=Ye(p?.values?.length||0,v?.values?.length||0);return w!==0?w:o_(p,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===qc.mapValue&&u===qc.mapValue)return 0;if(a===qc.mapValue)return 1;if(u===qc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=Fp(f[w],v[w]);if(E!==0)return E;const I=La(d[f[w]],p[v[w]]);if(I!==0)return I}return Ye(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function s_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=js(n),r=js(e),s=Ye(t.seconds,r.seconds);return s!==0?s:Ye(t.nanos,r.nanos)}function o_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=La(t[s],r[s]);if(a)return a}return Ye(t.length,r.length)}function Ma(n){return Up(n)}function Up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=js(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return zs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Up(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Up(t.fields[u])}`;return s+"}"})(n.mapValue):Ne(61005,{value:n})}function ud(n){switch($s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jd(n);return e?16+ud(e):16;case 5:return 2*n.stringValue.length;case 6:return zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+ud(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Ws(r.fields,((a,u)=>{s+=a.length+ud(u)})),s})(n.mapValue);default:throw Ne(13486,{value:n})}}function a_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jp(n){return!!n&&"integerValue"in n}function Lm(n){return!!n&&"arrayValue"in n}function l_(n){return!!n&&"nullValue"in n}function u_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cd(n){return!!n&&"mapValue"in n}function n3(n){return(n?.mapValue?.fields||{})[cE]?.stringValue===dE}function $l(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ws(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=$l(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(n.arrayValue.values[t]);return e}return{...n}}function r3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===t3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=on.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=$l(u):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());cd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];cd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ws(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Cn($l(this.value))}}function hE(n){const e=[];return Ws(n.fields,((t,r)=>{const s=new on([t]);if(cd(r)){const a=hE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Ve.min(),Ve.min(),Ve.min(),Cn.empty(),0)}static newFoundDocument(e,t,r,s){return new Zt(e,1,t,Ve.min(),r,s,0)}static newNoDocument(e,t){return new Zt(e,2,t,Ve.min(),Ve.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Ve.min(),Ve.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.position=e,this.inclusive=t}}function c_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=be.comparator(be.fromName(u.referenceValue),t.key):r=La(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t="asc"){this.field=e,this.dir=t}}function i3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class jt extends fE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new o3(e,t,r):t==="array-contains"?new u3(e,r):t==="in"?new c3(e,r):t==="not-in"?new d3(e,r):t==="array-contains-any"?new h3(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new a3(e,r):new l3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(La(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(La(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends fE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Or(e,t)}matches(e){return pE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pE(n){return n.op==="and"}function mE(n){return s3(n)&&pE(n)}function s3(n){for(const e of n.filters)if(e instanceof Or)return!1;return!0}function zp(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Ma(n.value);if(mE(n))return n.filters.map((e=>zp(e))).join(",");{const e=n.filters.map((t=>zp(t))).join(",");return`${n.op}(${e})`}}function gE(n,e){return n instanceof jt?(function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&fi(r.value,s.value)})(n,e):n instanceof Or?(function(r,s){return s instanceof Or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,d)=>a&&gE(u,s.filters[d])),!0):!1})(n,e):void Ne(19439)}function yE(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ma(t.value)}`})(n):n instanceof Or?(function(t){return t.op.toString()+" {"+t.getFilters().map(yE).join(" ,")+"}"})(n):"Filter"}class o3 extends jt{constructor(e,t,r){super(e,t,r),this.key=be.fromName(r.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class a3 extends jt{constructor(e,t){super(e,"in",t),this.keys=vE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class l3 extends jt{constructor(e,t){super(e,"not-in",t),this.keys=vE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function vE(n,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class u3 extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lm(t)&&iu(t.arrayValue,this.value)}}class c3 extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&iu(this.value.arrayValue,t)}}class d3 extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!iu(this.value.arrayValue,t)}}class h3 extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>iu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function h_(n,e=null,t=[],r=[],s=null,a=null,u=null){return new f3(n,e,t,r,s,a,u)}function Mm(n){const e=ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>zp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Su(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Ma(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Ma(r))).join(",")),e.Te=t}return e.Te}function Om(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!i3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d_(n.startAt,e.startAt)&&d_(n.endAt,e.endAt)}function $p(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function p3(n,e,t,r,s,a,u,d){return new qa(n,e,t,r,s,a,u,d)}function Xd(n){return new qa(n)}function f_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _E(n){return n.collectionGroup!==null}function Bl(n){const e=ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Wt(on.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new su(a,r))})),t.has(on.keyField().canonicalString())||e.Ie.push(new su(on.keyField(),r))}return e.Ie}function ui(n){const e=ze(n);return e.Ee||(e.Ee=m3(e,Bl(n))),e.Ee}function m3(n,e){if(n.limitType==="F")return h_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new su(s.field,a)}));const t=n.endAt?new Rd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rd(n.startAt.position,n.startAt.inclusive):null;return h_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bp(n,e){const t=n.filters.concat([e]);return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ad(n,e,t){return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zd(n,e){return Om(ui(n),ui(e))&&n.limitType===e.limitType}function wE(n){return`${Mm(ui(n))}|lt:${n.limitType}`}function va(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>yE(s))).join(", ")}]`),Su(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Ma(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Ma(s))).join(",")),`Target(${r})`})(ui(n))}; limitType=${n.limitType})`}function eh(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Bl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const p=c_(u,d,f);return u.inclusive?p<=0:p<0})(r.startAt,Bl(r),s)||r.endAt&&!(function(u,d,f){const p=c_(u,d,f);return u.inclusive?p>=0:p>0})(r.endAt,Bl(r),s))})(n,e)}function g3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function EE(n){return(e,t)=>{let r=!1;for(const s of Bl(n)){const a=y3(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function y3(n,e,t){const r=n.field.isKeyField()?be.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?La(f,p):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new Pt(be.comparator);function $i(){return v3}const TE=new Pt(be.comparator);function Fl(...n){let e=TE;for(const t of n)e=e.insert(t.key,t);return e}function SE(n){let e=TE;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Eo(){return Gl()}function IE(){return Gl()}function Gl(){return new bo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const _3=new Pt(be.comparator),w3=new Wt(be.comparator);function Je(...n){let e=w3;for(const t of n)e=e.add(t);return e}const E3=new Wt(Ye);function T3(){return E3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Id(e)?"-0":e}}function CE(n){return{integerValue:""+n}}function RE(n,e){return Yx(e)?CE(e):Vm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function S3(n,e,t){return n instanceof ou?(function(s,a){const u={fields:{[aE]:{stringValue:oE},[uE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Nm(a)&&(a=Jd(a)),a&&(u.fields[lE]=a),{mapValue:u}})(t,e):n instanceof au?kE(n,e):n instanceof lu?xE(n,e):(function(s,a){const u=AE(s,a),d=p_(u)+p_(s.Ae);return jp(u)&&jp(s.Ae)?CE(d):Vm(s.serializer,d)})(n,e)}function I3(n,e,t){return n instanceof au?kE(n,e):n instanceof lu?xE(n,e):t}function AE(n,e){return n instanceof uu?(function(r){return jp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ou extends th{}class au extends th{constructor(e){super(),this.elements=e}}function kE(n,e){const t=PE(e);for(const r of n.elements)t.some((s=>fi(s,r)))||t.push(r);return{arrayValue:{values:t}}}class lu extends th{constructor(e){super(),this.elements=e}}function xE(n,e){let t=PE(e);for(const r of n.elements)t=t.filter((s=>!fi(s,r)));return{arrayValue:{values:t}}}class uu extends th{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function p_(n){return Ot(n.integerValue||n.doubleValue)}function PE(n){return Lm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t){this.field=e,this.transform=t}}function C3(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof au&&s instanceof au||r instanceof lu&&s instanceof lu?Na(r.elements,s.elements,fi):r instanceof uu&&s instanceof uu?fi(r.Ae,s.Ae):r instanceof ou&&s instanceof ou})(n.transform,e.transform)}class R3{constructor(e,t){this.version=e,this.transformResults=t}}class zt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zt}static exists(e){return new zt(void 0,e)}static updateTime(e){return new zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nh{}function DE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cu(n.key,zt.none()):new Iu(n.key,n.data,zt.none());{const t=n.data,r=Cn.empty();let s=new Wt(on.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new qs(n.key,r,new Yn(s.toArray()),zt.none())}}function A3(n,e,t){n instanceof Iu?(function(s,a,u){const d=s.value.clone(),f=g_(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof qs?(function(s,a,u){if(!dd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=g_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(NE(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Hl(n,e,t,r){return n instanceof Iu?(function(a,u,d,f){if(!dd(a.precondition,u))return d;const p=a.value.clone(),v=y_(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof qs?(function(a,u,d,f){if(!dd(a.precondition,u))return d;const p=y_(a.fieldTransforms,f,u),v=u.data;return v.setAll(NE(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return dd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function k3(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=AE(r.transform,s||null);a!=null&&(t===null&&(t=Cn.empty()),t.set(r.field,a))}return t||null}function m_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Na(r,s,((a,u)=>C3(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Iu extends nh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qs extends nh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function NE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function g_(n,e,t){const r=new Map;rt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,I3(u,d,t[s]))}return r}function y_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,S3(a,u,e))}return r}class Cu extends nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LE extends nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&A3(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=IE();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=DE(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Na(this.mutations,e.mutations,((t,r)=>m_(t,r)))&&Na(this.baseMutations,e.baseMutations,((t,r)=>m_(t,r)))}}class Fm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return _3})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Fm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,nt;function ME(n){switch(n){case ee.OK:return Ne(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function OE(n){if(n===void 0)return zi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Ut.OK:return ee.OK;case Ut.CANCELLED:return ee.CANCELLED;case Ut.UNKNOWN:return ee.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ee.INTERNAL;case Ut.UNAVAILABLE:return ee.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ee.NOT_FOUND;case Ut.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ut.ABORTED:return ee.ABORTED;case Ut.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ut.DATA_LOSS:return ee.DATA_LOSS;default:return Ne(39323,{code:n})}}(nt=Ut||(Ut={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new Ls([4294967295,4294967295],0);function v_(n){const e=D3().encode(n),t=new q1;return t.update(e),new Uint8Array(t.digest())}function __(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ls([t,r],0),new Ls([s,a],0)]}class Um{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ul(`Invalid padding: ${t}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ls.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Ls.fromNumber(r)));return s.compare(N3)===1&&(s=new Ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=v_(e),[r,s]=__(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Um(a,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=v_(e),[r,s]=__(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rh(Ve.min(),s,new Pt(Ye),$i(),Je())}}class Ru{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ru(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class VE{constructor(e,t){this.targetId=e,this.Ce=t}}class FE{constructor(e,t,r=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class w_{constructor(){this.ve=0,this.Fe=E_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),r=Je();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ne(38017,{changeType:a})}})),new Ru(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=E_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L3{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.Je=Kc(),this.He=Kc(),this.Ye=new Pt(Ye)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if($p(a))if(r===0){const u=new be(a.path);this.et(t,u,Zt.newNoDocument(u,Ve.min()))}else rt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=zs(r).toUint8Array()}catch(f){if(f instanceof sE)return Da("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Um(u,s,a)}catch(f){return Da(f instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&$p(d.target)){const f=new be(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Zt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=Je();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const s=new rh(e,t,this.Ye,this.je,r);return this.je=$i(),this.Je=Kc(),this.He=Kc(),this.Ye=new Pt(Ye),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new w_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Wt(Ye),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Wt(Ye),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kc(){return new Pt(be.comparator)}function E_(){return new Pt(be.comparator)}const M3={asc:"ASCENDING",desc:"DESCENDING"},O3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V3={and:"AND",or:"OR"};class F3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gp(n,e){return n.useProto3Json||Su(e)?e:{value:e}}function kd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function U3(n,e){return kd(n,e.toTimestamp())}function Jn(n){return rt(!!n,49232),Ve.fromTimestamp((function(t){const r=js(t);return new yt(r.seconds,r.nanos)})(n))}function jm(n,e){return Hp(n,e).canonicalString()}function Hp(n,e){const t=(function(s){return new gt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function jE(n){const e=gt.fromString(n);return rt(WE(e),10190,{key:e.toString()}),e}function xd(n,e){return jm(n.databaseId,e.path)}function Wl(n,e){const t=jE(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be($E(t))}function zE(n,e){return jm(n.databaseId,e)}function j3(n){const e=jE(n);return e.length===4?gt.emptyPath():$E(e)}function Wp(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $E(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function T_(n,e,t){return{name:xd(n,e),fields:t.value.mapValue.fields}}function z3(n,e){return"found"in e?(function(r,s){rt(!!s.found,43571),s.found.name,s.found.updateTime;const a=Wl(r,s.found.name),u=Jn(s.found.updateTime),d=s.found.createTime?Jn(s.found.createTime):Ve.min(),f=new Cn({mapValue:{fields:s.found.fields}});return Zt.newFoundDocument(a,u,d,f)})(n,e):"missing"in e?(function(r,s){rt(!!s.missing,3894),rt(!!s.readTime,22933);const a=Wl(r,s.missing),u=Jn(s.readTime);return Zt.newNoDocument(a,u)})(n,e):Ne(7234,{result:e})}function $3(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ne(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,v){return p.useProto3Json?(rt(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const v=p.code===void 0?ee.UNKNOWN:OE(p.code);return new fe(v,p.message||"")})(u);t=new FE(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wl(n,r.document.name),a=Jn(r.document.updateTime),u=r.document.createTime?Jn(r.document.createTime):Ve.min(),d=new Cn({mapValue:{fields:r.document.fields}}),f=Zt.newFoundDocument(s,a,u,d),p=r.targetIds||[],v=r.removedTargetIds||[];t=new hd(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wl(n,r.document),a=r.readTime?Jn(r.readTime):Ve.min(),u=Zt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new hd([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wl(n,r.document),a=r.removedTargetIds||[];t=new hd([],a,s,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new b3(s,a),d=r.targetId;t=new VE(d,u)}}return t}function BE(n,e){let t;if(e instanceof Iu)t={update:T_(n,e.key,e.value)};else if(e instanceof Cu)t={delete:xd(n,e.key)};else if(e instanceof qs)t={update:T_(n,e.key,e.data),updateMask:J3(e.fieldMask)};else{if(!(e instanceof LE))return Ne(16599,{Vt:e.type});t={verify:xd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof ou)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof au)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof uu)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:U3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)})(n,e.precondition)),t}function B3(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?Jn(s.updateTime):Jn(a);return u.isEqual(Ve.min())&&(u=Jn(a)),new R3(u,s.transformResults||[])})(t,e)))):[]}function G3(n,e){return{documents:[zE(n,e.path)]}}function H3(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zE(n,s);const a=(function(p){if(p.length!==0)return HE(Or.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((v=>(function(E){return{field:_a(E.field),direction:K3(E.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Gp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function W3(n){let e=j3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){rt(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(w){const E=GE(w);return E instanceof Or&&mE(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((E=>(function(x){return new su(wa(x.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let E;return E=typeof w=="object"?w.value:w,Su(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(w){const E=!!w.before,I=w.values||[];return new Rd(I,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(w){const E=!w.before,I=w.values||[];return new Rd(I,E)})(t.endAt)),p3(e,s,u,a,d,"F",f,p)}function q3(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wa(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wa(t.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wa(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wa(t.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(wa(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Or.create(t.compositeFilter.filters.map((r=>GE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function K3(n){return M3[n]}function Q3(n){return O3[n]}function Y3(n){return V3[n]}function _a(n){return{fieldPath:n.canonicalString()}}function wa(n){return on.fromServerFormat(n.fieldPath)}function HE(n){return n instanceof jt?(function(t){if(t.op==="=="){if(u_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NAN"}};if(l_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(u_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NAN"}};if(l_(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(t.field),op:Q3(t.op),value:t.value}}})(n):n instanceof Or?(function(t){const r=t.getFilters().map((s=>HE(s)));return r.length===1?r[0]:{compositeFilter:{op:Y3(t.op),filters:r}}})(n):Ne(54877,{filter:n})}function J3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function WE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t,r,s,a=Ve.min(),u=Ve.min(),d=an.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.yt=e}}function Z3(n){const e=W3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Cn=new tP}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Us.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class tP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Wt(gt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(qE,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oa(0)}static cr(){return new Oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",KE=1048576;function C_([n,e],[t,r]){const s=Ye(n,t);return s===0?Ye(e,r):s}class nP{constructor(e){this.Ir=e,this.buffer=new Wt(C_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();C_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wa(t)?ve(I_,"Ignoring IndexedDB error during garbage collection: ",t):await Ha(t)}await this.Vr(3e5)}))}}class iP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Yd.ce);const r=new nP(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(S_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,u,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),ya()<=Qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w}))))}}function sP(n,e){return new iP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.changes=new bo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Hl(r.mutation,s,Yn.empty(),yt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Je()){const s=Eo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=Fl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Eo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let a=$i();const u=Gl(),d=(function(){return Gl()})();return t.forEach(((f,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof qs)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Hl(v.mutation,p,v.mutation.getFieldMask(),yt.now())):u.set(p.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>d.set(p,new aP(v,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Gl();let s=new Pt(((u,d)=>u-d)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||Yn.empty();v=d.applyToLocalView(p,v),r.set(f,v);const w=(s.get(d.batchId)||Je()).add(f);s=s.insert(d.batchId,w)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,w=IE();v.forEach((E=>{if(!a.has(E)){const I=DE(t.get(E),r.get(E));I!==null&&w.set(E,I),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return te.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_E(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):te.resolve(Eo());let d=eu,f=a;return u.next((p=>te.forEach(p,((v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{f=f.insert(v,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Je()))).next((v=>({batchId:d,changes:SE(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((r=>{let s=Fl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Fl();return this.indexManager.getCollectionParents(e,a).next((d=>te.forEach(d,(f=>{const p=(function(w,E){return new qa(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((v=>{v.forEach(((w,E)=>{u=u.insert(w,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Zt.newInvalidDocument(v)))}));let d=Fl();return u.forEach(((f,p)=>{const v=a.get(f);v!==void 0&&Hl(v.mutation,p,Yn.empty(),yt.now()),eh(t,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Jn(s.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:Z3(s.bundledQuery),readTime:Jn(s.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.overlays=new Pt(be.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Eo();return te.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=Eo(),a=t.length+1,u=new be(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Pt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=Eo(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Eo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=s)););return te.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new P3(t,r));let a=this.qr.get(t);a===void 0&&(a=Je(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.Qr=new Wt(Xt.$r),this.Ur=new Wt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Xt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Xt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new be(new gt([])),r=new Xt(t,e),s=new Xt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new gt([])),r=new Xt(t,e),s=new Xt(t,e+1);let a=Je();return this.Ur.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Xt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Ye(e.Yr,t.Yr)}static Kr(e,t){return Ye(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(Xt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new x3(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Zr=this.Zr.add(new Xt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Dm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xt(t,0),s=new Xt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(u=>{const d=this.Xr(u.Yr);a.push(d)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Ye);return t.forEach((s=>{const a=new Xt(s,0),u=new Xt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;be.isDocumentKey(a)||(a=a.child(""));const u=new Xt(new be(a),0);let d=new Wt(Ye);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.Yr)),!0)}),u),te.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){rt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(t.mutations,(s=>{const a=new Xt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Xt(t,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.ri=e,this.docs=(function(){return new Pt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let r=$i();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zt.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=$i();const u=t.path,d=new be(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Wx(Hx(v),r)<=0||(s.has(v.key)||eh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ne(9500)}ii(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new pP(this)}getSize(e){return te.resolve(this.size)}}class pP extends oP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.persistence=e,this.si=new bo((t=>Mm(t)),Om),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new zm,this.targetCount=0,this.ai=Oa.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Oa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Yd(0),this.li=!1,this.li=!0,this.hi=new dP,this.referenceDelegate=e(this),this.Pi=new mP(this),this.indexManager=new eP,this.remoteDocumentCache=(function(s){return new fP(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new X3(t),this.Ii=new uP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new hP(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const s=new gP(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class gP extends Kx{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new zm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=be.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Pd{constructor(e,t){this.persistence=e,this.pi=new bo((r=>Jx(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=sP(this,t)}static mi(e,t){return new Pd(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?te.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Ve.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ud(e.data.value)),t}br(e,t,r){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Je(),s=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Bm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fR()?8:Qx(yn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new yP;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(ya()<=Qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",va(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(ya()<=Qe.DEBUG&&ve("QueryEngine","Query:",va(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ya()<=Qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",va(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):te.resolve())}ys(e,t){if(f_(t))return te.resolve(null);let r=ui(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Ad(t,null,"F"),r=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Je(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,d);return this.Cs(t,p,u,f.readTime)?this.ys(e,Ad(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,s){return f_(t)||s.isEqual(Ve.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,s)?te.resolve(null):(ya()<=Qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),va(t)),this.vs(e,u,t,Gx(s,eu)).next((d=>d)))}))}Ds(e,t){let r=new Wt(EE(e));return t.forEach(((s,a)=>{eh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return ya()<=Qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",va(t)),this.ps.getDocumentsMatchingQuery(e,t,Us.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="LocalStore",_P=3e8;class wP{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Pt(Ye),this.xs=new bo((a=>Mm(a)),Om),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function EP(n,e,t,r){return new wP(n,e,t,r)}async function YE(n,e){const t=ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=Je();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function TP(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,v){const w=p.batch,E=w.keys();let I=te.resolve();return E.forEach((x=>{I=I.next((()=>v.getEntry(f,x))).next((z=>{const F=p.docVersions.get(x);rt(F!==null,48541),z.version.compareTo(F)<0&&(w.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),v.addEntry(z)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Je();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function JE(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function SP(n,e){const t=ze(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((v,w)=>{const E=s.get(w);if(!E)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w))));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(an.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),s=s.insert(w,I),(function(z,F,H){return z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=_P?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(E,I,v)&&d.push(t.Pi.updateTargetData(a,I))}));let f=$i(),p=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(IP(a,u,e.documentUpdates).next((v=>{f=v.ks,p=v.qs}))),!r.isEqual(Ve.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(v)}return te.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=s,a)))}function IP(n,e,t){let r=Je(),s=Je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=$i();return t.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ve(Gm,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function CP(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Dm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function RP(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new ks(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function qp(n,e,t){const r=ze(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Wa(u))throw u;ve(Gm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function R_(n,e,t){const r=ze(n);let s=Ve.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,v){const w=ze(f),E=w.xs.get(v);return E!==void 0?te.resolve(w.Ms.get(E)):w.Pi.getTargetData(p,v)})(r,u,ui(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Ve.min(),t?a:Je()))).next((d=>(AP(r,g3(e),d),{documents:d,Qs:a})))))}function AP(n,e,t){let r=n.Os.get(e)||Ve.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class A_{constructor(){this.activeTargetIds=T3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kP{constructor(){this.Mo=new A_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(k_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Kp(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="RestConnection",PP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===nu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const u=Kp(),d=this.zo(e,t.toUriEncodedString());ve(cp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(d),v=Po(p);return this.Jo(e,d,f,r,v).then((w=>(ve(cp,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Da(cp,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Ho(e,t,r,s,a,u){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=PP[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class NP extends bP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const u=Kp();return new Promise(((d,f)=>{const p=new K1;p.setWithCredentials(!0),p.listenOnce(Q1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case ld.NO_ERROR:const w=p.getResponseJson();ve(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case ld.TIMEOUT:ve(pn,`RPC '${e}' ${u} timed out`),f(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const E=p.getStatus();if(ve(pn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I?.error;if(x&&x.status&&x.message){const z=(function(H){const Z=H.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Z)>=0?Z:ee.UNKNOWN})(x.status);f(new fe(z,x.message))}else f(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ve(pn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(s);ve(pn,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=Kp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=X1(),d=J1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ve(pn,`Creating RPC '${e}' stream ${s}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let E=!1,I=!1;const x=new DP({Yo:F=>{I?ve(pn,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(E||(ve(pn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),ve(pn,`RPC '${e}' stream ${s} sending:`,F),w.send(F))},Zo:()=>w.close()}),z=(F,H,Z)=>{F.listen(H,(J=>{try{Z(J)}catch(se){setTimeout((()=>{throw se}),0)}}))};return z(w,Vl.EventType.OPEN,(()=>{I||(ve(pn,`RPC '${e}' stream ${s} transport opened.`),x.o_())})),z(w,Vl.EventType.CLOSE,(()=>{I||(I=!0,ve(pn,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(w))})),z(w,Vl.EventType.ERROR,(F=>{I||(I=!0,Da(pn,`RPC '${e}' stream ${s} transport errored. Name:`,F.name,"Message:",F.message),x.a_(new fe(ee.UNAVAILABLE,"The operation could not be completed")))})),z(w,Vl.EventType.MESSAGE,(F=>{if(!I){const H=F.data[0];rt(!!H,16349);const Z=H,J=Z?.error||Z[0]?.error;if(J){ve(pn,`RPC '${e}' stream ${s} received error:`,J);const se=J.status;let de=(function(R){const A=Ut[R];if(A!==void 0)return OE(A)})(se),U=J.message;de===void 0&&(de=ee.INTERNAL,U="Unknown error status: "+se+" with message "+J.message),I=!0,x.a_(new fe(de,U)),w.close()}else ve(pn,`RPC '${e}' stream ${s} received:`,H),x.u_(H)}})),z(d,Y1.STAT_EVENT,(F=>{F.stat===Vp.PROXY?ve(pn,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===Vp.NOPROXY&&ve(pn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n){return new F3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="PersistentStream";class XE{constructor(e,t,r,s,a,u,d,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hm(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(P_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(P_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LP extends XE{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$3(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ve.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?Jn(u.readTime):Ve.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Wp(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=$p(f)?{documents:G3(a,f)}:{query:H3(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=UE(a,u.resumeToken);const p=Gp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ve.min())>0){d.readTime=kd(a,u.snapshotVersion.toTimestamp());const p=Gp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=q3(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Wp(this.serializer),t.removeTarget=e,this.q_(t)}}class MP extends XE{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=B3(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Wp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>BE(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{}class VP extends OP{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Hp(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ee.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,Hp(t,r),s,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class UP{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Do(this)&&(ve(Ao,"Restarting streams for network reachability change."),await(async function(f){const p=ze(f);p.Ea.add(4),await Au(p),p.Ra.set("Unknown"),p.Ea.delete(4),await sh(p)})(this))}))})),this.Ra=new FP(r,s)}}async function sh(n){if(Do(n))for(const e of n.da)await e(!0)}async function Au(n){for(const e of n.da)await e(!1)}function ZE(n,e){const t=ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qm(t)?Km(t):Ka(t).O_()&&qm(t,e))}function Wm(n,e){const t=ze(n),r=Ka(t);t.Ia.delete(e),r.O_()&&eT(t,e),t.Ia.size===0&&(r.O_()?r.L_():Do(t)&&t.Ra.set("Unknown"))}function qm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ka(n).Y_(e)}function eT(n,e){n.Va.Ue(e),Ka(n).Z_(e)}function Km(n){n.Va=new L3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ka(n).start(),n.Ra.ua()}function Qm(n){return Do(n)&&!Ka(n).x_()&&n.Ia.size>0}function Do(n){return ze(n).Ea.size===0}function tT(n){n.Va=void 0}async function jP(n){n.Ra.set("Online")}async function zP(n){n.Ia.forEach(((e,t)=>{qm(n,e)}))}async function $P(n,e){tT(n),Qm(n)?(n.Ra.ha(e),Km(n)):n.Ra.set("Unknown")}async function BP(n,e,t){if(n.Ra.set("Online"),e instanceof FE&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(r){ve(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bd(n,r)}else if(e instanceof hd?n.Va.Ze(e):e instanceof VE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ve.min()))try{const r=await JE(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(p);v&&a.Ia.set(p,v.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),eT(a,f);const w=new ks(v.target,f,p,v.sequenceNumber);qm(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ve(Ao,"Failed to raise snapshot:",r),await bd(n,r)}}async function bd(n,e,t){if(!Wa(e))throw e;n.Ea.add(1),await Au(n),n.Ra.set("Offline"),t||(t=()=>JE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(Ao,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await sh(n)}))}function nT(n,e){return e().catch((t=>bd(n,t,e)))}async function oh(n){const e=ze(n),t=Bs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dm;for(;GP(e);)try{const s=await CP(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,HP(e,s)}catch(s){await bd(e,s)}rT(e)&&iT(e)}function GP(n){return Do(n)&&n.Ta.length<10}function HP(n,e){n.Ta.push(e);const t=Bs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function rT(n){return Do(n)&&!Bs(n).x_()&&n.Ta.length>0}function iT(n){Bs(n).start()}async function WP(n){Bs(n).ra()}async function qP(n){const e=Bs(n);for(const t of n.Ta)e.ea(t.mutations)}async function KP(n,e,t){const r=n.Ta.shift(),s=Fm.from(r,e,t);await nT(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await oh(n)}async function QP(n,e){e&&Bs(n).X_&&await(async function(r,s){if((function(u){return ME(u)&&u!==ee.ABORTED})(s.code)){const a=r.Ta.shift();Bs(r).B_(),await nT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await oh(r)}})(n,e),rT(n)&&iT(n)}async function b_(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),ve(Ao,"RemoteStore received new credentials");const r=Do(t);t.Ea.add(3),await Au(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await sh(t)}async function YP(n,e){const t=ze(n);e?(t.Ea.delete(2),await sh(t)):e||(t.Ea.add(2),await Au(t),t.Ra.set("Unknown"))}function Ka(n){return n.ma||(n.ma=(function(t,r,s){const a=ze(t);return a.sa(),new LP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:jP.bind(null,n),t_:zP.bind(null,n),r_:$P.bind(null,n),H_:BP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Qm(n)?Km(n):n.Ra.set("Unknown")):(await n.ma.stop(),tT(n))}))),n.ma}function Bs(n){return n.fa||(n.fa=(function(t,r,s){const a=ze(t);return a.sa(),new MP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:WP.bind(null,n),r_:QP.bind(null,n),ta:qP.bind(null,n),na:KP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await oh(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(Ao,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new Ym(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(n,e){if(zi("AsyncQueue",`${e}: ${n}`),Wa(n))return new fe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static emptySet(e){return new ka(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||be.comparator(t.key,r.key):(t,r)=>be.comparator(t.key,r.key),this.keyedMap=Fl(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ka)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new Pt(be.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Va{constructor(e,t,r,s,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Va(e,t,ka.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XP{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=ze(t),a=s.queries;s.queries=N_(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function N_(){return new bo((n=>wE(n)),Zd)}async function Xm(n,e){const t=ze(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new JP,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Jm(u,`Initialization of query '${va(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&eg(t)}async function Zm(n,e){const t=ze(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ZP(n,e){const t=ze(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(s)&&(r=!0);u.wa=s}}r&&eg(t)}function e5(n,e,t){const r=ze(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function eg(n){n.Ca.forEach((e=>{e.next()}))}var Qp,L_;(L_=Qp||(Qp={})).Ma="default",L_.Cache="cache";class tg{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.key=e}}class oT{constructor(e){this.key=e}}class t5{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=EE(e),this.tu=new ka(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new D_,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,w)=>{const E=s.get(v),I=eh(this.query,w)?w:null,x=!!E&&this.mutatedKeys.has(E.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let F=!1;E&&I?E.data.isEqual(I.data)?x!==z&&(r.track({type:3,doc:I}),F=!0):this.su(E,I)||(r.track({type:2,doc:I}),F=!0,(f&&this.eu(I,f)>0||p&&this.eu(I,p)<0)&&(d=!0)):!E&&I?(r.track({type:0,doc:I}),F=!0):E&&!I&&(r.track({type:1,doc:E}),F=!0,(f||p)&&(d=!0)),F&&(I?(u=u.add(I),a=z?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,w)=>(function(I,x){const z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:F})}};return z(I)-z(x)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Va(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new oT(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new sT(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Va.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class n5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class r5{constructor(e){this.key=e,this.hu=!1}}class i5{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new bo((d=>wE(d)),Zd),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(be.comparator),this.Au=new Map,this.Ru=new zm,this.Vu={},this.mu=new Map,this.fu=Oa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s5(n,e,t=!0){const r=hT(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await aT(r,e,t,!0),s}async function o5(n,e){const t=hT(n);await aT(t,e,!0,!1)}async function aT(n,e,t,r){const s=await RP(n.localStore,ui(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await a5(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&ZE(n.remoteStore,s),d}async function a5(n,e,t,r,s){n.pu=(w,E,I)=>(async function(z,F,H,Z){let J=F.view.ru(H);J.Cs&&(J=await R_(z.localStore,F.query,!1).then((({documents:P})=>F.view.ru(P,J))));const se=Z&&Z.targetChanges.get(F.targetId),de=Z&&Z.targetMismatches.get(F.targetId)!=null,U=F.view.applyChanges(J,z.isPrimaryClient,se,de);return O_(z,F.targetId,U.au),U.snapshot})(n,w,E,I);const a=await R_(n.localStore,e,!0),u=new t5(e,a.Qs),d=u.ru(a.documents),f=Ru.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,f);O_(n,t,p.au);const v=new n5(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function l5(n,e,t){const r=ze(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((u=>!Zd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qp(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Wm(r.remoteStore,s.targetId),Yp(r,s.targetId)})).catch(Ha)):(Yp(r,s.targetId),await qp(r.localStore,s.targetId,!0))}async function u5(n,e){const t=ze(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(t.remoteStore,r.targetId))}async function c5(n,e,t){const r=y5(n);try{const s=await(function(u,d){const f=ze(u),p=yt.now(),v=d.reduce(((I,x)=>I.add(x.key)),Je());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let x=$i(),z=Je();return f.Ns.getEntries(I,v).next((F=>{x=F,x.forEach(((H,Z)=>{Z.isValidDocument()||(z=z.add(H))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,x))).next((F=>{w=F;const H=[];for(const Z of d){const J=k3(Z,w.get(Z.key).overlayedDocument);J!=null&&H.push(new qs(Z.key,J,hE(J.value.mapValue),zt.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,H,d)})).next((F=>{E=F;const H=F.applyToLocalDocumentSet(w,z);return f.documentOverlayCache.saveOverlays(I,F.batchId,H)}))})).then((()=>({batchId:E.batchId,changes:SE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new Pt(Ye)),p=p.insert(d,f),u.Vu[u.currentUser.toKey()]=p})(r,s.batchId,t),await ku(r,s.changes),await oh(r.remoteStore)}catch(s){const a=Jm(s,"Failed to persist write");t.reject(a)}}async function lT(n,e){const t=ze(n);try{const r=await SP(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Au.get(a);u&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?rt(u.hu,14607):s.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await ku(t,r,e)}catch(r){await Ha(r)}}function M_(n,e,t){const r=ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=ze(u);f.onlineState=d;let p=!1;f.queries.forEach(((v,w)=>{for(const E of w.Sa)E.va(d)&&(p=!0)})),p&&eg(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d5(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new Pt(be.comparator);u=u.insert(a,Zt.newNoDocument(a,Ve.min()));const d=Je().add(a),f=new rh(Ve.min(),new Map,new Pt(Ye),u,d);await lT(r,f),r.du=r.du.remove(a),r.Au.delete(e),rg(r)}else await qp(r.localStore,e,!1).then((()=>Yp(r,e,t))).catch(Ha)}async function h5(n,e){const t=ze(n),r=e.batch.batchId;try{const s=await TP(t.localStore,e);cT(t,r,null),uT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ku(t,s)}catch(s){await Ha(s)}}async function f5(n,e,t){const r=ze(n);try{const s=await(function(u,d){const f=ze(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next((w=>(rt(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(p,w)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);cT(r,e,t),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ku(r,s)}catch(s){await Ha(s)}}function uT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function cT(n,e,t){const r=ze(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Yp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||dT(n,r)}))}function dT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Wm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),rg(n))}function O_(n,e,t){for(const r of t)r instanceof sT?(n.Ru.addReference(r.key,e),p5(n,r)):r instanceof oT?(ve(ng,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||dT(n,r.key)):Ne(19791,{wu:r})}function p5(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ve(ng,"New document in limbo: "+t),n.Eu.add(r),rg(n))}function rg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(gt.fromString(e)),r=n.fu.next();n.Au.set(r,new r5(t)),n.du=n.du.insert(t,r),ZE(n.remoteStore,new ks(ui(Xd(t.path)),r,"TargetPurposeLimboResolution",Yd.ce))}}async function ku(n,e,t){const r=ze(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Bm.As(f.targetId,p);a.push(v)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(f,p){const v=ze(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(p,(E=>te.forEach(E.Es,(I=>v.persistence.referenceDelegate.addReference(w,E.targetId,I))).next((()=>te.forEach(E.ds,(I=>v.persistence.referenceDelegate.removeReference(w,E.targetId,I)))))))))}catch(w){if(!Wa(w))throw w;ve(Gm,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const I=v.Ms.get(E),x=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(x);v.Ms=v.Ms.insert(E,z)}}})(r.localStore,a))}async function m5(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){ve(ng,"User change. New user:",e.toKey());const r=await YE(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new fe(ee.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(t,r.Ls)}}function g5(n,e){const t=ze(n),r=t.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let s=Je();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function hT(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d5.bind(null,e),e.Pu.H_=ZP.bind(null,e.eventManager),e.Pu.yu=e5.bind(null,e.eventManager),e}function y5(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f5.bind(null,e),e}class Dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return EP(this.persistence,new vP,e.initialUser,this.serializer)}Cu(e){return new QE($m.mi,this.serializer)}Du(e){return new kP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dd.provider={build:()=>new Dd};class v5 extends Dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){rt(this.persistence.referenceDelegate instanceof Pd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new QE((r=>Pd.mi(r,t)),this.serializer)}}class Jp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m5.bind(null,this.syncEngine),await YP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XP})()}createDatastore(e){const t=ih(e.databaseInfo.databaseId),r=(function(a){return new NP(a)})(e.databaseInfo);return(function(a,u,d,f){return new VP(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,d){return new UP(r,s,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>M_(this.syncEngine,t,0)),(function(){return x_.v()?new x_:new xP})())}createSyncEngine(e,t){return(function(s,a,u,d,f,p,v){const w=new i5(s,a,u,d,f,p);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ze(t);ve(Ao,"RemoteStore shutting down."),r.Ea.add(5),await Au(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Jp.provider={build:()=>new Jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,a){const u=ze(s),d={documents:a.map((w=>xd(u.serializer,w)))},f=await u.Ho("BatchGetDocuments",u.serializer.databaseId,gt.emptyPath(),d,a.length),p=new Map;f.forEach((w=>{const E=z3(u.serializer,w);p.set(E.key.toString(),E)}));const v=[];return a.forEach((w=>{const E=p.get(w.toString());rt(!!E,55234,{key:w}),v.push(E)})),v})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=be.fromPath(r);this.mutations.push(new LE(s,this.precondition(s)))})),await(async function(r,s){const a=ze(r),u={writes:s.map((d=>BE(a.serializer,d)))};await a.Go("Commit",a.serializer.databaseId,gt.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ne(50498,{Gu:e.constructor.name});t=Ve.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ve.min())?zt.exists(!1):zt.updateTime(t):zt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ve.min()))throw new fe(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zt.updateTime(t)}return zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,t,r,s,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=a,this.zu=r.maxAttempts,this.M_=new Hm(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new _5(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Su(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!ME(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class E5{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=mn.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ve(Gs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ve(Gs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Jm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hp(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Gs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await YE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function V_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await T5(n);ve(Gs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>b_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>b_(e.remoteStore,s))),n._onlineComponents=e}async function T5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Gs,"Using user provided OfflineComponentProvider");try{await hp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Da("Error using user provided cache. Falling back to memory cache: "+t),await hp(n,new Dd)}}else ve(Gs,"Using default OfflineComponentProvider"),await hp(n,new v5(void 0));return n._offlineComponents}async function sg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Gs,"Using user provided OnlineComponentProvider"),await V_(n,n._uninitializedComponentsProvider._online)):(ve(Gs,"Using default OnlineComponentProvider"),await V_(n,new Jp))),n._onlineComponents}function S5(n){return sg(n).then((e=>e.syncEngine))}function I5(n){return sg(n).then((e=>e.datastore))}async function Nd(n){const e=await sg(n),t=e.eventManager;return t.onListen=s5.bind(null,e.syncEngine),t.onUnlisten=l5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=u5.bind(null,e.syncEngine),t}function C5(n,e,t={}){const r=new li;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const v=new ig({next:E=>{v.Nu(),u.enqueueAndForget((()=>Zm(a,w)));const I=E.docs.has(d);!I&&E.fromCache?p.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new tg(Xd(d.path),v,{includeMetadataChanges:!0,qa:!0});return Xm(a,w)})(await Nd(n),n.asyncQueue,e,t,r))),r.promise}function R5(n,e,t={}){const r=new li;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const v=new ig({next:E=>{v.Nu(),u.enqueueAndForget((()=>Zm(a,w))),E.fromCache&&f.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new tg(d,v,{includeMetadataChanges:!0,qa:!0});return Xm(a,w)})(await Nd(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firestore.googleapis.com",U_=!0;class j_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pT,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KE)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$x("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Dx;switch(r.type){case"firstParty":return new Ox(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=F_.get(t);r&&(ve("ComponentProvider","Removing Datastore"),F_.delete(t),r.terminate())})(this),Promise.resolve()}}function A5(n,e,t,r={}){n=gn(n,ah);const s=Po(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(mm(`https://${d}`),s1("Firestore",!0)),a.host!==pT&&a.host!==d&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:s,emulatorOptions:r};if(!Fs(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=mn.MOCK_USER;else{p=iR(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(w)}n._authCredentials=new Nx(new eE(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Tu(t,xt._jsonSchema))return new xt(e,r||null,new be(gt.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:$t("string",xt._jsonSchemaVersion),referencePath:$t("string")};class Ms extends Gi{constructor(e,t,r){super(e,t,Xd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new be(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function z_(n,e,...t){if(n=Lt(n),tE("collection","path",e),n instanceof ah){const r=gt.fromString(e,...t);return Zv(r),new Ms(n,null,r)}{if(!(n instanceof xt||n instanceof Ms))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return Zv(r),new Ms(n.firestore,null,r)}}function ii(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=bm.newId()),tE("doc","path",e),n instanceof ah){const r=gt.fromString(e,...t);return Xv(r),new xt(n,null,new be(r))}{if(!(n instanceof xt||n instanceof Ms))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return Xv(r),new xt(n.firestore,n instanceof Ms?n.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hm(this,"async_queue_retry"),this._c=()=>{const r=dp();r&&ve($_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=dp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wa(e))throw e;ve($_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",G_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Ym.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ne(47125,{Pc:G_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function G_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Vr extends ah{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new B_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function k5(n,e,t){t||(t=nu);const r=Hd(n,"firestore");if(r.isInitialized(t)){const s=r.getImmediate({identifier:t}),a=r.getOptions(t);if(Fs(a,e))return s;throw new fe(ee.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new fe(ee.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KE)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Po(e.host)&&mm(e.host),r.initialize({options:e,instanceIdentifier:t})}function x5(n,e){const t=typeof n=="object"?n:vm(),r=typeof n=="string"?n:nu,s=Hd(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=nR("firestore");a&&A5(s,...a)}return s}function Qa(n){if(n._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||P5(n),n._firestoreClient}function P5(n){const e=n._freezeSettings(),t=(function(s,a,u,d){return new e3(s,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new E5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(an.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:$t("string",Kn._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,ci._jsonSchema))return new ci(e.latitude,e.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:$t("string",ci._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new di(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:$t("string",di._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=/^__.*__$/;class D5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Iu(e,this.data,t,this.fieldTransforms)}}class mT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class og{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ld(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gT(this.Ac)&&b5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ih(e)}Cc(e,t,r,s=!1){return new og({Ac:e,methodName:t,Dc:r,path:on.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ja(n){const e=n._freezeSettings(),t=ih(n._databaseId);return new N5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lh(n,e,t,r,s,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);dg("Data must be an object, but it was:",u,r);const d=yT(r,u);let f,p;if(a.merge)f=new Yn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=Xp(e,w,t);if(!u.contains(E))throw new fe(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);_T(v,E)||v.push(E)}f=new Yn(v),p=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,p=u.fieldTransforms;return new D5(new Cn(d),f,p)}class uh extends xu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uh}}class ag extends xu{_toFieldTransform(e){return new bE(e.path,new ou)}isEqual(e){return e instanceof ag}}class lg extends xu{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new uu(e.serializer,RE(e.serializer,this.Fc));return new bE(e.path,t)}isEqual(e){return e instanceof lg&&this.Fc===e.Fc}}function ug(n,e,t,r){const s=n.Cc(1,e,t);dg("Data must be an object, but it was:",s,r);const a=[],u=Cn.empty();Ws(r,((f,p)=>{const v=hg(e,f,t);p=Lt(p);const w=s.yc(v);if(p instanceof uh)a.push(v);else{const E=Pu(p,w);E!=null&&(a.push(v),u.set(v,E))}}));const d=new Yn(a);return new mT(u,d,s.fieldTransforms)}function cg(n,e,t,r,s,a){const u=n.Cc(1,e,t),d=[Xp(e,r,t)],f=[s];if(a.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Xp(e,a[E])),f.push(a[E+1]);const p=[],v=Cn.empty();for(let E=d.length-1;E>=0;--E)if(!_T(p,d[E])){const I=d[E];let x=f[E];x=Lt(x);const z=u.yc(I);if(x instanceof uh)p.push(I);else{const F=Pu(x,z);F!=null&&(p.push(I),v.set(I,F))}}const w=new Yn(p);return new mT(v,w,u.fieldTransforms)}function L5(n,e,t,r=!1){return Pu(t,n.Cc(r?4:3,e))}function Pu(n,e){if(vT(n=Lt(n)))return dg("Unsupported field value:",e,n),yT(n,e);if(n instanceof xu)return(function(r,s){if(!gT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const d of r){let f=Pu(d,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RE(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=yt.fromDate(r);return{timestampValue:kd(s.serializer,a)}}if(r instanceof yt){const a=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kd(s.serializer,a)}}if(r instanceof ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:UE(s.serializer,r._byteString)};if(r instanceof xt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof di)return(function(u,d){return{mapValue:{fields:{[cE]:{stringValue:dE},[Cd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Vm(d.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Qd(r)}`)})(n,e)}function yT(n,e){const t={};return iE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(n,((r,s)=>{const a=Pu(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function vT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof ci||n instanceof Kn||n instanceof xt||n instanceof xu||n instanceof di)}function dg(n,e,t){if(!vT(t)||!nE(t)){const r=Qd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Xp(n,e,t){if((e=Lt(e))instanceof Ya)return e._internalPath;if(typeof e=="string")return hg(n,e);throw Ld("Field path arguments must be of type string or ",n,!1,void 0,t)}const M5=new RegExp("[~\\*/\\[\\]]");function hg(n,e,t){if(e.search(M5)>=0)throw Ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ya(...e.split("."))._internalPath}catch{throw Ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ld(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new fe(ee.INVALID_ARGUMENT,d+n+f)}function _T(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ch("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class O5 extends Md{data(){return super.data()}}function ch(n,e){return typeof e=="string"?hg(n,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class pg extends fg{}function W_(n,e,...t){let r=[];e instanceof fg&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof mg)).length,d=a.filter((f=>f instanceof dh)).length;if(u>1||u>0&&d>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class dh extends pg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new dh(e,t,r)}_apply(e){const t=this._parse(e);return ET(e._query,t),new Gi(e.firestore,e.converter,Bp(e._query,t))}_parse(e){const t=Ja(e.firestore);return(function(a,u,d,f,p,v,w){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Q_(w,v);const x=[];for(const z of w)x.push(K_(f,a,z));E={arrayValue:{values:x}}}else E=K_(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Q_(w,v),E=L5(d,u,w,v==="in"||v==="not-in");return jt.create(p,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ll(n,e,t){const r=e,s=ch("where",n);return dh._create(s,r,t)}class mg extends fg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let u=s;const d=a.getFlattenedFilters();for(const f of d)ET(u,f),u=Bp(u,f)})(e._query,t),new Gi(e.firestore,e.converter,Bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends pg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gg(e,t)}_apply(e){const t=(function(s,a,u){if(s.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(a,u)})(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,(function(s,a){const u=s.explicitOrderBy.concat([a]);return new qa(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function q_(n,e="asc"){const t=e,r=ch("orderBy",n);return gg._create(r,t)}class yg extends pg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new yg(e,t,r)}_apply(e){return new Gi(e.firestore,e.converter,Ad(e._query,this._limit,this._limitType))}}function ib(n){return Bx("limit",n),yg._create("limit",n,"F")}function K_(n,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_E(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gt.fromString(t));if(!be.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return a_(n,new be(r))}if(t instanceof xt)return a_(n,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(t)}.`)}function Q_(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(n,e){const t=(function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TT{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ws(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Cd].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new di(t)}convertGeoPoint(e){return new ci(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const t=js(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gt.fromString(e);rt(WE(r),9688,{name:e});const s=new ru(r.get(1),r.get(3)),a=new be(r.popFirst(5));return s.isEqual(t)||zi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class V5 extends TT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}class Ea{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Os extends Md{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ch("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Os._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:$t("string",Os._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class fd extends Os{data(e={}){return super.data(e)}}class So{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ea(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new fd(this._firestore,this._userDataWriter,r.key,r,new Ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new fd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Ea(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new fd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Ea(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:F5(d.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function F5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(n){n=gn(n,xt);const e=gn(n.firestore,Vr);return C5(Qa(e),n._key).then((t=>ST(e,n,t)))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:$t("string",So._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class fh extends TT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function U5(n){n=gn(n,Gi);const e=gn(n.firestore,Vr),t=Qa(e),r=new fh(e);return wT(n._query),R5(t,n._query).then((s=>new So(e,r,n,s)))}function Ua(n,e,t){n=gn(n,xt);const r=gn(n.firestore,Vr),s=hh(n.converter,e,t);return bu(r,[lh(Ja(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,zt.none())])}function sb(n,e,t,...r){n=gn(n,xt);const s=gn(n.firestore,Vr),a=Ja(s);let u;return u=typeof(e=Lt(e))=="string"||e instanceof Ya?cg(a,"updateDoc",n._key,e,t,r):ug(a,"updateDoc",n._key,e),bu(s,[u.toMutation(n._key,zt.exists(!0))])}function ob(n){return bu(gn(n.firestore,Vr),[new Cu(n._key,zt.none())])}function ab(n,e){const t=gn(n.firestore,Vr),r=ii(n),s=hh(n.converter,e);return bu(t,[lh(Ja(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,zt.exists(!1))]).then((()=>r))}function j5(n,...e){n=Lt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||H_(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(H_(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,d;if(n instanceof xt)u=gn(n.firestore,Vr),d=Xd(n._key.path),a={next:f=>{e[r]&&e[r](ST(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=gn(n,Gi);u=gn(f.firestore,Vr),d=f._query;const p=new fh(u);a={next:v=>{e[r]&&e[r](new So(u,p,f,v))},error:e[r+1],complete:e[r+2]},wT(n._query)}return(function(p,v,w,E){const I=new ig(E),x=new tg(v,I,w);return p.asyncQueue.enqueueAndForget((async()=>Xm(await Nd(p),x))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>Zm(await Nd(p),x)))}})(Qa(u),d,s,a)}function bu(n,e){return(function(r,s){const a=new li;return r.asyncQueue.enqueueAndForget((async()=>c5(await S5(r),s,a))),a.promise})(Qa(n),e)}function ST(n,e,t){const r=t.docs.get(e._key),s=new fh(n);return new Os(n,s,e._key,r,new Ea(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ja(e)}set(e,t,r){this._verifyNotCommitted();const s=xs(e,this._firestore),a=hh(s.converter,t,r),u=lh(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,zt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const a=xs(e,this._firestore);let u;return u=typeof(t=Lt(t))=="string"||t instanceof Ya?cg(this._dataReader,"WriteBatch.update",a._key,t,r,s):ug(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,zt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xs(e,this._firestore);return this._mutations=this._mutations.concat(new Cu(t._key,zt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xs(n,e){if((n=Lt(n)).firestore!==e)throw new fe(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ja(e)}get(e){const t=xs(e,this._firestore),r=new V5(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return Ne(24041);const a=s[0];if(a.isFoundDocument())return new Md(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Md(this._firestore,r,t._key,null,t.converter);throw Ne(18433,{doc:a})}))}set(e,t,r){const s=xs(e,this._firestore),a=hh(s.converter,t,r),u=lh(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const a=xs(e,this._firestore);let u;return u=typeof(t=Lt(t))=="string"||t instanceof Ya?cg(this._dataReader,"Transaction.update",a._key,t,r,s):ug(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=xs(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5 extends B5{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xs(e,this._firestore),r=new fh(this._firestore);return super.get(e).then((s=>new Os(this._firestore,r,t._key,s._document,new Ea(!1,!1),t.converter)))}}function lb(n,e,t){n=gn(n,Vr);const r={...z5,...t};return(function(a){if(a.maxAttempts<1)throw new fe(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,u,d){const f=new li;return a.asyncQueue.enqueueAndForget((async()=>{const p=await I5(a);new w5(a.asyncQueue,p,d,u,f).ju()})),f.promise})(Qa(n),(s=>e(new G5(n,s))),r)}function ql(){return new ag("serverTimestamp")}function Y_(n){return new lg("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(n){return Qa(n=gn(n,Vr)),new $5(n,(e=>bu(n,e)))}(function(e,t=!0){(function(s){Ga=s})(za),Pa(new Io("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Vr(new Lx(r.getProvider("auth-internal")),new Vx(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(p.options.projectId,v)})(u,s),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Ds(Kv,Qv,e),Ds(Kv,Qv,"esm2020")})();const W5={apiKey:"AIzaSyAR_AY9733xRieLod3p-CKUFcPMCD2AXI4",authDomain:"typesprout.firebaseapp.com",projectId:"typesprout",storageBucket:"typesprout.firebasestorage.app",messagingSenderId:"970052811902",appId:"1:970052811902:web:0a4e9315eb614b1784ec2f",measurementId:"G-XXXXXXXXXX"},Zp=EA().length?vm():l1(W5),Lr=kx(Zp),cu=new Oi;let em;try{em=k5(Zp,{experimentalAutoDetectLongPolling:!0})}catch{em=x5(Zp)}const Qn=em,ub=Object.freeze(Object.defineProperty({__proto__:null,auth:Lr,db:Qn,googleProvider:cu},Symbol.toStringTag,{value:"Module"}));function q5(){try{const e=Intl.DateTimeFormat().resolvedOptions().locale.split("-")[1];if(e&&e.length===2)return e.toUpperCase()}catch{}return"US"}const cb=[{code:"US",name:"United States"},{code:"TW",name:"Taiwan"},{code:"JP",name:"Japan"},{code:"CN",name:"China"},{code:"HK",name:"Hong Kong"},{code:"SG",name:"Singapore"},{code:"KR",name:"Korea"},{code:"GB",name:"United Kingdom"},{code:"FR",name:"France"},{code:"DE",name:"Germany"}],K5=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];function db(n){const e=n||(typeof navigator<"u"?navigator.language:"en");let t=null;try{t=new Intl.DisplayNames([e],{type:"region"})}catch{t=null}return K5.map(s=>{const a=t?.of(s)||s;return{code:s,name:a}}).sort((s,a)=>String(s.code).localeCompare(String(a.code)))}async function Q5(n){try{const e=ii(Qn,"profiles",n),r=(await Fa(e)).data()?.country;if(!r||typeof r!="string"||r.length!==2)return;const s=ii(Qn,"metrics_country_users",n),u=(await Fa(s)).data()?.last;if(u===r)return;const d=H5(Qn);u&&u!==r&&d.set(ii(Qn,"metrics_country",u.toUpperCase()),{count:Y_(-1)},{merge:!0}),d.set(ii(Qn,"metrics_country",r.toUpperCase()),{count:Y_(1)},{merge:!0}),d.set(s,{last:r.toUpperCase()},{merge:!0}),await d.commit()}catch{}}function vg(){const[n,e]=O.useState(null),[t,r]=O.useState(!0);return O.useEffect(()=>{const s=vk(Lr,async a=>{e(a),r(!1);try{if(!a)return;const u=ii(Qn,"profiles",a.uid),d=await Fa(u),f=q5();if(!d.exists()){await Ua(u,{createdAt:ql(),country:f},{merge:!0});return}const p=d.data();(!p?.country||p.country==="Auto")&&await Ua(u,{country:f,updatedAt:ql()},{merge:!0}),await Q5(a.uid)}catch{}});return()=>s()},[]),{user:n,loading:t}}async function IT(n){const e=ii(Qn,"profiles",n.uid);(await Fa(e)).exists()?await Ua(e,{email:n.email||"",updatedAt:ql()},{merge:!0}):await Ua(e,{displayName:n.displayName||"",email:n.email||"",xp:0,level:1,streakDays:0,langPref:"en-US",gender:"U",dobYM:"",role:"student",points:0,createdAt:ql(),updatedAt:ql()},{merge:!0})}async function Y5(){const n=await Gk(Lr).catch(()=>null);n?.user&&await IT(n.user)}async function J5(){try{await b1(Lr,Rm)}catch{}try{const n=await z1(Lr,cu);n?.user&&await IT(n.user)}catch(n){const e=String(n&&n.code||"");if(/popup/i.test(e)){await G1(Lr,cu);return}throw n}}async function hb(){await _k(Lr)}function X5(){const{user:n,loading:e}=vg(),{t}=gu(),{lang:r}=cm(),[s,a]=O.useState(!1);O.useEffect(()=>{Y5()},[]),O.useEffect(()=>{a(!1)},[n?.uid,n?.photoURL]);const u=O.useMemo(()=>{try{const v=(navigator.userAgent||"").toLowerCase(),w=/(fban|fb_iab|instagram|line\/|micromessenger|twitter|wv|webview)/i.test(v),E=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone===!0;return w||E}catch{return!1}},[]);if(e)return Q.jsx(rd,{disabled:!0,children:t("auth.loading")});if(!n){if(u){const v=t("auth.openInBrowser")||"請在系統瀏覽器開啟",w=t("auth.inAppBlockedHint")||"偵測到內嵌瀏覽器或 PWA，Google 登入可能被封鎖。請改用 Safari/Chrome 開啟本網站再登入。";return Q.jsxs("div",{className:"flex items-center gap-2",children:[Q.jsx(rd,{disabled:!0,children:t("auth.signIn",{defaultValue:"登入"})}),Q.jsx("a",{href:typeof window<"u"?window.location.href:"/",target:"_blank",rel:"noopener noreferrer",className:"text-[var(--color-primary,#16a34a)] underline","aria-label":v,title:w,children:v})]})}return Q.jsx(rd,{onClick:()=>void J5(),children:t("auth.signIn")})}const d=n.photoURL||"",f=!s&&d?`${d}${d.includes("?")?"&":"?"}sz=64`:"",p=n.displayName||t("ui.loading");return Q.jsx(br,{to:`/${r||"en-US"}/profile`,className:"flex items-center gap-2",children:f?Q.jsx("img",{src:f,alt:p,width:36,height:36,className:"rounded-full border border-[var(--color-border,#e5e7eb)]",onError:()=>a(!0),loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"}):Q.jsx("div",{className:"w-9 h-9 rounded-full bg-[var(--color-primary,#16a34a)] text-white grid place-items-center font-semibold",children:p.slice(0,1)})})}async function Z5(){await b1(Lr,Rm);try{return await z1(Lr,cu)}catch{return await G1(Lr,cu)}}const e4=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="184.5" cy="789.1" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="694.4" cy="792.3" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="721.5" cy="799.1" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="648.9" cy="789.7" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="461.1" cy="785.0" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="628.3" cy="782.0" r="3.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="439.9" cy="782.0" r="5.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="696.2" cy="750.5" r="5.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="229.6" cy="801.5" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="433.6" cy="784.6" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="326.6" cy="766.5" r="5.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="621.8" cy="794.4" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="290.8" cy="761.4" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="299.4" cy="774.3" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="357.4" cy="783.4" r="4.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="655.5" cy="763.8" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="290.1" cy="785.7" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="340.0" cy="795.1" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="487.1" cy="752.0" r="4.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="531.8" cy="780.7" r="4.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="435.5" cy="790.8" r="4.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="290.2" cy="789.4" r="4.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="649.0" cy="803.4" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="373.7" cy="790.2" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="434.5" cy="784.2" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="546.7" cy="802.3" r="4.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="476.3" cy="792.8" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="239.3" cy="772.6" r="4.8" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 454,633 450,563" fill="none" stroke="#2f8f3e" stroke-width="14" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,603 Q 400.0,493 350,563" fill="none" stroke="#2f8f3e" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" style="display:none"/>
<path id="stem-2" d="M450,623 Q 505.0,513 560,583" fill="none" stroke="#2f8f3e" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" style="display:none"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-12 390 543)" filter="url(#leafShadow)">  <ellipse cx="390" cy="543" rx="85.0" ry="41.0" fill="url(#cotyledonGrad)" stroke="#2a7b3a" stroke-width="4"/>  <line x1="317.0" y1="543.0" x2="463.0" y2="543.0" stroke="#256d33" stroke-width="5" opacity="0.55"/></g><g id="leaf-2" transform="rotate(12 510 543)" filter="url(#leafShadow)">  <ellipse cx="510" cy="543" rx="85.0" ry="41.0" fill="url(#cotyledonGrad)" stroke="#2a7b3a" stroke-width="4"/>  <line x1="437.0" y1="543.0" x2="583.0" y2="543.0" stroke="#256d33" stroke-width="5" opacity="0.55"/></g><g id="leaf-3" transform="rotate(-18 340 568)" filter="url(#leafShadow)" style="display:none">  <path d="M 265.0,568.0 Q 340.0,498.0 415.0,568.0 Q 340.0,638.0 265.0,568.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="275.0" y1="568.0" x2="405.0" y2="568.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(18 565 573)" filter="url(#leafShadow)" style="display:none">  <path d="M 490.0,573.0 Q 565.0,503.0 640.0,573.0 Q 565.0,643.0 490.0,573.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="500.0" y1="573.0" x2="630.0" y2="573.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"></g>
<g id="fruits"></g>
</svg>`,t4=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="213.7" cy="784.5" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="250.2" cy="787.1" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="697.6" cy="771.6" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="589.5" cy="752.0" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="405.9" cy="757.2" r="4.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="559.0" cy="756.4" r="3.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="413.4" cy="800.2" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="727.7" cy="759.1" r="4.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="266.5" cy="792.8" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="395.3" cy="799.8" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="525.6" cy="753.6" r="6.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="716.7" cy="804.8" r="3.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="481.0" cy="772.2" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="273.4" cy="779.4" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="433.4" cy="780.3" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="729.0" cy="757.0" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="342.3" cy="787.1" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="533.8" cy="769.7" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="666.7" cy="791.1" r="4.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="658.8" cy="766.4" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="623.5" cy="760.0" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="490.8" cy="758.7" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="238.1" cy="771.3" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="326.1" cy="802.5" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="479.4" cy="752.0" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="648.8" cy="803.6" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="305.0" cy="768.4" r="5.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="261.3" cy="749.7" r="4.2" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 456,583 450,463" fill="none" stroke="#2f8f3e" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,533 Q 385.0,428 320,498" fill="none" stroke="#2f8f3e" stroke-width="11" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-2" d="M450,553 Q 520.0,448 590,518" fill="none" stroke="#2f8f3e" stroke-width="11" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-3" d="M450,583 Q 400.0,493 350,563" fill="none" stroke="#2f8f3e" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" style="display:none"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-20 310 483)" filter="url(#leafShadow)">  <path d="M 235.0,483.0 Q 310.0,411.0 385.0,483.0 Q 310.0,555.0 235.0,483.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="245.0" y1="483.0" x2="375.0" y2="483.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-2" transform="rotate(20 600 503)" filter="url(#leafShadow)">  <path d="M 525.0,503.0 Q 600.0,431.0 675.0,503.0 Q 600.0,575.0 525.0,503.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="535.0" y1="503.0" x2="665.0" y2="503.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-3" transform="rotate(-12 360 553)" filter="url(#leafShadow)">  <path d="M 290.0,553.0 Q 360.0,485.0 430.0,553.0 Q 360.0,621.0 290.0,553.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="300.0" y1="553.0" x2="420.0" y2="553.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(12 545 563)" filter="url(#leafShadow)" style="display:none">  <path d="M 475.0,563.0 Q 545.0,495.0 615.0,563.0 Q 545.0,631.0 475.0,563.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="485.0" y1="563.0" x2="605.0" y2="563.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"></g>
<g id="fruits"></g>
</svg>`,n4=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="241.6" cy="798.1" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="297.7" cy="789.0" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="264.4" cy="768.5" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="436.2" cy="789.2" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="688.8" cy="790.0" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="618.0" cy="750.6" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="374.8" cy="772.9" r="4.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="310.5" cy="786.5" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="363.9" cy="766.2" r="3.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="182.7" cy="769.8" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="598.3" cy="778.2" r="4.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="222.0" cy="763.2" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="336.8" cy="804.8" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="673.7" cy="754.4" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="363.1" cy="763.7" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="718.9" cy="750.7" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="635.2" cy="776.4" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="316.1" cy="759.3" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="510.4" cy="802.9" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="277.3" cy="766.1" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="574.5" cy="752.8" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="298.7" cy="786.9" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="282.1" cy="758.9" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="377.9" cy="797.0" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="622.7" cy="759.0" r="5.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="667.4" cy="795.7" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="494.4" cy="779.7" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="253.5" cy="788.0" r="5.4" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 460,528 450,353" fill="none" stroke="#2f8f3e" stroke-width="18" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,423 Q 360.0,333 270,403" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-2" d="M450,453 Q 545.0,363 640,433" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-3" d="M450,483 Q 370.0,403 290,473" fill="none" stroke="#2f8f3e" stroke-width="11" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-4" d="M450,513 Q 530.0,433 610,503" fill="none" stroke="#2f8f3e" stroke-width="11" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-22 250 388)" filter="url(#leafShadow)">  <path d="M 165.0,388.0 Q 250.0,310.0 335.0,388.0 Q 250.0,466.0 165.0,388.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="175.0" y1="388.0" x2="325.0" y2="388.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-2" transform="rotate(22 660 408)" filter="url(#leafShadow)">  <path d="M 575.0,408.0 Q 660.0,330.0 745.0,408.0 Q 660.0,486.0 575.0,408.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="585.0" y1="408.0" x2="735.0" y2="408.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-3" transform="rotate(-20 270 453)" filter="url(#leafShadow)">  <path d="M 190.0,453.0 Q 270.0,377.0 350.0,453.0 Q 270.0,529.0 190.0,453.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="200.0" y1="453.0" x2="340.0" y2="453.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(20 635 463)" filter="url(#leafShadow)">  <path d="M 555.0,463.0 Q 635.0,387.0 715.0,463.0 Q 635.0,539.0 555.0,463.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="565.0" y1="463.0" x2="705.0" y2="463.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-5" transform="rotate(-16 310 503)" filter="url(#leafShadow)">  <path d="M 235.0,503.0 Q 310.0,429.0 385.0,503.0 Q 310.0,577.0 235.0,503.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="245.0" y1="503.0" x2="375.0" y2="503.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-6" transform="rotate(16 595 513)" filter="url(#leafShadow)">  <path d="M 520.0,513.0 Q 595.0,439.0 670.0,513.0 Q 595.0,587.0 520.0,513.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="530.0" y1="513.0" x2="660.0" y2="513.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"><g id="flower-1" class="flower" style="display:none">  <path d="M410,313 C 406.4,306.764617092752 413.6,306.764617092752 410.0,293.0 M410,313 C 413.6,306.764617092752 417.2,313.0 427.3205080756888,303.0 M410,313 C 417.2,313.0 413.6,319.235382907248 427.3205080756888,323.0 M410,313 C 413.6,319.235382907248 406.4,319.235382907248 410.0,333.0 M410,313 C 406.4,319.235382907248 402.8,313.0 392.6794919243112,323.0 M410,313 C 402.8,313.0 406.4,306.764617092752 392.6794919243112,303.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="410" cy="313" r="4.4" fill="#f0a500"/></g><g id="flower-2" class="flower" style="display:none">  <path d="M460,318 C 456.4,311.764617092752 463.6,311.764617092752 460.0,298.0 M460,318 C 463.6,311.764617092752 467.2,318.0 477.3205080756888,308.0 M460,318 C 467.2,318.0 463.6,324.235382907248 477.3205080756888,328.0 M460,318 C 463.6,324.235382907248 456.4,324.235382907248 460.0,338.0 M460,318 C 456.4,324.235382907248 452.8,318.0 442.6794919243112,328.0 M460,318 C 452.8,318.0 456.4,311.764617092752 442.6794919243112,308.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="460" cy="318" r="4.4" fill="#f0a500"/></g><g id="flower-3" class="flower" style="display:none">  <path d="M510,311 C 506.4,304.764617092752 513.6,304.764617092752 510.0,291.0 M510,311 C 513.6,304.764617092752 517.2,311.0 527.3205080756887,301.0 M510,311 C 517.2,311.0 513.6,317.235382907248 527.3205080756887,321.0 M510,311 C 513.6,317.235382907248 506.4,317.235382907248 510.0,331.0 M510,311 C 506.4,317.235382907248 502.8,311.0 492.6794919243112,321.0 M510,311 C 502.8,311.0 506.4,304.764617092752 492.6794919243112,301.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="510" cy="311" r="4.4" fill="#f0a500"/></g></g>
<g id="fruits"></g>
</svg>`,r4=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="578.0" cy="757.6" r="3.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="257.1" cy="785.7" r="5.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="384.5" cy="802.2" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="356.6" cy="755.3" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="614.9" cy="781.7" r="4.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="713.2" cy="795.5" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="343.9" cy="784.2" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="392.8" cy="749.6" r="4.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="499.1" cy="801.7" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="189.7" cy="751.3" r="4.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="524.8" cy="756.2" r="4.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="711.5" cy="770.0" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="376.9" cy="785.6" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="489.4" cy="752.0" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="296.7" cy="782.7" r="4.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="251.4" cy="750.9" r="3.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="424.2" cy="776.4" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="720.8" cy="803.7" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="318.5" cy="779.5" r="5.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="663.1" cy="750.8" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="656.8" cy="753.2" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="683.1" cy="751.9" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="657.9" cy="749.0" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="359.6" cy="763.3" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="490.7" cy="800.6" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="223.2" cy="781.2" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="265.8" cy="780.6" r="4.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="433.2" cy="800.5" r="4.5" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 460,483 450,263" fill="none" stroke="#2f8f3e" stroke-width="20" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,333 Q 345.0,253 240,323" fill="none" stroke="#2f8f3e" stroke-width="13" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-2" d="M450,363 Q 560.0,283 670,353" fill="none" stroke="#2f8f3e" stroke-width="13" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-3" d="M450,403 Q 355.0,328 260,398" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-4" d="M450,443 Q 542.5,368 635,438" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-22 215 298)" filter="url(#leafShadow)">  <path d="M 127.5,298.0 Q 215.0,218.0 302.5,298.0 Q 215.0,378.0 127.5,298.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="137.5" y1="298.0" x2="292.5" y2="298.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-2" transform="rotate(22 695 318)" filter="url(#leafShadow)">  <path d="M 607.5,318.0 Q 695.0,238.0 782.5,318.0 Q 695.0,398.0 607.5,318.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="617.5" y1="318.0" x2="772.5" y2="318.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-3" transform="rotate(-20 245 383)" filter="url(#leafShadow)">  <path d="M 162.5,383.0 Q 245.0,305.0 327.5,383.0 Q 245.0,461.0 162.5,383.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="172.5" y1="383.0" x2="317.5" y2="383.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(20 660 393)" filter="url(#leafShadow)">  <path d="M 577.5,393.0 Q 660.0,315.0 742.5,393.0 Q 660.0,471.0 577.5,393.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="587.5" y1="393.0" x2="732.5" y2="393.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-5" transform="rotate(-16 280 438)" filter="url(#leafShadow)">  <path d="M 202.5,438.0 Q 280.0,362.0 357.5,438.0 Q 280.0,514.0 202.5,438.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="212.5" y1="438.0" x2="347.5" y2="438.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-6" transform="rotate(16 625 448)" filter="url(#leafShadow)">  <path d="M 547.5,448.0 Q 625.0,372.0 702.5,448.0 Q 625.0,524.0 547.5,448.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="557.5" y1="448.0" x2="692.5" y2="448.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"><g id="flower-1" class="flower">  <path d="M400,238 C 396.4,231.76461709275205 403.6,231.76461709275205 400.0,218.0 M400,238 C 403.6,231.76461709275205 407.2,238.0 417.3205080756888,228.0 M400,238 C 407.2,238.0 403.6,244.23538290724795 417.3205080756888,248.0 M400,238 C 403.6,244.23538290724795 396.4,244.23538290724795 400.0,258.0 M400,238 C 396.4,244.23538290724795 392.8,238.0 382.6794919243112,248.0 M400,238 C 392.8,238.0 396.4,231.76461709275205 382.6794919243112,228.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="400" cy="238" r="4.4" fill="#f0a500"/></g><g id="flower-2" class="flower">  <path d="M455,243 C 451.4,236.76461709275205 458.6,236.76461709275205 455.0,223.0 M455,243 C 458.6,236.76461709275205 462.2,243.0 472.3205080756888,233.0 M455,243 C 462.2,243.0 458.6,249.23538290724795 472.3205080756888,253.0 M455,243 C 458.6,249.23538290724795 451.4,249.23538290724795 455.0,263.0 M455,243 C 451.4,249.23538290724795 447.8,243.0 437.6794919243112,253.0 M455,243 C 447.8,243.0 451.4,236.76461709275205 437.6794919243112,233.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="455" cy="243" r="4.4" fill="#f0a500"/></g><g id="flower-3" class="flower">  <path d="M510,235 C 506.4,228.76461709275205 513.6,228.76461709275205 510.0,215.0 M510,235 C 513.6,228.76461709275205 517.2,235.0 527.3205080756887,225.0 M510,235 C 517.2,235.0 513.6,241.23538290724795 527.3205080756887,245.0 M510,235 C 513.6,241.23538290724795 506.4,241.23538290724795 510.0,255.0 M510,235 C 506.4,241.23538290724795 502.8,235.0 492.6794919243112,245.0 M510,235 C 502.8,235.0 506.4,228.76461709275205 492.6794919243112,225.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="510" cy="235" r="4.4" fill="#f0a500"/></g></g>
<g id="fruits"><g id="fruit-1" class="fruit" style="display:none">
  <circle cx="465" cy="248" r="22" fill="url(#fruitGradG)" stroke="#7a1717" stroke-width="4"/>
  <line x1="465" y1="248" x2="465.0" y2="229.3" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="465" y1="248" x2="482.7847568547194" y2="242.2213822051885" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="465" y1="248" x2="475.9915842178693" y2="263.12861779481153" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="465" y1="248" x2="454.0084157821308" y2="263.12861779481153" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="465" y1="248" x2="447.2152431452806" y2="242.2213822051885" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g></g>
</svg>`,i4=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="320.3" cy="764.9" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="340.2" cy="770.2" r="5.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="320.8" cy="765.4" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="214.8" cy="787.1" r="3.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="273.4" cy="792.6" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="509.0" cy="769.5" r="4.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="560.8" cy="768.2" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="554.5" cy="784.0" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="711.4" cy="793.7" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="299.5" cy="750.4" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="652.4" cy="776.4" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="666.8" cy="783.2" r="5.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="464.2" cy="785.7" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="655.4" cy="779.9" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="608.5" cy="798.9" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="612.8" cy="759.2" r="5.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="679.9" cy="781.7" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="704.2" cy="771.4" r="3.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="186.8" cy="790.5" r="4.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="214.0" cy="798.8" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="203.6" cy="785.9" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="700.8" cy="782.3" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="640.3" cy="793.5" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="350.1" cy="756.5" r="5.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="669.9" cy="789.1" r="3.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="367.9" cy="801.0" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="358.9" cy="788.1" r="4.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="528.4" cy="790.0" r="5.2" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 458,463 450,223" fill="none" stroke="#2f8f3e" stroke-width="22" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,293 Q 330.0,213 210,283" fill="none" stroke="#2f8f3e" stroke-width="14" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-2" d="M450,323 Q 575.0,243 700,313" fill="none" stroke="#2f8f3e" stroke-width="14" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-3" d="M450,363 Q 345.0,288 240,358" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-4" d="M450,403 Q 552.5,328 655,398" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-22 190 273)" filter="url(#leafShadow)">  <path d="M 100.0,273.0 Q 190.0,191.0 280.0,273.0 Q 190.0,355.0 100.0,273.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="110.0" y1="273.0" x2="270.0" y2="273.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-2" transform="rotate(22 715 293)" filter="url(#leafShadow)">  <path d="M 625.0,293.0 Q 715.0,211.0 805.0,293.0 Q 715.0,375.0 625.0,293.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="635.0" y1="293.0" x2="795.0" y2="293.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-3" transform="rotate(-20 225 353)" filter="url(#leafShadow)">  <path d="M 140.0,353.0 Q 225.0,273.0 310.0,353.0 Q 225.0,433.0 140.0,353.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="150.0" y1="353.0" x2="300.0" y2="353.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(20 680 363)" filter="url(#leafShadow)">  <path d="M 595.0,363.0 Q 680.0,283.0 765.0,363.0 Q 680.0,443.0 595.0,363.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="605.0" y1="363.0" x2="755.0" y2="363.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-5" transform="rotate(-16 260 413)" filter="url(#leafShadow)">  <path d="M 180.0,413.0 Q 260.0,335.0 340.0,413.0 Q 260.0,491.0 180.0,413.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="190.0" y1="413.0" x2="330.0" y2="413.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-6" transform="rotate(16 645 423)" filter="url(#leafShadow)">  <path d="M 565.0,423.0 Q 645.0,345.0 725.0,423.0 Q 645.0,501.0 565.0,423.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="575.0" y1="423.0" x2="715.0" y2="423.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"><g id="flower-1" class="flower" style="display:none">  <path d="M400,238 C 396.4,231.76461709275205 403.6,231.76461709275205 400.0,218.0 M400,238 C 403.6,231.76461709275205 407.2,238.0 417.3205080756888,228.0 M400,238 C 407.2,238.0 403.6,244.23538290724795 417.3205080756888,248.0 M400,238 C 403.6,244.23538290724795 396.4,244.23538290724795 400.0,258.0 M400,238 C 396.4,244.23538290724795 392.8,238.0 382.6794919243112,248.0 M400,238 C 392.8,238.0 396.4,231.76461709275205 382.6794919243112,228.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="400" cy="238" r="4.4" fill="#f0a500"/></g><g id="flower-2" class="flower" style="display:none">  <path d="M455,243 C 451.4,236.76461709275205 458.6,236.76461709275205 455.0,223.0 M455,243 C 458.6,236.76461709275205 462.2,243.0 472.3205080756888,233.0 M455,243 C 462.2,243.0 458.6,249.23538290724795 472.3205080756888,253.0 M455,243 C 458.6,249.23538290724795 451.4,249.23538290724795 455.0,263.0 M455,243 C 451.4,249.23538290724795 447.8,243.0 437.6794919243112,253.0 M455,243 C 447.8,243.0 451.4,236.76461709275205 437.6794919243112,233.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="455" cy="243" r="4.4" fill="#f0a500"/></g><g id="flower-3" class="flower" style="display:none">  <path d="M510,235 C 506.4,228.76461709275205 513.6,228.76461709275205 510.0,215.0 M510,235 C 513.6,228.76461709275205 517.2,235.0 527.3205080756887,225.0 M510,235 C 517.2,235.0 513.6,241.23538290724795 527.3205080756887,245.0 M510,235 C 513.6,241.23538290724795 506.4,241.23538290724795 510.0,255.0 M510,235 C 506.4,241.23538290724795 502.8,235.0 492.6794919243112,245.0 M510,235 C 502.8,235.0 506.4,228.76461709275205 492.6794919243112,225.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="510" cy="235" r="4.4" fill="#f0a500"/></g></g>
<g id="fruits"><g id="fruit-1" class="fruit">
  <circle cx="370" cy="328" r="36" fill="url(#fruitGradG)" stroke="#7a1717" stroke-width="4"/>
  <line x1="370" y1="328" x2="370.0" y2="297.4" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="370" y1="328" x2="399.1023293986317" y2="318.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="370" y1="328" x2="387.98622872014965" y2="352.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="370" y1="328" x2="352.01377127985035" y2="352.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="370" y1="328" x2="340.8976706013683" y2="318.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g><g id="fruit-2" class="fruit">
  <circle cx="420" cy="313" r="36" fill="url(#fruitGradO)" stroke="#7a1717" stroke-width="4"/>
  <line x1="420" y1="313" x2="420.0" y2="282.4" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="420" y1="313" x2="449.1023293986317" y2="303.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="420" y1="313" x2="437.98622872014965" y2="337.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="420" y1="313" x2="402.01377127985035" y2="337.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="420" y1="313" x2="390.8976706013683" y2="303.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g><g id="fruit-3" class="fruit">
  <circle cx="475" cy="328" r="36" fill="url(#fruitGradR)" stroke="#7a1717" stroke-width="4"/>
  <line x1="475" y1="328" x2="475.0" y2="297.4" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="475" y1="328" x2="504.1023293986317" y2="318.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="475" y1="328" x2="492.98622872014965" y2="352.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="475" y1="328" x2="457.01377127985035" y2="352.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="475" y1="328" x2="445.8976706013683" y2="318.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g><g id="fruit-4" class="fruit">
  <circle cx="530" cy="313" r="36" fill="url(#fruitGradR)" stroke="#7a1717" stroke-width="4"/>
  <line x1="530" y1="313" x2="530.0" y2="282.4" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="530" y1="313" x2="559.1023293986317" y2="303.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="530" y1="313" x2="547.9862287201497" y2="337.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="530" y1="313" x2="512.0137712798503" y2="337.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="530" y1="313" x2="500.8976706013683" y2="303.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g></g>
</svg>`;function J_({stage:n,className:e}){const t=O.useRef(null),r=O.useMemo(()=>[e4,t4,n4,r4,i4][Math.min(4,Math.max(0,n-1))],[n]);return O.useEffect(()=>{const s=t.current;if(!s)return;s.innerHTML=r;const a=s.querySelector("svg");if(!a)return;a.removeAttribute("width"),a.removeAttribute("height"),a.setAttribute("preserveAspectRatio","xMidYMid meet"),a.style.width="100%",a.style.height="100%",a.style.display="block";const u=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(a.classList.remove("boosted"),u)return;const d=a.querySelector("#leaves"),f=a.querySelector("#trunk")||a.querySelector("#stem"),p=a.querySelector("#glow")||a.querySelector("#lighting");d&&d.classList.add("wind"),f&&f.classList.add("wind-slow"),p&&p.classList.add("glow-pulse")},[r]),Q.jsx("div",{ref:t,className:(e?e+" ":"")+"seedling-host","aria-hidden":"true"})}function s4(n="default"){const[e,t]=O.useState({stage:1}),[r,s]=O.useState(!1),[a,u]=O.useState(null),d=Lr.currentUser?.uid,f=O.useCallback(async()=>{if(d){s(!0),u(null);try{const v=ii(Qn,"users",d,"plants",n),w=await Fa(v);if(w.exists()){const E=w.data(),I=Number(E.stage)||1;t({stage:I})}else await Ua(v,{stage:1}),t({stage:1})}catch(v){u(v instanceof Error?v.message:"Failed to load plant")}finally{s(!1)}}},[d,n]),p=O.useCallback(async v=>{if(d){s(!0),u(null);try{const w=ii(Qn,"users",d,"plants",n),E={...e,...v};await Ua(w,E,{merge:!0}),t(E)}catch(w){u(w instanceof Error?w.message:"Failed to save plant")}finally{s(!1)}}},[d,n,e]);return O.useEffect(()=>{f()},[f]),{state:e,loading:r,error:a,load:f,save:p}}const o4=O.lazy(()=>gr(()=>import("./Home-DAo6dKAQ.js"),__vite__mapDeps([0,1,2,3]))),a4=O.lazy(()=>gr(()=>import("./Test-C4fl3wVq.js"),__vite__mapDeps([4,5,1,2,6,7,3]))),l4=O.lazy(()=>gr(()=>import("./Result-PRfR8jEa.js"),__vite__mapDeps([8,5,1]))),u4=O.lazy(()=>gr(()=>import("./Leaderboard-DDXvK147.js"),[])),c4=O.lazy(()=>gr(()=>import("./Profile-RQvaXA5a.js"),__vite__mapDeps([9,5,1,6,7]))),d4=O.lazy(()=>gr(()=>import("./Garden-ddeHxZgU.js"),__vite__mapDeps([10,2])));O.lazy(()=>gr(()=>import("./Admin-OrgaZ-c7.js"),__vite__mapDeps([11,7])));O.lazy(()=>gr(()=>import("./AdminEmailList-DICMhskp.js"),[]));const h4=O.lazy(()=>gr(()=>import("./NotFound-S3VWNG3A.js"),[])),f4=O.lazy(()=>gr(()=>import("./Terms-DnyBgLLu.js"),[])),p4=O.lazy(()=>gr(()=>import("./Privacy-eu4nr8P9.js"),[])),m4=[{index:!0,element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(o4,{})}),errorElement:Q.jsx(ni,{})},{path:"test",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(a4,{})}),errorElement:Q.jsx(ni,{})},{path:"result",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(l4,{})}),errorElement:Q.jsx(ni,{})},{path:"leaderboard",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(u4,{})}),errorElement:Q.jsx(ni,{})},{path:"profile",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(c4,{})}),errorElement:Q.jsx(ni,{})},{path:"garden",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(d4,{})}),errorElement:Q.jsx(ni,{})},{path:"terms",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(f4,{})}),errorElement:Q.jsx(ni,{})},{path:"privacy",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(p4,{})}),errorElement:Q.jsx(ni,{})},{path:"seedling",element:Q.jsx(g4,{}),errorElement:Q.jsx(ni,{})},{path:"*",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(h4,{})}),errorElement:Q.jsx(ni,{})}];function g4(){const{t:n}=gu(),{user:e,loading:t}=vg(),{state:r,save:s,loading:a}=s4("default");return t?null:e?Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4",children:[Q.jsx("h2",{className:"h2 mb-3",children:"Seedling"}),Q.jsx("div",{className:"w-64 h-64",children:Q.jsx(J_,{stage:r.stage,className:"w-full h-full"})}),Q.jsxs("div",{className:"mt-6",children:[Q.jsx("div",{className:"text-[var(--color-muted,#6b7280)] mb-2",children:n("dev.stageOverview")}),Q.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-3",children:[1,2,3,4,5].map(u=>Q.jsxs("div",{className:"p-3 border rounded-[12px] text-center",children:[Q.jsx("div",{className:"mx-auto w-32 h-32",children:Q.jsx(J_,{stage:u,className:"w-full h-full"})}),Q.jsxs("div",{className:"mt-1 text-sm",children:[n("dev.stage")," ",u]})]},u))})]}),Q.jsx("div",{className:"mt-3 flex items-center gap-2",children:Q.jsxs("label",{className:"flex items-center gap-2",children:[Q.jsx("span",{children:n("dev.stage")}),Q.jsxs("select",{className:"h-10 rounded-[10px] border px-2",value:r.stage,onChange:u=>{s({stage:Number(u.target.value)})},disabled:a,children:[Q.jsx("option",{value:1,children:"1"}),Q.jsx("option",{value:2,children:"2"}),Q.jsx("option",{value:3,children:"3"}),Q.jsx("option",{value:4,children:"4"}),Q.jsx("option",{value:5,children:"5"})]})]})}),Q.jsxs("div",{className:"mt-2 text-[var(--color-muted,#6b7280)] text-sm",children:[n("dev.savedToFirestore"),"：","users/{uid}/plants/default"]})]}):Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4",children:[Q.jsx("h2",{className:"h2 mb-3",children:"Seedling"}),Q.jsx("p",{className:"mb-3",children:n("auth.pleaseSignIn")}),Q.jsx(rd,{onClick:()=>{Z5()},children:"Sign in with Google"})]})}function ni(){const{t:n}=gu(),e=Bw(),t=xa(e),r=(()=>{try{return t?`${e.status} ${e.statusText}`:e&&typeof e=="object"&&"message"in e?String(e.message):n("error.loadingError")}catch{return n("error.loadingError")}})();return Q.jsx("div",{className:"max-w-[960px] mx-auto px-4 py-6",children:Q.jsxs("div",{className:"p-4 border rounded-[12px] bg-red-50 border-red-200 text-red-700",children:[Q.jsx("div",{className:"font-semibold mb-1",children:n("error.errorOccurred")}),Q.jsx("div",{className:"text-sm mb-3",children:r}),Q.jsx(br,{to:"..",relative:"path",className:"inline-flex items-center px-3 h-10 rounded-[10px] border bg-white",children:n("error.goBack")}),Q.jsx("span",{className:"mx-2"}),Q.jsx(br,{to:"/",className:"inline-flex items-center px-3 h-10 rounded-[10px] border bg-white",children:n("error.goHome")})]})})}const ko=["zh-TW","en-US","es-MX","pt-BR","ja-JP","ko-KR","fr-FR","de-DE","it-IT","id-ID","vi-VN","th-TH","ru-RU","ar-SA","fil-PH","nl-NL","pl-PL","sv-SE","nb-NO","da-DK","fi-FI","ro-RO","el-GR","cs-CZ","hu-HU","uk-UA","ms-MY","hi-IN","bn-BD","he-IL","fa-IR","ur-PK","tr-TR","zh-CN"],Mr="zh-TW";function _g(n){const e=String(n||"").toLowerCase();return e.startsWith("ar")||e.startsWith("he")||e.startsWith("fa")||e.startsWith("ur")}function du(n,e=Mr){const t=String(n||"").trim();if(ko.includes(t))return t;const r=t.toLowerCase().slice(0,2),s={zh:"zh-TW",en:"en-US",ja:"ja-JP",ko:"ko-KR",es:"es-MX",pt:"pt-BR",fr:"fr-FR",de:"de-DE",it:"it-IT",id:"id-ID",vi:"vi-VN",th:"th-TH",ru:"ru-RU",ar:"ar-SA",fil:"fil-PH",nl:"nl-NL",pl:"pl-PL",sv:"sv-SE",nb:"nb-NO",da:"da-DK",fi:"fi-FI",ro:"ro-RO",el:"el-GR",cs:"cs-CZ",hu:"hu-HU",uk:"uk-UA",ms:"ms-MY",hi:"hi-IN",bn:"bn-BD",he:"he-IL",fa:"fa-IR",ur:"ur-PK",tr:"tr-TR"};return t.toLowerCase().startsWith("zh-cn")?"zh-CN":r in s?s[r]:e}function y4({title:n,description:e,canonicalPath:t,noIndex:r=!1}){const s=typeof location<"u"?location.origin:"",a=t.split("/")[1]||"en-US",u=s?`${s}${t}`:t,d={"@context":"https://schema.org","@type":"SoftwareApplication","@id":s?`${s}/#app`:"#app",name:n,description:e,applicationCategory:"EducationalApplication",applicationSubCategory:"TypingPractice",operatingSystem:"Web",url:u,inLanguage:a,isAccessibleForFree:!0,offers:{"@type":"Offer",price:"0",priceCurrency:"USD"},publisher:{"@type":"Organization",name:"TypeSprout"},mainEntityOfPage:u};return Q.jsxs(S2,{children:[Q.jsx("title",{children:n}),Q.jsx("meta",{name:"description",content:e}),r&&Q.jsx("meta",{name:"robots",content:"noindex,nofollow"}),s&&Q.jsx("link",{rel:"canonical",href:u}),s&&!r&&ko.map(f=>Q.jsx("link",{rel:"alternate",hrefLang:f,href:`${s}/${f}${t.replace(`/${a}`,"")}`},f)),Q.jsx("script",{type:"application/ld+json",children:JSON.stringify(d)})]})}function v4({label:n,children:e="？"}){const t=O.useId(),[r,s]=O.useState(!1);return Q.jsxs("span",{className:"relative inline-block align-middle",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[Q.jsx("span",{"aria-describedby":t,onFocus:()=>s(!0),onBlur:()=>s(!1),tabIndex:0,className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-sky-100 text-sky-700 text-[10px] font-bold cursor-help outline-none focus:ring-2 focus:ring-sky-300 ml-1 align-middle",children:e}),r&&Q.jsx("div",{role:"tooltip",id:t,className:"absolute z-10 mt-1 min-w-[180px] max-w-[260px] px-2 py-1 text-xs leading-5 rounded-md border border-[var(--color-border,#e5e7eb)] bg-white shadow-[0_2px_8px_rgba(0,0,0,.08)]",style:{left:"50%",transform:"translateX(-50%)"},children:n})]})}const pa={baseByLang:{"en-US":10,"zh-TW":10,"zh-CN":10},targetByGrade:{"en-US":{1:10,2:15,3:20,4:25,5:30,6:35},"zh-TW":{1:60,2:70,3:80,4:100,5:110,6:120},"zh-CN":{1:60,2:70,3:80,4:100,5:110,6:120}},dailyEpCap:100,extremes:{enWpm:200,zhCpm:400},humanMaxCpm:1e3};function CT({children:n,size:e="base",className:t=""}){const r={xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"};return Q.jsx("span",{className:`brand-title ${r[e]} ${t}`,style:{fontFamily:"var(--font-brand)",fontWeight:800,letterSpacing:"0.5px",color:"var(--color-primary, #16a34a)"},children:n})}const _4="typesprout_reminder_pref_v1",RT="typesprout_last_practice_v1";function wg(){try{const n=localStorage.getItem(_4);if(!n)return{enabled:!0,hour:19};const e=JSON.parse(n);return{enabled:e.enabled??!0,hour:Number.isFinite(e.hour)?e.hour:19}}catch{return{enabled:!0,hour:19}}}function w4(){try{localStorage.setItem(RT,String(Date.now()))}catch{}}function AT(){const n=localStorage.getItem(RT);if(!n)return null;const e=Number(n);return Number.isFinite(e)?e:null}function kT(n=Date.now()){const e=wg();if(!e.enabled)return!1;const t=AT();return t?(n-t)/36e5<24?!1:new Date(n).getHours()>=e.hour:!0}async function xT(){if(!("Notification"in window))return"denied";if(Notification.permission!=="default")return Notification.permission;try{return await Notification.requestPermission()}catch{return Notification.permission}}function PT(){if(!("Notification"in window)||Notification.permission!=="granted")return!1;try{return new Notification("來練習幾分鐘吧！",{body:"每天練習一點點，小樹就會長大、還能結果！",badge:"/icons/badge-72.png",icon:"/icons/icon-192.png"}),!0}catch{return!1}}const fb=Object.freeze(Object.defineProperty({__proto__:null,getLastPracticeMs:AT,loadReminderPref:wg,markPracticedNow:w4,requestNotifyPermission:xT,shouldRemind:kT,showReminderNotification:PT},Symbol.toStringTag,{value:"Module"}));function E4({children:n}){const{t:e}=gu(),{user:t}=vg(),{lang:r}=cm(),s=r||"en-US",{pathname:a}=pi(),u=a.split("/")[2]||"",f=(Z=>{const J="TypeSprout";switch(Z){case"practice":return{title:`${e("nav.practice")} — ${J}`,description:e("meta.practiceDescription")};case"test":return{title:`${e("nav.test")} — ${J}`,description:e("meta.testDescription")};case"result":return{title:`${e("meta.result")} — ${J}`,description:e("meta.resultDescription")};case"leaderboard":return{title:`${e("nav.leaderboard")} — ${J}`,description:e("meta.leaderboardDescription")};case"profile":return{title:`${e("nav.profile")} — ${J}`,description:e("meta.profileDescription")};case"garden":return{title:`${e("nav.garden")} — ${J}`,description:e("meta.gardenDescription")};case"admin":return{title:`Admin — ${J}`,description:"Administration placeholder."};default:return{title:`${J} — ${e("nav.subtitle")}`,description:e("meta.homeDescription")}}})(u),p=a||`/${s}/`,[v,w]=O.useState(!1),[E,I]=O.useState(!1),[x,z]=O.useState(0),[F,H]=O.useState(null);return O.useEffect(()=>{if(!wg().enabled)return;(async()=>{kT()&&(await xT()==="granted"&&PT()||w(!0))})()},[]),O.useEffect(()=>{try{sessionStorage.getItem("hideLoginHint")==="1"&&I(!0)}catch{}},[]),O.useEffect(()=>{if(!t){z(0);return}try{const Z=new Date,J=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate()),se=new Date(Z.getFullYear(),Z.getMonth(),Z.getDate(),23,59,59,999),de=J,U=se;console.log("Debug: Time calculation",{now:Z,nowLocal:Z.toLocaleString(),nowUTC:Z.toISOString(),todayLocal:J,todayLocalString:J.toLocaleString(),todayLocalUTC:J.toISOString(),todayEndLocal:se,todayEndLocalString:se.toLocaleString(),todayEndLocalUTC:se.toISOString(),start:de,startLocal:de.toLocaleString(),startUTC:de.toISOString(),end:U,endLocal:U.toLocaleString(),endUTC:U.toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timezoneOffset:Z.getTimezoneOffset()}),console.log("Debug: Time calculation details",{now:Z.toISOString(),nowLocal:Z.toLocaleString(),todayLocal:J.toISOString(),todayLocalString:J.toLocaleString(),start:de.toISOString(),startLocal:de.toLocaleString(),user:t.uid});const P=W_(z_(Qn,"economyLogs"),Ll("uid","==",t.uid),Ll("ts",">=",yt.fromDate(de)),Ll("ts","<=",yt.fromDate(U)),q_("ts","desc")),R=j5(P,A=>{let b=0;if(console.log("Economy logs count:",A.docs.length,"logs"),A.docs.forEach(M=>{const j=M.data();if(j.type==="earn"){const C=Number(j.delta||0);b+=C,console.log("Economy log entry:",{type:j.type,delta:C,ts:j.ts?.toDate?.()?.toISOString()})}}),b===0){console.log("No economy logs found, calculating from attempts"),(async()=>{try{const j=W_(z_(Qn,"attempts"),Ll("uid","==",t.uid),Ll("ts",">=",yt.fromDate(de)),q_("ts","desc")),C=await U5(j);console.log("Found attempts:",C.docs.length,"attempts");let Te=0;C.docs.forEach(Ke=>{const ye=Ke.data(),Ae=ye.ts?.toDate?.();if(console.log("Attempt details:",{ts:Ae?.toISOString(),tsLocal:Ae?.toLocaleString(),durationSec:ye.durationSec,adjWpm:ye.adjWpm,accuracy:ye.accuracy}),Ae&&Ae>=de&&Ae<=U){if(ye.durationSec&&ye.adjWpm&&ye.accuracy){const re=r||"en-US",me=pa.baseByLang[re],le=ye.durationSec/60,L=Math.max(0,Math.min(2,ye.adjWpm/20)),X=me*le*L*(.5+.5*ye.accuracy),pe=Math.round(X);Te+=pe,console.log("EP calculation:",{minutes:le,ratio:L,ep:X,roundedEp:pe,calculatedSum:Te})}}else console.log("Attempt outside time range:",{recordTime:Ae?.toISOString(),start:de.toISOString(),end:U.toISOString()})}),console.log("Total calculated EP:",Te),z(Te)}catch(j){console.error("Error calculating EP from attempts:",j)}})();return}console.log("Total EP from economy logs:",b),z(b)});return()=>{try{R()}catch{}}}catch(Z){console.error("Error in getTodayEarned:",Z),z(0)}},[t]),O.useEffect(()=>{(async()=>{try{if(!t){H(null);return}const Z=r||"en-US",J=pa.baseByLang[Z],se=ii(Qn,"profiles",t.uid),de=await Fa(se),U=de.exists()?de.data():{},P=Math.max(1,Math.min(6,Number(U.grade||3))),R=pa.targetByGrade[Z]?.[P]||20,A=U.lastAttempt||{},b=Math.max(0,Math.min(1,Number(A.accuracy??.85))),M=Number(A.adjWpm??R*.8),j=Math.max(0,Math.min(2,M/R)),C=J*j*(.5+.5*b),Te=Math.max(0,pa.dailyEpCap-x);if(!Number.isFinite(C)||C<=0)H(null);else{const Ke=Te<=0?0:Math.ceil(Te/C),Ae=Math.min(Ke,100);H(Number.isFinite(Ae)?Ae:null)}}catch{H(null)}})()},[t,r,x]),Q.jsxs(Q.Fragment,{children:[Q.jsx(y4,{title:f.title,description:f.description,canonicalPath:p}),typeof window<"u"&&r&&Q.jsx("script",{dangerouslySetInnerHTML:{__html:`try{localStorage.setItem('typesprout_lang','${s}')}catch{}`}}),t&&Q.jsx("div",{className:"bg-[var(--color-surface,#fff)]/90 backdrop-blur border-b border-[var(--color-border,#e5e7eb)] sticky top-0 z-30","aria-label":"t('test.loadingQuestions')",children:Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4 py-2 text-sm flex items-center justify-between gap-3",children:[Q.jsxs("div",{className:"text-[var(--color-muted,#6b7280)] flex items-center",children:[e("layout.todayProgress")," ",x,"/",pa.dailyEpCap,"（",e("layout.remaining")," ",Math.max(0,pa.dailyEpCap-x),"）",F!=null&&` ${e("layout.estimatedMinutes",{minutes:F})}`,Q.jsx(v4,{label:e("layout.epExplanation",{estMinLeft:F||0}),children:"？"})]}),Q.jsx("div",{className:"text-[12px] text-[var(--color-muted,#6b7280)]",children:t.displayName||t.email||"User"})]})}),!t&&!E&&Q.jsx("div",{className:"bg-sky-50 border-b border-sky-200 text-[var(--color-surface-foreground,#111827)]",children:Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4 py-2 text-sm flex items-center justify-between gap-3 flex-wrap",role:"region","aria-label":"t('test.loadingQuestions')",children:[Q.jsx("div",{children:e("layout.loginSuggestion")}),Q.jsx("div",{className:"flex items-center gap-2",children:Q.jsx("button",{className:"px-2 py-1 rounded border",onClick:()=>{I(!0);try{sessionStorage.setItem("hideLoginHint","1")}catch{}},"aria-label":e("ui.closeHint"),children:e("ui.later")})})]})}),v&&!a.includes("/result")&&Q.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 text-[var(--color-surface-foreground,#111827)]",children:Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4 py-2 text-sm flex items-center justify-between gap-3",children:[Q.jsx("div",{children:e("layout.dailyReminder")}),Q.jsx("button",{className:"px-2 py-1 rounded border",onClick:()=>w(!1),children:e("ui.gotIt")})]})}),n,Q.jsx("footer",{className:"mt-8 pt-6 border-t border-[var(--color-border,#e5e7eb)] text-[var(--color-muted,#6b7280)] text-sm",children:Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4 flex items-center justify-between gap-3 flex-wrap",children:[Q.jsxs("div",{children:["© ",new Date().getFullYear()," ",Q.jsx(CT,{size:"sm",children:"TypeSprout"})]}),Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx(br,{to:`/${r}/terms`,"aria-label":e("ui.string154"),children:e("ui.string154")}),Q.jsx(br,{to:`/${r}/privacy`,"aria-label":e("ui.string092"),children:e("ui.string092")})]})]})})]})}function X_(){const{lang:n}=cm(),{t:e,i18n:t}=gu();return O.useEffect(()=>{(async()=>{try{if(n&&t.language!==n){console.log("[App] Syncing language from URL:",n,"current i18n language:",t.language);const{reloadTranslations:r}=await gr(async()=>{const{reloadTranslations:s}=await Promise.resolve().then(()=>J4);return{reloadTranslations:s}},void 0);await r(n),await t.changeLanguage(n),console.log("[App] Language synced successfully to:",n)}}catch(r){console.error("[App] Failed to sync language:",r)}finally{try{const r=n||t.language||Mr,s=document.documentElement;s.setAttribute("lang",r),s.setAttribute("dir",_g(r)?"rtl":"ltr")}catch{}}})()},[n,t]),Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4",children:[Q.jsx("a",{href:"#content",className:"sr-only focus:not-sr-only",children:"Skip to main content"}),Q.jsx("nav",{className:"sr-only focus:not-sr-only",children:Q.jsx("a",{href:"#primary-nav",children:"Skip to primary navigation"})}),Q.jsxs("header",{className:"flex items-center justify-between gap-3 mb-4",children:[Q.jsxs("div",{className:"flex items-center gap-4",children:[Q.jsx(br,{to:`/${n}/`,className:"no-underline",children:Q.jsxs("h1",{className:"leading-none",children:[Q.jsx(CT,{size:"2xl",children:"TypeSprout"}),Q.jsx("div",{className:"brand-subtitle mt-0.5 text-[13px] font-medium text-[var(--color-muted,#6b7280)]",children:e("nav.subtitle")})]})}),Q.jsxs("nav",{id:"primary-nav",className:"flex items-center gap-3","aria-label":"Primary",children:[Q.jsx(br,{to:`/${n}/test`,children:e("nav.test")}),Q.jsx(br,{to:`/${n}/leaderboard`,children:e("nav.leaderboard")}),Q.jsx(br,{to:`/${n}/garden`,children:e("nav.garden")})]})]}),Q.jsx(X5,{})]}),Q.jsx("main",{id:"content",className:"py-2 pb-8",children:Q.jsx(E4,{children:PI(m4)})}),!1]})}const je=n=>typeof n=="string",Ml=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},Z_=n=>n==null?"":""+n,T4=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},S4=/###/g,ew=n=>n&&n.indexOf("###")>-1?n.replace(S4,"."):n,tw=n=>!n||je(n),Kl=(n,e,t)=>{const r=je(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(tw(n))return{};const a=ew(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return tw(n)?{}:{obj:n,k:ew(r[s])}},nw=(n,e,t)=>{const{obj:r,k:s}=Kl(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=Kl(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=Kl(n,u,Object),d?.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},I4=(n,e,t,r)=>{const{obj:s,k:a}=Kl(n,e,Object);s[a]=s[a]||[],s[a].push(t)},Od=(n,e)=>{const{obj:t,k:r}=Kl(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},C4=(n,e,t)=>{const r=Od(n,t);return r!==void 0?r:Od(e,t)},bT=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?je(n[r])||n[r]instanceof String||je(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):bT(n[r],e[r],t):n[r]=e[r]);return n},ma=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var R4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const A4=n=>je(n)?n.replace(/[&<>"'\/]/g,e=>R4[e]):n;class k4{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const x4=[" ",",","?","!",";"],P4=new k4(20),b4=(n,e,t)=>{e=e||"",t=t||"";const r=x4.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=P4.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!s.test(n);if(!a){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(a=!0)}return a},tm=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=a;f<r.length;++f)if(f!==a&&(d+=t),d+=r[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;a+=f-a+1;break}s=u}return s},hu=n=>n?.replace("_","-"),D4={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class Vd{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||D4,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(je(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Vd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Vd(this.logger,e)}}var si=new Vd;class ph{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let u=0;u<a;u++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let u=0;u<a;u++)s.apply(s,[e,...t])})}}class rw extends ph{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):je(r)&&a?d.push(...r.split(a)):d.push(r)));const f=Od(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!je(r)?f:tm(this.data?.[e]?.[t],r,a)}addResource(e,t,r,s,a={silent:!1}){const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),s=t,t=d[1]),this.addNamespaces(t),nw(this.data,d,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const a in r)(je(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a,u={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=t,t=d[1]),this.addNamespaces(t);let f=Od(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?bT(f,r,a):f={...f,...r},nw(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var DT={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{e=this.processors[a]?.process(e,t,r,s)??e}),e}};const NT=Symbol("i18next/PATH_KEY");function N4(){const n=[],e=Object.create(null);let t;return e.get=(r,s)=>(t?.revoke?.(),s===NT?n:(n.push(s),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function L4(n,e){const{[NT]:t}=n(N4());return t.join(e?.keySeparator??".")}const iw={},sw=n=>!je(n)&&typeof n!="boolean"&&typeof n!="number";class Fd extends ph{constructor(e,t={}){super(),T4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=si.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!b4(e,r,s);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:je(a)?[a]:a};const p=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(p[0])>-1)&&(a=p.shift()),e=p.join(s)}return{key:e,namespaces:je(a)?[a]:a}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=L4(e,s)),Array.isArray(e)||(e=[String(e)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(e[e.length-1],s),p=f[f.length-1];let v=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const w=s.lng||this.language,E=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(w?.toLowerCase()==="cimode")return E?a?{res:`${p}${v}${d}`,usedKey:d,exactUsedKey:d,usedLng:w,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:`${p}${v}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:w,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:d;const I=this.resolve(e,s);let x=I?.res;const z=I?.usedKey||d,F=I?.exactUsedKey||d,H=["[object Number]","[object Function]","[object RegExp]"],Z=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,J=!this.i18nFormat||this.i18nFormat.handleAsObject,se=s.count!==void 0&&!je(s.count),de=Fd.hasDefaultValue(s),U=se?this.pluralResolver.getSuffix(w,s.count,s):"",P=s.ordinal&&se?this.pluralResolver.getSuffix(w,s.count,{ordinal:!1}):"",R=se&&!s.ordinal&&s.count===0,A=R&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${U}`]||s[`defaultValue${P}`]||s.defaultValue;let b=x;J&&!x&&de&&(b=A);const M=sw(b),j=Object.prototype.toString.apply(b);if(J&&b&&M&&H.indexOf(j)<0&&!(je(Z)&&Array.isArray(b))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(z,b,{...s,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(I.res=C,I.usedParams=this.getUsedParamsDetails(s),I):C}if(u){const C=Array.isArray(b),Te=C?[]:{},Ke=C?F:z;for(const ye in b)if(Object.prototype.hasOwnProperty.call(b,ye)){const Ae=`${Ke}${u}${ye}`;de&&!x?Te[ye]=this.translate(Ae,{...s,defaultValue:sw(A)?A[ye]:void 0,joinArrays:!1,ns:f}):Te[ye]=this.translate(Ae,{...s,joinArrays:!1,ns:f}),Te[ye]===Ae&&(Te[ye]=b[ye])}x=Te}}else if(J&&je(Z)&&Array.isArray(x))x=x.join(Z),x&&(x=this.extendTranslation(x,e,s,r));else{let C=!1,Te=!1;!this.isValidLookup(x)&&de&&(C=!0,x=A),this.isValidLookup(x)||(Te=!0,x=d);const ye=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Te?void 0:x,Ae=de&&A!==x&&this.options.updateMissing;if(Te||C||Ae){if(this.logger.log(Ae?"updateKey":"missingKey",w,p,d,Ae?A:x),u){const L=this.resolve(d,{...s,keySeparator:!1});L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&me&&me[0])for(let L=0;L<me.length;L++)re.push(me[L]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(s.lng||this.language):re.push(s.lng||this.language);const le=(L,X,pe)=>{const Oe=de&&pe!==x?pe:ye;this.options.missingKeyHandler?this.options.missingKeyHandler(L,p,X,Oe,Ae,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(L,p,X,Oe,Ae,s),this.emit("missingKey",L,p,X,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&se?re.forEach(L=>{const X=this.pluralResolver.getSuffixes(L,s);R&&s[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(pe=>{le([L],d+pe,s[`defaultValue${pe}`]||A)})}):le(re,d,A))}x=this.extendTranslation(x,e,s,I,r),Te&&x===d&&this.options.appendNamespaceToMissingKey&&(x=`${p}${v}${d}`),(Te||C)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${v}${d}`:d,C?x:void 0,s))}return a?(I.res=x,I.usedParams=this.getUsedParamsDetails(s),I):x}extendTranslation(e,t,r,s,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=je(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const w=e.match(this.interpolator.nestingRegexp);p=w&&w.length}let v=r.replace&&!je(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||s.usedLng,r),f){const w=e.match(this.interpolator.nestingRegexp),E=w&&w.length;p<E&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...w)=>a?.[0]===w[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${t[0]}`),null):this.translate(...w,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,d=je(u)?[u]:u;return e!=null&&d?.length&&r.applyPostProcessor!==!1&&(e=DT.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,a,u,d;return je(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const p=this.extractFromKey(f,t),v=p.key;s=v;let w=p.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const E=t.count!==void 0&&!je(t.count),I=E&&!t.ordinal&&t.count===0,x=t.context!==void 0&&(je(t.context)||typeof t.context=="number")&&t.context!=="",z=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);w.forEach(F=>{this.isValidLookup(r)||(d=F,!iw[`${z[0]}-${F}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(iw[`${z[0]}-${F}`]=!0,this.logger.warn(`key "${s}" for languages "${z.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),z.forEach(H=>{if(this.isValidLookup(r))return;u=H;const Z=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(Z,v,H,F,t);else{let se;E&&(se=this.pluralResolver.getSuffix(H,t.count,t));const de=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(t.ordinal&&se.indexOf(U)===0&&Z.push(v+se.replace(U,this.options.pluralSeparator)),Z.push(v+se),I&&Z.push(v+de)),x){const P=`${v}${this.options.contextSeparator||"_"}${t.context}`;Z.push(P),E&&(t.ordinal&&se.indexOf(U)===0&&Z.push(P+se.replace(U,this.options.pluralSeparator)),Z.push(P+se),I&&Z.push(P+de))}}let J;for(;J=Z.pop();)this.isValidLookup(r)||(a=J,r=this.getResource(H,F,J,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!je(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class ow{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=si.create("languageUtils")}getScriptPartFromCode(e){if(e=hu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=hu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(je(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(u=>{if(u===a)return u;if(!(u.indexOf("-")<0&&a.indexOf("-")<0)&&(u.indexOf("-")>0&&a.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===a||u.indexOf(a)===0&&a.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),je(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],a=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return je(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):je(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&a(this.formatLanguageCode(u))}),s}}const aw={zero:0,one:1,two:2,few:3,many:4,other:5},lw={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class M4{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=si.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=hu(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),lw;if(!e.match(/-|_/))return lw;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[a]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,a)=>aw[s]-aw[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const uw=(n,e,t,r=".",s=!0)=>{let a=C4(n,e,t);return!a&&s&&je(t)&&(a=tm(n,t,r),a===void 0&&(a=tm(e,t,r))),a},fp=n=>n.replace(/\$/g,"$$$$");class O4{constructor(e={}){this.logger=si.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:p,unescapeSuffix:v,unescapePrefix:w,nestingPrefix:E,nestingPrefixEscaped:I,nestingSuffix:x,nestingSuffixEscaped:z,nestingOptionsSeparator:F,maxReplaces:H,alwaysFormat:Z}=e.interpolation;this.escape=t!==void 0?t:A4,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?ma(a):u||"{{",this.suffix=d?ma(d):f||"}}",this.formatSeparator=p||",",this.unescapePrefix=v?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=E?ma(E):I||ma("$t("),this.nestingSuffix=x?ma(x):z||ma(")"),this.nestingOptionsSeparator=F||",",this.maxReplaces=H||1e3,this.alwaysFormat=Z!==void 0?Z:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let a,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=I=>{if(I.indexOf(this.formatSeparator)<0){const H=uw(t,f,I,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(H,void 0,r,{...s,...t,interpolationkey:I}):H}const x=I.split(this.formatSeparator),z=x.shift().trim(),F=x.join(this.formatSeparator).trim();return this.format(uw(t,f,z,this.options.keySeparator,this.options.ignoreJSONStructure),F,r,{...s,...t,interpolationkey:z})};this.resetRegExp();const v=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,w=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:I=>fp(I)},{regex:this.regexp,safeValue:I=>this.escapeValue?fp(this.escape(I)):fp(I)}].forEach(I=>{for(d=0;a=I.regex.exec(e);){const x=a[1].trim();if(u=p(x),u===void 0)if(typeof v=="function"){const F=v(e,a,s);u=je(F)?F:""}else if(s&&Object.prototype.hasOwnProperty.call(s,x))u="";else if(w){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),u="";else!je(u)&&!this.useRawValueToEscape&&(u=Z_(u));const z=I.safeValue(u);if(e=e.replace(a[0],z),w?(I.regex.lastIndex+=u.length,I.regex.lastIndex-=a[0].length):I.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,a,u;const d=(f,p)=>{const v=this.nestingOptionsSeparator;if(f.indexOf(v)<0)return f;const w=f.split(new RegExp(`${v}[ ]*{`));let E=`{${w[1]}`;f=w[0],E=this.interpolate(E,u);const I=E.match(/'/g),x=E.match(/"/g);((I?.length??0)%2===0&&!x||x.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),p&&(u={...p,...u})}catch(z){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,z),`${f}${v}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!je(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const p=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(p!==-1&&(f=s[1].slice(p).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),s[1]=s[1].slice(0,p)),a=t(d.call(this,s[1].trim(),u),u),a&&s[0]===e&&!je(a))return a;je(a)||(a=Z_(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),f.length&&(a=f.reduce((v,w)=>this.format(v,w,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const V4=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),p=f.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=p),p==="false"&&(t[v]=!1),p==="true"&&(t[v]=!0),isNaN(p)||(t[v]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},cw=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(hu(r),s),e[u]=d),d(t)}},F4=n=>(e,t,r)=>n(hu(t),r)(e);class U4{constructor(e={}){this.logger=si.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?cw:F4;this.formats={number:r((s,a)=>{const u=new Intl.NumberFormat(s,{...a});return d=>u.format(d)}),currency:r((s,a)=>{const u=new Intl.NumberFormat(s,{...a,style:"currency"});return d=>u.format(d)}),datetime:r((s,a)=>{const u=new Intl.DateTimeFormat(s,{...a});return d=>u.format(d)}),relativetime:r((s,a)=>{const u=new Intl.RelativeTimeFormat(s,{...a});return d=>u.format(d,a.range||"day")}),list:r((s,a)=>{const u=new Intl.ListFormat(s,{...a});return d=>u.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=cw(t)}format(e,t,r,s={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{const{formatName:p,formatOptions:v}=V4(f);if(this.formats[p]){let w=d;try{const E=s?.formatParams?.[s.interpolationkey]||{},I=E.locale||E.lng||s.locale||s.lng||r;w=this.formats[p](d,I,{...v,...s,...E})}catch(E){this.logger.warn(E)}return w}else this.logger.warn(`there was no format function for ${p}`);return d},e)}}const j4=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class z4 extends ph{constructor(e,t,r,s={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=si.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,t,r,s){const a={},u={},d={},f={};return e.forEach(p=>{let v=!0;t.forEach(w=>{const E=`${p}|${w}`;!r.reload&&this.store.hasResourceBundle(p,w)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,v=!1,u[E]===void 0&&(u[E]=!0),a[E]===void 0&&(a[E]=!0),f[w]===void 0&&(f[w]=!0)))}),v||(d[p]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),a=s[0],u=s[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{I4(f.loaded,[a],u),j4(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(p=>{d[p]||(d[p]={});const v=f.loaded[p];v.length&&v.forEach(w=>{d[p][w]===void 0&&(d[p][w]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,s=0,a=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:u});return}this.readingCalls++;const d=(p,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(p&&v&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,u)},a);return}u(p,v)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const p=f(e,t);p&&typeof p.then=="function"?p.then(v=>d(null,v)).catch(d):d(null,p)}catch(p){d(p)}return}return f(e,t,d)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();je(e)&&(e=this.languageUtils.toResolveHierarchy(e)),je(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,s,a,u={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const f={...u,isUpdate:a},p=this.backend.create.bind(this.backend);if(p.length<6)try{let v;p.length===5?v=p(e,t,r,s,f):v=p(e,t,r,s),v&&typeof v.then=="function"?v.then(w=>d(null,w)).catch(d):d(null,v)}catch(v){d(v)}else p(e,t,r,s,d,f)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const dw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),je(n[1])&&(e.defaultValue=n[1]),je(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),hw=n=>(je(n.ns)&&(n.ns=[n.ns]),je(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),je(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Yc=()=>{},$4=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class fu extends ph{constructor(e={},t){if(super(),this.options=hw(e),this.services={},this.logger=si,this.modules={external:[]},$4(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(je(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=dw();this.options={...r,...this.options,...hw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?si.init(s(this.modules.logger),this.options):si.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=U4;const v=new ow(this.options);this.store=new rw(this.options.resources,this.options);const w=this.services;w.logger=si,w.resourceStore=this.store,w.languageUtils=v,w.pluralResolver=new M4(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(w.formatter=s(p),w.formatter.init&&w.formatter.init(w,this.options),this.options.interpolation.format=w.formatter.format.bind(w.formatter)),w.interpolator=new O4(this.options),w.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},w.backendConnector=new z4(s(this.modules.backend),w.resourceStore,w,this.options),w.backendConnector.on("*",(I,...x)=>{this.emit(I,...x)}),this.modules.languageDetector&&(w.languageDetector=s(this.modules.languageDetector),w.languageDetector.init&&w.languageDetector.init(w,this.options.detection,this.options)),this.modules.i18nFormat&&(w.i18nFormat=s(this.modules.i18nFormat),w.i18nFormat.init&&w.i18nFormat.init(this)),this.translator=new Fd(this.services,this.options),this.translator.on("*",(I,...x)=>{this.emit(I,...x)}),this.modules.external.forEach(I=>{I.init&&I.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Yc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...v)=>this.store[p](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...v)=>(this.store[p](...v),this)});const d=Ml(),f=()=>{const p=(v,w)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(w),t(v,w)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(e,t=Yc){let r=t;const s=je(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(p=>{p!=="cimode"&&a.indexOf(p)<0&&a.push(p)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload?.forEach?.(d=>u(d)),this.services.backendConnector.load(a,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,t,r){const s=Ml();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Yc),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&DT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Ml();this.emit("languageChanging",e);const s=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,f)=>{f?this.isLanguageChangingTo===e&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...p)=>this.t(...p)),t&&t(d,(...p)=>this.t(...p))},u=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const f=je(d)?d:d&&d[0],p=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(je(d)?[d]:d);p&&(this.language||s(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,v=>{a(v,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const s=(a,u,...d)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([a,u].concat(d)):f={...u},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||s.keyPrefix);const p=this.options.keySeparator||".";let v;return f.keyPrefix&&Array.isArray(a)?v=a.map(w=>`${f.keyPrefix}${p}${w}`):v=f.keyPrefix?`${f.keyPrefix}${p}${a}`:a,this.t(v,f)};return je(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const p=this.services.backendConnector.state[`${d}|${f}`];return p===-1||p===0||p===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(a,e)))}loadNamespaces(e,t){const r=Ml();return this.options.ns?(je(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Ml();je(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=s.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new ow(dw());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new fu(e,t)}cloneInstance(e={},t=Yc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new fu(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((f,p)=>(f[p]={...this.store.data[p]},f[p]=Object.keys(f[p]).reduce((v,w)=>(v[w]={...f[p][w]},v),f[p]),f),{});a.store=new rw(d,s),a.services.resourceStore=a.store}return a.translator=new Fd(a.services,s),a.translator.on("*",(d,...f)=>{a.emit(d,...f)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const St=fu.createInstance();St.createInstance=fu.createInstance;St.createInstance;St.dir;St.init;St.loadResources;St.reloadResources;St.use;St.changeLanguage;St.getFixedT;St.t;St.exists;St.setDefaultNamespace;St.hasLoadedNamespace;St.loadNamespaces;St.loadLanguages;const B4={aboutBody:"aboutBody",aboutContent:"home.aboutContent",aboutTitle:"home.aboutTitle",absoluteScale:"absoluteScale",accuracy:"accuracy",accuracyChartAriaLabel:"charts.accuracyChartAriaLabel",accuracyChartTitle:"charts.accuracyChartTitle",accuracyChartTooltip:"charts.accuracyChartTooltip",accuracyLabel:"accuracy",accuracyTooltip:"result.accuracyTooltip",activeDays:"activeDays",actualInput:"actualInput",adjWpm:"adjWpm",adjWpmLabel:"adjWpm",advertisingCookies:"privacy.section4.advertisingCookies",allGrades:"leaderboard.allGrades",allowBackspace:"test.allowBackspace",alreadyJoined:"profile.alreadyJoined",analysis:"profile.analysis",avgAdj:"tips.avgAdj",birthday:"profile.birthday",bulkTranslationTool:"admin.bulkTranslationTool",capsLock:"test.capsLock",charsUnit:"garden.charsUnit",chartDescription:"test.chartDescription",classCode:"profile.classCode",classCodePlaceholder:"profile.classCodePlaceholder",classCodeTooltip:"profile.classCodeTooltip",classCreatedAndJoined:"profile.classCreatedAndJoined",classNotFound:"profile.classNotFound",closeHint:"ui.closeHint",codeAlreadyTaken:"profile.codeAlreadyTaken",confirmDelete:"profile.confirmDelete",contactChannel:"privacy.section5.contactChannel",content:"terms.section6.content",content1:"terms.section7.content1",content2:"terms.section5.content2",content3:"terms.section5.content3",copy:"profile.copy",copyFailed:"profile.copyFailed",copySuccess:"profile.copySuccess",coreFunction:"privacy.section2.coreFunction",correctChars:"correctChars",country:"profile.country",create:"profile.create",createError:"createError",crossBorderTransfer:"privacy.section3.crossBorderTransfer",ctaPractice:"ctaPractice",ctaTest:"home.ctaTest",dailyReminder:"layout.dailyReminder",dataRetention:"privacy.section3.dataRetention",defaultDescription:"charts.defaultDescription",delete:"profile.delete",description:"practice.description",difficulty:"test.difficulty",difficultyEasy:"test.difficultyEasy",difficultyHard:"test.difficultyHard",difficultyMedium:"test.difficultyMedium",effectiveDate:"privacy.effectiveDate",epExplanation:"layout.epExplanation",error:"profile.error",errorOccurred:"error.errorOccurred",errorRate:"keyboard.errorRate",estimatedMinutes:"estimatedMinutes",execute:"admin.execute",experienceOptimization:"privacy.section2.experienceOptimization",female:"profile.female",finished:"test.finished",footer:"footer",fruits:"profile.fruits",fruitsTooltip:"profile.fruitsTooltip",functionalCookies:"privacy.section4.functionalCookies",garden:"nav.garden",gardenDescription:"meta.gardenDescription",gender:"profile.gender",githubLink:"privacy.section5.githubLink",goBack:"error.goBack",goHome:"error.goHome",googleAccount:"profile.googleAccount",googleAdsense:"privacy.section1.technicalData.googleAdsense",googleAnalytics:"privacy.section1.technicalData.googleAnalytics",googleUsersCount:"home.googleUsersCount",googleUsersTooltip:"home.googleUsersTooltip",gotIt:"ui.gotIt",grade:"grade",gradeRange:"gradeRange",growthChartSubtitle:"garden.growthChartSubtitle",growthChartTitle:"garden.growthChartTitle",heroSubtitle:"home.heroSubtitle",heroTitle:"home.heroTitle",hideInsights:"result.hideInsights",highestHere:"highestHere",history:"profile.history",historyRule1:"garden.historyRule1",historyRule2:"garden.historyRule2",historyTitle:"garden.historyTitle",home:"nav.home",homeDescription:"meta.homeDescription",hours:"hours",hoursMinutes:"hoursMinutes",howToLevelUp:"garden.howToLevelUp",importantReminder:"importantReminder",inputPrompt:"test.inputPrompt",insightsSummary:"test.insightsSummary",introduction:"privacy.introduction",invalidCodeFormat:"profile.invalidCodeFormat",join:"profile.join",joinedClasses:"profile.joinedClasses",joinError:"profile.joinError",joinSuccess:"profile.joinSuccess",language:"profile.language",lastMonth:"leaderboard.lastMonth",lastUpdated:"terms.lastUpdated",lastWeek:"leaderboard.lastWeek",later:"ui.later",leader:"home.tabs.leader",leaderboard:"nav.leaderboard",leaderboardDescription:"meta.leaderboardDescription",leaderEmpty:"home.leaderEmpty",leaderViewFull:"home.leaderViewFull",levelUpRule1:"garden.levelUpRule1",levelUpRule2:"garden.levelUpRule2",levelUpRule3:"garden.levelUpRule3",levelUpSuggestion:"levelUpSuggestion",listItem1:"terms.section2.listItem1",listItem2:"terms.section2.listItem2",loadError:"loadError",loading:"leaderboard.loading",loadingError:"error.loadingError",loadingHint:"leaderboard.loadingHint",loadingQuestions:"test.loadingQuestions",loginSuggestion:"layout.loginSuggestion",logout:"profile.logout",male:"profile.male",maxClassesReached:"profile.maxClassesReached",maxJoinedClasses:"profile.maxJoinedClasses",maxStage:"garden.maxStage",metricsTip:"metricsTip",meVsSite:"tips.meVsSite",minutes:"minutes",minutesSeconds:"minutesSeconds",mistakes:"test.mistakes",myClasses:"profile.myClasses",myTree:"garden.myTree",name:"bible.name",nickname:"profile.nickname",noClasses:"profile.noClasses",noData:"leaderboard.noData",noLogs:"garden.noLogs",noRecommendation:"noRecommendation",notice:"privacy.notice",noUser:"profile.noUser",onlyTeacherCanCreate:"profile.onlyTeacherCanCreate",other:"profile.other",outOfFocus:"test.outOfFocus",percentile:"percentile",players:"home.players",pleaseSignIn:"auth.pleaseSignIn",points:"profile.points",pointsDetail:"profile.pointsDetail",pointsExplanation:"garden.pointsExplanation",pointsTooltip:"profile.pointsTooltip",practice:"nav.practice",practiceDescription:"meta.practiceDescription",principle:"privacy.section1.principle",privacyNote:"home.privacyNote",profile:"nav.profile",profileDescription:"meta.profileDescription",progress:"progress",promptStart:"test.promptStart",questionCount:"test.questionCount",questionPreview:"test.questionPreview",questionStats:"test.questionStats",questionText:"test.questionText",recalculateActivity:"garden.recalculateActivity",recalculateActivityTooltip:"garden.recalculateActivityTooltip",recentActivity:"garden.recentActivity",recentLogs:"garden.recentLogs",recentValue:"recentValue",recommended:"questionBank.recommended",recordNumber:"recordNumber",relativeScale:"keyboard.relativeScale",reload:"leaderboard.reload",remaining:"layout.remaining",remove:"profile.remove",responseTime:"privacy.section5.responseTime",result:"meta.result",resultDescription:"meta.resultDescription",role:"profile.role",roleCheckError:"profile.roleCheckError",save:"profile.save",savedToFirestore:"dev.savedToFirestore",scoreTooltip:"result.scoreTooltip",seconds:"seconds",serviceMaintenance:"privacy.section2.serviceMaintenance",shortcuts:"shortcuts",shortcutsDescription:"test.shortcutsDescription",showInsights:"result.showInsights",signIn:"auth.signIn",signInHint:"leaderboard.signInHint",signInToSave:"test.signInToSave",signOut:"auth.signOut",sortHint:"leaderboard.sortHint",sourceLanguage:"admin.sourceLanguage",speedChartAriaLabel:"charts.speedChartAriaLabel",speedChartTitle:"charts.speedChartTitle",speedChartTooltip:"charts.speedChartTooltip",speedScore:"speedScore",stage:"dev.stage",stage1Desc:"garden.stage1Desc",stage2Desc:"garden.stage2Desc",stage3Desc:"garden.stage3Desc",stage4Desc:"garden.stage4Desc",stage5Desc:"garden.stage5Desc",stageOverview:"dev.stageOverview",start:"ui.start",statisticalAnalysis:"privacy.section2.statisticalAnalysis",stats:"stats",storageLocation:"privacy.section3.storageLocation",string089:"ui.string089",string090:"ui.string090",string091:"string091",string092:"ui.string092",string093:"string093",string094:"string094",string095:"string095",string096:"string096",string097:"string097",string154:"ui.string154",string155:"string155",string156:"string156",string157:"string157",string158:"string158",string200:"string200",string202:"string202",student:"profile.student",submitAndReview:"test.submitAndReview",submitQuestion:"test.submitQuestion",subtitle:"nav.subtitle",subtitle1:"terms.section5.subtitle1",subtitle2:"terms.section5.subtitle2",subtitle3:"terms.section5.subtitle3",summary:"result.summary",supportedLanguages:"supportedLanguages",targetLanguage:"admin.targetLanguage",teacher:"profile.teacher",test:"nav.test",testDescription:"meta.testDescription",timeLimit:"test.timeLimit",timeSpent:"test.timeSpent",title:"test.title",titleSuffix:"terms.titleSuffix",today:"leaderboard.today",todayProgress:"layout.todayProgress",todaySummary:"garden.todaySummary",tooltip:"leaderboard.tooltip",totalChars:"tips.totalChars",totalQuestionChars:"totalQuestionChars",totalQuestions:"questionBank.totalQuestions",tryAgain:"test.tryAgain",usageDescription:"admin.usageDescription",usageInstructions:"admin.usageInstructions",view:"profile.view",visitors:"home.tabs.visitors",visitorsDesc:"home.visitorsDesc",vsSiteAverage:"vsSiteAverage",warning:"terms.section7.warning",xp:"profile.xp",xpTooltip:"profile.xpTooltip",yesterday:"leaderboard.yesterday",youOwnThis:"profile.youOwnThis"};function G4(n){const e={};for(const[t,r]of Object.entries(n)){const s=B4[t]||t,a=s.split(".");let u=e;for(let f=0;f<a.length-1;f++){if(u[a[f]]||(u[a[f]]={}),typeof u[a[f]]!="object"){console.warn(`Key conflict: ${s} - ${a[f]} is already a value`);continue}u=u[a[f]]}const d=a[a.length-1];u[d]=r}return e}function H4(n){return Object.values(n).every(e=>typeof e=="string")}const LT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADS_ENABLED:"false",VITE_FIREBASE_API_KEY:"AIzaSyAR_AY9733xRieLod3p-CKUFcPMCD2AXI4",VITE_FIREBASE_APP_ID:"1:970052811902:web:0a4e9315eb614b1784ec2f",VITE_FIREBASE_AUTH_DOMAIN:"typesprout.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-XXXXXXXXXX",VITE_FIREBASE_MESSAGING_SENDER_ID:"970052811902",VITE_FIREBASE_PROJECT_ID:"typesprout",VITE_FIREBASE_STORAGE_BUCKET:"typesprout.firebasestorage.app",VITE_GA_ID:"G-VVKLT1K6K3",VITE_SHEETS_CONTENT_URL:"/index.json",VITE_USE_CF:"false",VITE_USE_GA:"true"},MT=LT?.VITE_UI_VERSION||"v6",W4="ts_ui_",pp=new Map;function fw(n){return`${W4}${MT}_${n}`}async function q4(n){try{let e=function(){const p=LT?.PUBLIC_BASE;if(typeof p=="string"&&p.length>0)return p.endsWith("/")?p:p+"/";try{const w=window.location.pathname.split("/").filter(Boolean);if(!/^[a-z]{2,3}-[A-Z]{2}$/.test(w[0]||"")&&w.length>0)return`/${w[0]}/`}catch{}return"/"};console.log(`[fetchUILocal] Loading UI for language: ${n}`);const t=pp.get(n);if(t)return console.log(`[fetchUILocal] Memory cache hit for ${n}`),t;try{const p=localStorage.getItem(fw(n));if(p){const v=JSON.parse(p);if(v&&v.dict)return console.log(`[fetchUILocal] Cache hit for ${n} (version ${MT})`),pp.set(n,v),v}}catch{}const s=`${e()}ui/${n}/ui-strings.json`;console.log(`[fetchUILocal] Fetching from: ${s}`);const a=await fetch(s);if(!a.ok)return console.warn(`[fetchUILocal] Failed to load UI for ${n}: ${a.status}`),null;const u=await a.json();let d=u.translations;H4(d)&&(console.log(`[fetchUILocal] Converting flat format to nested for ${n}`),d=G4(d),console.log("[fetchUILocal] Conversion complete")),console.log(`[fetchUILocal] Loaded ${u.translationCount||Object.keys(d).length} UI strings for ${n}`);const f={lang:n,dict:d};try{localStorage.setItem(fw(n),JSON.stringify(f))}catch{}return pp.set(n,f),f}catch(e){return console.error(`[fetchUILocal] Error loading UI for ${n}:`,e),null}}async function K4(n){try{return console.log(`[fetchUISheets] Loading UI from sheets for language: ${n}`),null}catch(e){return console.error(`[fetchUISheets] Error loading UI from sheets for ${n}:`,e),null}}async function OT(n){console.log(`[fetchUI] Loading UI translations for: ${n}`);let e=await q4(n);return e||(console.log(`[fetchUI] Local loading failed, trying sheets for: ${n}`),e=await K4(n)),e?console.log(`[fetchUI] Successfully loaded UI for ${n}`):console.warn(`[fetchUI] Failed to load UI for ${n}`),e}const Q4={"en-US":{translation:{nav:{home:"Home",practice:"Practice",test:"Test",result:"Result",leaderboard:"Leaderboard",profile:"Profile",garden:"Garden",subtitle:"Kids Typing & Tree Growth"},meta:{result:"Result",homeDescription:"Kids typing practice with gamified tree growth. zh-TW/zh-CN/en-US",practiceDescription:"Free typing practice with IME support and modes.",testDescription:"Timed test showing accuracy and composite score.",resultDescription:"Your typing test results.",leaderboardDescription:"Daily/weekly/monthly leaderboards by language.",profileDescription:"Your personal information, grade and preferences.",gardenDescription:"Grow your tree with typing points and rewards."},auth:{signIn:"Sign in with Google",signOut:"Sign out",loading:"Loading…",pleaseSignIn:"Please sign in with Google first",privacyNote:"We do not collect personal data; statistics are anonymized for ranking and learning feedback only."},layout:{epExplanation:'How to earn points? Each test is calculated by "time × speed × accuracy" (base × minutes × (speed/target, max ×2) × (0.5+0.5×accuracy)). Daily limit 100; encouragement rules: when accuracy ≥30%, at least +1 point per 10 seconds (cumulative); ≥30 seconds and accuracy ≥50% at least +1. {{estMinLeft}}',loginSuggestion:'We recommend using "Sign in with Google" in the top right to save your progress and history; this website values anonymity and privacy and will not store personal sensitive data.',dailyReminder:"Reminder: You haven't practiced today! Move your hands every day to make the little tree stronger.",todayProgress:"Today:",estimatedMinutes:"Estimated {{minutes}} minutes",remaining:"remaining"},tips:{avgAdj:"Average adjusted score over the last 30 days",totalChars:"Total characters typed over the last 30 days",meVsSite:"Your performance compared to all users on this site in the last 30 days"},dev:{stageOverview:"Five-stage overview (for appearance comparison)",stage:"Stage",savedToFirestore:"Real-time saved to Firestore"},error:{loadingError:"An error occurred while loading the page, please try again later.",errorOccurred:"An error occurred",goBack:"Go back",goHome:"Go home"},questionBank:{title:"Select Question Bank",subtitle:"Choose the practice content that suits you",loading:"Loading question banks...",recommended:"Recommended",gradeRange:"Grade Range",supportedLanguages:"Supported Languages",totalQuestions:"Total Questions",noRecommendation:"No recommended question banks for your grade level",children:{name:"Children Question Bank",description:"Basic typing practice suitable for children"},bible:{name:"Bible Question Bank",description:"Bible verse typing practice"}},home:{title:"TypeSprout — Kids Typing & Tree Growth",heroTitle:"Kids type, the seedling grows.",heroSubtitle:"Every keystroke becomes energy to water your tree. Multi-language support helps build correct typing habits and focus.",ctaPractice:"Start Practice",ctaTest:"Take Test",privacyNote:"We do not collect personal data; statistics are anonymized for ranking and learning feedback only.",aboutTitle:"About TypeSprout",aboutContent:`Hi everyone, I'm Yves.C, a dad from Taiwan. The inspiration for TypeSprout came from watching my kids chat with friends around the world on Roblox—I realized that typing is actually the first key for children to open up to a bigger world. So I created this web typing practice using no-code concepts + ChatGPT/AI, adding "little tree growth" visual feedback: with every correct keystroke, the tree grows a little, turning daily efforts into visible achievements.

In terms of content, I have organized commonly used words from grades 1-6 into selectable question banks; children can practice their native language and switch to English or other languages they want to practice in "Settings". These words are filtered by AI according to grade difficulty. For adults, I have prepared an extended question bank, currently including Bible API and AI-generated Bible scriptures (from free online resources, accuracy may be limited), and I will gradually add topics like famous quotes to make practice more interesting.

In TypeSprout, children will gradually accumulate points and daily efforts; the little tree on the screen will also thrive with their performance, forming a positive cycle of "effort → feedback → re-engagement". I also designed a 5-day active challenge: practicing for 5 consecutive days will earn a small fruit reward. When achievements are visible, motivation will grow. This is the learning rhythm I want to share with children and you. For teachers, I added a "Class" function on the personal page, allowing teachers to create classes and invite classmates to participate, making practice feel more competitive.

This is a small project maintained by me personally (no engineering background, mainly relying on ChatGPT/AI for guidance and collaboration). If you have suggestions or encounter problems during use, please feel free to leave a message in the GitHub issues section, and I will do my best to organize and solve them. Thank you all in advance.

GitHub: https://github.com/yveschen001/typesprout-pubic/issues`,cards:{players:"Players",avgAdj:"Avg Composite (30d)",totalChars:"Total Chars (30d)",meVsSite:"Me vs Site (30d)"},leaderScore:"Composite Score",googleUsersCount:"Google Login Users",googleUsersTooltip:"Total number of users who logged in with Google accounts",tabs:{visitors:"Visitors",leader:"Leaderboard (preview)"},visitorsDesc:"Country distribution of site visitors and players (anonymous).",leaderEmpty:"No data yet",leaderViewFull:"View full leaderboard",aboutBody:"TypeSprout is a typing practice and growth website for grades 1–6 with zh‑TW / zh‑CN / en‑US support, aiming to offer a safe and friendly environment for kids worldwide to practice input, understanding, and expression."},test:{title:"Typing Test",questionCount:"Question Count",difficulty:"Difficulty",difficultyHard:"Hard",difficultyMedium:"Medium",difficultyEasy:"Easy",allowBackspace:"Allow Backspace",capsLock:"Caps Lock",loadingQuestions:"Loading questions...",promptStart:"Press Start, then type the text above. Pasting is disabled.",shortcuts:"Space start/pause · R reset · F focus · Enter submit this question",shortcutsDescription:"Space: Start/Pause • R: Reset • F: Focus input",questionText:"Question text (cannot be selected or copied)",metricsTip:"Speed and accuracy explanation",chartDescription:"Top: composite score trend; Bottom: accuracy trend. First stabilize accuracy to 90%+, then gradually increase speed.",insightsSummary:"Insights (keyboard heatmap, speed and accuracy trends)",inputPrompt:"Please type the text below",progress:"Progress {{current}} / {{total}}",outOfFocus:"Please click the input box to continue typing",submitQuestion:"Submit this question (Enter)",submitAndReview:"Submit and view results",accuracyLabel:"Accuracy {{accuracy}}%",adjWpmLabel:"Composite score (correct speed) {{adjWpm}}",finished:"Finished",signInToSave:"Sign in to save your progress",tryAgain:"Try again",questionStats:"This session's question statistics (time spent / limit, mistake count)",questionPreview:"Question (first 24 characters)",timeSpent:"Time spent",timeLimit:"Time limit",mistakes:"Mistakes"},profile:{title:"Profile",googleAccount:"Google Account",xp:"Experience (XP)",points:"Points",fruits:"Fruits",pointsDetail:"Points total above; details please go to",history:"History",view:"view",xpTooltip:"Experience points earned through typing practice. Higher accuracy and speed = more XP!",pointsTooltip:"Points earned from daily practice. Used to grow your tree and unlock rewards.",fruitsTooltip:"Fruits collected from your tree. Earned by reaching daily point goals.",classCode:"Class Code",classCodeTooltip:"Site-wide unique (3–50 chars; cannot contain /). Used for competitions and leaderboard grouping; can join up to 5. Teachers can create new codes; will auto-join after creation (if not full).",classCodePlaceholder:"Enter any name, avoid duplicates",chartDescription:"Top: composite score trend; Bottom: accuracy trend. First improve accuracy, then gradually increase speed.",error:"Error occurred",confirmDelete:"Are you sure you want to delete this class code?",noClasses:"No classes",role:"Role",teacher:"Teacher",student:"Student",create:"Create",join:"Join",myClasses:"My Classes",joinedClasses:"Classes I Joined",language:"Language",save:"Save",logout:"Logout",analysis:"In-depth Analysis",nickname:"Nickname",country:"Country/Region",gender:"Gender",birthday:"Birthday (YYYY-MM)",male:"Male",female:"Female",other:"Other",copy:"Copy",delete:"Delete",remove:"Remove",copySuccess:"Class code copied to clipboard.",copyFailed:"Copy failed, please select and copy manually.",youOwnThis:"You own this",noUser:"User not found",onlyTeacherCanCreate:"Only teachers can create class codes",roleCheckError:"Failed to check user role",invalidCodeFormat:"Please enter 3-50 characters without /",codeAlreadyTaken:"Class code already taken",maxClassesReached:"Maximum number of classes reached",maxJoinedClasses:"Maximum number of joined classes reached",classCreatedAndJoined:"Class created and joined successfully",joinError:"Failed to join class",classNotFound:"Class code not found",alreadyJoined:"You have already joined this class",joinSuccess:"Successfully joined class",createError:"Create failed: {{error}}"},result:{accuracyTooltip:"Accuracy = correct chars ÷ total question chars. Note: untyped chars are also counted in total, so missing chars will lower accuracy.",scoreTooltip:"Composite score = input speed of correct chars only. Calculation: speed (WPM/CPM) × accuracy. Purpose: first stabilize accuracy, then gradually increase speed.",chartDescription:"Top: composite score trend; Bottom: accuracy trend. Composite score combines speed and accuracy. First improve accuracy, then gradually increase speed.",summary:"This session summary",timeSpent:"Time spent: {{time}}",accuracy:"Accuracy: {{accuracy}}%",adjWpm:"Composite score (correct speed): {{adjWpm}}",vsSiteAverage:"Compared to site average (same language): {{adjWpm}} / {{siteAvg}}{{percentile}}",tryAgain:"Try again",showInsights:"Show insights",seconds:"{{count}} seconds",minutes:"{{count}} minutes",minutesSeconds:"{{minutes}} minutes {{seconds}} seconds",hours:"{{count}} hours",hoursMinutes:"{{hours}} hours {{minutes}} minutes",hideInsights:"Hide insights",totalChars:"Total characters: {{chars}} characters",correctChars:"Correct characters: {{chars}} characters"},garden:{myTree:"My Tree",history:"History",howToLevelUp:"How to level up?",levelUpRule1:"Practice daily to accumulate activity; the longer you type, the faster you grow.",levelUpRule2:"Maximum stage 5; if you can maintain stage 5 daily, you will continuously produce fruits.",levelUpRule3:"Collected fruits will provide platform rewards based on ranking; currently can use test time as score accumulation.",levelUpSuggestion:"To reach stage {{needStage}}, suggest at least {{moreMin}} more minutes of effective input today.",recentActivity:"Recent 5 days activity",activeDays:"Active days: {{activeDays}} / {{total}}",recalculateActivity:"Recalculate activity and stage",recalculateActivityTooltip:'What is "Recalculate activity and stage"? It will re-read your recent 5 days of test records, calculate effective input minutes, and update the activity list and current stage.',growthChartTitle:"Growth diagram",growthChartSubtitle:"Different stage appearances and unlock conditions (illustration).",stage:"Stage {{stage}}",charsUnit:"chars",maxStage:"Maximum stage 5",stage1Desc:"First sprout emerges",stage2Desc:"Second leaf grows",stage3Desc:"Leaf multiplication",stage4Desc:"Flowers bloom",stage5Desc:"Small tree crown forms (fruits)",todaySummary:"Today's summary",pointsExplanation:"How do points work? Generated from daily tests, related to effective input time, speed and accuracy. Daily limit 100; short practice (≥5 seconds and accuracy ≥30%) at least +1.",historyTitle:'What is "History"?',historyRule1:"Points are calculated from speed × accuracy × time, used to promote tree growth.",historyRule2:"The list below shows each earning record, making it easy for you to track your efforts.",recentLogs:"Recent records",noData:"No data",noLogs:"No records currently"},leaderboard:{signInHint:"Tip: Sign in to save your test scores automatically; we only use them for ranking and learning feedback, no personal sensitive data collected.",sortHint:"Tip: Press Alt+↑/↓ to toggle sorting",classCodePlaceholder:"Class Code",tooltip:"🏆 How is the leaderboard calculated?&#10;• Today: today's scores (local time)&#10;• Yesterday: yesterday's scores (local time)&#10;• Last week: Monday to Sunday of last week&#10;• Last month: 1st to last day of last month&#10;&#10;📊 How are scores calculated?&#10;• Composite score = max speed × accuracy × practice time&#10;• Multiple practices on the same day are combined&#10;• Longer practice time = higher score&#10;&#10;💡 Tip: Practice a little every day and your tree will grow!",loading:"Loading leaderboard data...",loadingHint:"If it continues to fail to load, please check your network connection or try again later",loadError:"Failed to load leaderboard, please try again later",reload:"Reload",today:"Today's ranking",yesterday:"Yesterday's ranking",lastWeek:"Last week's ranking",lastMonth:"Last month's ranking",allGrades:"All grades",grade:"Grade {{grade}}",stats:"{{chars}} chars · {{accuracy}}% accuracy",noData:"No data"},terms:{title:"TypeSprout Terms of Service",titleSuffix:"Terms of Service",lastUpdated:"Last updated: September 21, 2025",section1:{title:"1. General Terms and Acceptance",content1:'Welcome to TypeSprout (the "Service"). This service is a free, non-profit project maintained by individual developers, aimed at providing users (especially children and learners) with a simple online typing practice environment.',content2:'When you access or use this service, you indicate that you have read, understood, and agree to be bound by all contents of these Terms of Service (the "Terms"). If you do not agree to any part of these terms, please stop using this service immediately.'},section2:{title:"2. Service Description and Content Sources",subtitle1:"Service Purpose:",content1:"The sole purpose of this service is to provide typing skills practice. It is not an academic research or religious education tool. All website content serves this single purpose.",subtitle2:"Content Sources and Disclaimer:",content2:"To provide rich practice texts, the question bank content of this service comes from multiple sources. We hereby specifically declare:",listItem1:"AI Generated Content: Some practice articles are analyzed, collected, or generated by AI models (such as ChatGPT) for typing practice only.",listItem2:"Bible Texts: Some Bible question banks come from third-party API.Bible services. When that service is inaccessible, alternative texts may be generated by AI models.",content3:"Accuracy Disclaimer: Therefore, we make no warranties or endorsements regarding the accuracy, completeness, or fidelity of any question bank content to specific Bible versions. All content should be treated as typing practice materials, not precise academic or religious reference materials. Please understand this fully before use."},section3:{title:"3. Usage License and Restrictions",subtitle1:"Personal Non-Commercial Use License:",content1:"We grant you a personal, non-exclusive, non-transferable, revocable license to use this service only for personal, non-commercial, and educational purposes.",subtitle2:"Strict Prohibition of Commercial Use:",content2:"You may not copy, modify, distribute, resell, rent, or use any part of this service for any direct or indirect commercial purpose. This includes (but is not limited to) using this website content as part of any paid courses, paid services, or commercial products."},section4:{title:"4. User Responsibilities",subtitle1:"Account Security:",content1:"You are responsible for properly keeping your account login information and for all activities that occur under your account.",subtitle2:"Prohibition of Abuse and Cheating:",content2:"You agree not to attack, crack, interfere with, or paralyze the normal operation of this service in any way. At the same time, the use of plugins, bots, automated scripts, or any cheating methods to obtain false practice scores or damage the fairness of leaderboards is strictly prohibited. If such behavior is discovered, we have the right to immediately terminate your usage rights and delete your account."},section5:{title:"5. Disclaimers and Service Limitations",subtitle1:"Provided As-Is:",content1:'This service is an ongoing personal project in development, and we provide it on an "as-is" and "as-available" basis. We provide no express or implied warranties of any kind, including but not limited to service stability, security, error-free operation, or uninterrupted service.',subtitle2:"Data Preservation:",content2:"We are not responsible for any loss or damage to your practice records or user data, nor do we guarantee permanent data preservation.",subtitle3:"Service Termination Rights:",content3:"We reserve the right to modify, suspend, or permanently terminate this service at any time for any reason, without prior notice."},section6:{title:"6. Privacy Policy",content:"We are committed to protecting your privacy. We only collect the minimum information necessary to run this service. For specific details, please refer to our Privacy Policy. That policy forms part of these terms, and using this service means you also agree to that policy."},section7:{title:"7. Contact Information",content1:"If you have any questions about these Terms of Service, please raise them through our official GitHub Issues page: https://github.com/yveschen001/typesprout-pubic/issues",warning:"Please note that this is a public platform, so please do not leave your personal privacy information on it."},footer:"© 2025 TypeSprout. All rights reserved."},privacy:{title:"TypeSprout Privacy Policy",titleSuffix:"Privacy Policy",effectiveDate:"Effective Date: September 21, 2025",introduction:"Welcome to TypeSprout! This is a free typing practice website created by an individual developer out of interest. We understand that your privacy is crucial, so this policy aims to explain what data we collect and how we will use this data.",notice:'Please note: This service is non-profit in nature, and all features are provided "as is". If you do not agree to any terms of this privacy policy, please stop using this service immediately. Continued use indicates that you have read, understood, and agree to all contents of this policy.',section1:{title:"1. Types of Data We Collect",principle:"We adhere to the principle of minimalism, collecting only the data necessary to maintain service operation:",googleAuth:{title:"Google Login Authentication:",content:"When you log in using your Google account, we only use Google's authentication service to verify your identity and create a unique anonymous user ID for you. We do not actively request, access, or store any personal privacy data from your Google account, such as your real name or address."},gameData:{title:"Game Data:",content:"Every typing practice score you perform on the website, including speed (WPM), accuracy, time used, etc. This data is associated with your anonymous user ID to generate your personal history and leaderboard."},voluntaryInfo:{title:"User-Provided Non-Precise Information (Optional):",content:"You may optionally provide your age range, professional field, language, or region. This information is not mandatory and is primarily intended to optimize question bank recommendations, for anonymous statistical analysis, and leaderboard grouping. We do not require or verify the accuracy of this information."},technicalData:{title:"Technical Data Automatically Collected by Third-Party Services:",googleAnalytics:"Google Analytics: We use this service to analyze website traffic to understand service usage. It collects anonymized information such as your IP address, browser type, operating system, pages visited, etc.",googleAdsense:"Google AdSense (Advertising): We may use Google AdSense in the future to display ads to support website operating costs. Google and its partners may use Cookies (such as DoubleClick Cookie) to show personalized ads based on your past visit history."}},section2:{title:"2. How We Use Your Data",coreFunction:"Core Function: Your anonymous user ID and game data are part of the core functionality of this service, used to record your scores, provide historical charts, and global leaderboards.",experienceOptimization:"Experience Optimization: The age, profession, and other information you voluntarily provide will be used to match you with more suitable typing practice question banks.",statisticalAnalysis:"Statistical Analysis: We will anonymize and aggregate all user-voluntarily provided information to understand the overall profile of the user group and improve the service.",serviceMaintenance:"Service Maintenance: Technical data collected through Google Analytics helps us understand the website's operational status and fix potential issues."},section3:{title:"3. Data Storage and Cross-Border Transfer",storageLocation:"Storage Location: This website's code is hosted on GitHub, while your game data and voluntarily provided information are stored in Google Firebase's database.",crossBorderTransfer:"Cross-Border Transfer: GitHub and Google Firebase servers may be located outside your country (e.g., United States). By using this service, you understand and agree that your data will be transmitted, stored, and processed on these overseas servers.",dataRetention:"Data Retention: Since this service is completely free, we cannot guarantee permanent data storage. We reserve the right to clear some or all user data without notice."},section4:{title:"4. About Cookies and Advertising",functionalCookies:"Functional Cookies: We use cookies to maintain your login status.",advertisingCookies:"Advertising Cookies: As mentioned above, if we enable Google AdSense, Google will use cookies to display ads. You can visit Google's ad settings page (https://adssettings.google.com/) at any time to manage or opt out of personalized ads."},section5:{title:"5. Your Rights and Contact Information",contactChannel:"Contact Channel: If you have any questions about this privacy policy or wish to exercise your data rights (such as query, correction, deletion), please submit requests through our official GitHub Issues page.",githubLink:"https://github.com/yveschen001/typesprout-pubic/issues",importantReminder:"Important Reminder: Please note that GitHub Issues is a public platform. To protect your personal privacy, please absolutely do not leave any personal identification information in the Issue content, such as your email address, real name, or account screenshots. We only need you to provide your Username on TypeSprout and a description of the issue. We will not contact you through any private channels other than Issues.",responseTime:"Since this is a personally maintained project, we will respond as quickly as possible within our capabilities. Thank you for your patience and understanding."}},admin:{title:"Admin Panel",description:"This area is for operations and content management only.",bulkTranslationTool:"Bulk Localization Tool",usageInstructions:"? Usage Instructions",usageDescription:"Enter source and target language codes, paste multi-line text and press execute, results are for manual review only. This feature requires admin token to enable.",sourceLanguage:"Source Language",targetLanguage:"Target Language",execute:"Execute"},ui:{loading:"Loading...",start:"Start",string089:"Please sign in first.",string090:"Personal Information",string091:"Back to Home",string092:"Privacy Policy",string093:"Privacy Policy",string094:"We only use your Google account to save your progress and history.",gotIt:"Got it",later:"Later",string095:"What data do we collect?",string096:"We only collect your typing scores, accuracy, and practice time. We do not collect personal information such as your name, email, or other sensitive data.",string097:"We use this data to provide you with personalized feedback and to show you your progress over time.",string154:"Terms of Service",string155:"By using this website, you agree to the following terms:",string156:"1. You are responsible for your own learning and progress.",string157:"What are the terms?",string158:"The terms include: using the website for educational purposes only, not sharing inappropriate content, and respecting other users.",string200:'We recommend using "Sign in with Google" in the top right to save your scores and history; this site values anonymity and privacy, and will not store personal sensitive data.',string202:"Reminder: You haven't practiced today! Move your hands every day to make the little tree grow stronger.",closeHint:"Close hint"},charts:{speedChartAriaLabel:"Speed score trend chart: higher line means better performance",speedChartTitle:"Speed Score (Correct Speed)",speedChartTooltip:"Y-axis: Speed score (higher is better); X-axis: time order. Green line shows speed of correct characters only, combining speed and accuracy.",accuracyChartAriaLabel:"Accuracy trend chart: higher line means more accurate",accuracyChartTitle:"Accuracy",accuracyChartTooltip:"Y-axis: Accuracy (higher means more accurate); X-axis: time order. Blue line shows accuracy changes for each test.",recordNumber:"Record {{number}}",speedScore:"Speed Score: {{score}}",totalQuestionChars:"Total Question Chars: {{chars}} chars",actualInput:"Actual Input: {{chars}} chars",timeSpent:"Time Spent: {{seconds}} sec",accuracy:"Accuracy: {{percent}}%",correctChars:"Correct Chars: {{chars}} chars",percentile:"Exceeds about {{percent}}% of people",highestHere:"Highest here {{value}}",recentValue:"Recent {{value}} {{trend}}",defaultDescription:"Top: Speed score trend; Bottom: Accuracy trend. First improve accuracy, then gradually increase speed."},keyboard:{errorRate:"{{key}} error rate {{percent}}%",relativeScale:'Relative scale: Green ≤30% · Yellow ≤70% · Red >70% (relative to highest error key; based on "recent cumulative" error rate)',absoluteScale:'Green ≤{{low}}% · Yellow ≤{{mid}}% · Red >{{mid}}% (% is the "recent cumulative" error rate for that key)'}}},"zh-TW":{translation:{nav:{home:"首頁",practice:"練習",test:"測驗",result:"結果",leaderboard:"排行榜",profile:"個人",garden:"種樹",subtitle:"兒童打字與種樹成長"},meta:{result:"結果",homeDescription:"兒童打字練習與種樹成長遊戲。支援繁體中文/簡體中文/英文",practiceDescription:"免費打字練習，支援輸入法與多種模式。",testDescription:"計時測驗，顯示正確率與綜合分數。",resultDescription:"你的打字測驗結果。",leaderboardDescription:"依語言的每日/每週/每月排行榜。",profileDescription:"你的個人資訊、年級與偏好設定。",gardenDescription:"以打字點數推進樹的成長與獎勵。"},auth:{signIn:"使用 Google 登入",signOut:"登出",loading:"載入中…",pleaseSignIn:"請先使用 Google 登入",privacyNote:"不蒐集個資；統計數據僅用於匿名排行與學習回饋。"},layout:{epExplanation:"怎麼拿點數？每次測驗依『時間×速度×正確率』換算（base×分鐘×(速度/目標，最多×2)×(0.5+0.5×正確率)）。每日上限 100；鼓勵規則：正確率≥30% 時，每 10 秒至少 +1 點（可累加）；≥30 秒且正確率≥50% 至少 +1。{{estMinLeft}}",loginSuggestion:"建議使用右上角「Sign in with Google」登入以保存你的成績與歷程；本網站重視匿名與隱私，不會儲存個人敏感資料。",dailyReminder:"提醒：今天還沒練習喔！每天動動手，讓小樹更茁壯。",todayProgress:"今日：",estimatedMinutes:"估約 {{minutes}} 分",remaining:"剩餘"},tips:{avgAdj:"過去30天的平均綜合分數",totalChars:"過去30天的總字數",meVsSite:"您與所有網站用戶在過去30天的表現比較"},dev:{stageOverview:"五階段總覽（便於比對外觀）",stage:"階段",savedToFirestore:"已即時儲存至 Firestore"},error:{loadingError:"載入頁面時發生錯誤，請稍後再試。",errorOccurred:"發生錯誤",goBack:"返回上一頁",goHome:"回到首頁"},questionBank:{title:"選擇題庫",subtitle:"選擇適合你的練習內容",loading:"載入題庫中...",recommended:"推薦",gradeRange:"年級範圍",supportedLanguages:"支援語言",totalQuestions:"總題數",noRecommendation:"目前沒有適合你年級的推薦題庫",children:{name:"兒童題庫",description:"適合兒童的基礎打字練習"},bible:{name:"聖經題庫",description:"聖經經文打字練習"}},home:{title:"TypeSprout — 兒童打字與種樹成長",heroTitle:"孩子打字，樹苗長高。",heroSubtitle:"每次輸入都會化成能量澆灌你的樹，支援多語系，建立正確打字習慣與專注力。",ctaPractice:"立即開始練習",ctaTest:"進行測驗",privacyNote:"不蒐集個資；統計數據僅用於匿名排行與學習回饋。",aboutTitle:"關於 TypeSprout",aboutContent:`大家好，我是來自台灣的爸爸Yves.C。Typesprout的靈感來自於看到我的孩子們在Roblox上與世界各地的朋友聊天——我意識到打字實際上是孩子們打開更大世界的第一把鑰匙。因此，我創建了這個網頁打字練習，使用了無需編碼的概念，結合了ChatGPT/AI，並加入了「小樹成長」的視覺反饋：每當正確按下鍵盤，樹就會長高一點，將每日的努力轉化為可見的成就。

在內容方面，我已將1到6年級常用的單字整理成可選擇的題庫；孩子們可以練習母語，並在「設定」中切換到英語或其他想要練習的語言。這些單字是根據年級難度由AI過濾的。對於成人，我準備了一個擴展的題庫，目前包括聖經API和AI生成的聖經經文（來自免費的線上資源，準確性可能有限），我將逐步添加名言等主題，以使練習更加有趣。

在Typesprout中，孩子們將逐步累積分數和每日努力；螢幕上的小樹也會隨著他們的表現而茁壯成長，形成「努力 → 反饋 → 再次參與」的正循環。我還設計了一個為期5天的活躍挑戰：連續練習5天將獲得一個小水果獎勵。當成就可見時，動力將會增長。這就是我想與孩子們以及你分享的學習節奏。對於教師，我在個人頁面上添加了一個「班級」功能，允許教師創建班級並邀請同學參加，讓練習感覺更具競爭性。

這是一個由我個人維護的小項目（沒有工程背景，主要依賴 ChatGPT/AI 進行指導和合作）。如果您有建議或在使用過程中遇到問題，請隨時在 GitHub 的問題區留言，我會盡力整理並解決它們。提前感謝大家。

GitHub: https://github.com/yveschen001/typesprout-pubic/issues`,cards:{players:"玩家數",avgAdj:"平均綜合分數（30 天）",totalChars:"總字數（30 天）",meVsSite:"我 vs 全站（30 天）"},googleUsersCount:"Google 登入用戶數",googleUsersTooltip:"使用 Google 帳號登入的用戶總數",tabs:{visitors:"訪客分佈",leader:"排行榜預覽"},visitorsDesc:"網站訪客與玩家的國家分佈（匿名統計）。",leaderEmpty:"暫無資料",leaderViewFull:"查看完整排行",aboutBody:"TypeSprout 是面向 1–6 年級兒童的打字練習與成長網站，支援多語系（zh‑TW / zh‑CN / en‑US），希望讓全世界的小朋友都能在安全與友善的環境練習輸入、理解與表達。"},test:{title:"打字測驗",questionCount:"題數",difficulty:"難度",difficultyHard:"難",difficultyMedium:"中",difficultyEasy:"易",allowBackspace:"允許退格",capsLock:"大寫鎖定",loadingQuestions:"正在載入題目…",promptStart:"按下 Start 後，請輸入上方文字。禁止貼上。",shortcuts:"Space 開/停 · R 重置 · F 聚焦 · Enter 提交本題",shortcutsDescription:"空白鍵：開始/暫停 • R：重置 • F：聚焦輸入框",questionText:"題目文字（無法選取或複製）",metricsTip:"速度與正確率說明",chartDescription:"上：綜合分數趨勢；下：正確率趨勢。先把正確率穩定到 90% 以上，再慢慢變快。",insightsSummary:"深入分析（速度與正確率趨勢）",inputPrompt:"請照下方文字輸入",progress:"進度 {{current}} / {{total}}",outOfFocus:"請點擊輸入框繼續打字",submitQuestion:"提交本題（Enter）",submitAndReview:"送出並查看成績",accuracyLabel:"正確率：{{accuracy}}%",adjWpmLabel:"綜合分數（正確速度）：{{adjWpm}}",finished:"完成",signInToSave:"登入以保存進度",tryAgain:"再試一次",questionStats:"本場各題統計（用時 / 上限、錯字數）",questionPreview:"題目（前 24 字）",timeSpent:"用時",timeLimit:"上限",mistakes:"錯字"},profile:{title:"個人資料",googleAccount:"Google 帳戶",xp:"經驗值（XP）",points:"點數（Points）",fruits:"果實（Fruits）",pointsDetail:"點數總額如上；明細請到",history:"歷程",view:"查看",xpTooltip:"透過打字練習獲得的經驗值。正確率和速度越高，獲得的經驗值越多！",pointsTooltip:"每日練習獲得的點數。用於種植你的小樹並解鎖獎勵。",fruitsTooltip:"從你的小樹收集的果實。透過達到每日點數目標獲得。",classCode:"班級代碼",classCodeTooltip:"全站唯一（3–50 字；不可包含 /）。用於比賽與排行榜分組；可加入最多 5 個。老師可建立新代碼；建立後會自動加入（已滿 5 不自動）。",classCodePlaceholder:"輸入任意名稱，避免重複即可",chartDescription:"上：綜合分數趨勢；下：正確率趨勢。先把正確率拉高，再慢慢變快。",error:"發生錯誤",confirmDelete:"確定要刪除此班級代碼嗎？",noClasses:"尚無班級",role:"角色",teacher:"老師",student:"學生",create:"建立",join:"加入",myClasses:"我的班級",joinedClasses:"我加入的班級",language:"語言",save:"儲存",logout:"登出",analysis:"深入分析",nickname:"暱稱",country:"國家/地區",gender:"性別",birthday:"生日（YYYY-MM）",male:"男孩",female:"女孩",other:"其他",copy:"複製",delete:"刪除",remove:"移除",copySuccess:"已複製班級代碼到剪貼簿。",copyFailed:"複製失敗，請手動選取複製。",youOwnThis:"您擁有此代碼",noUser:"找不到用戶",onlyTeacherCanCreate:"僅老師可建立班級代碼",roleCheckError:"檢查用戶角色失敗",invalidCodeFormat:"請輸入 3–50 字，且不可包含 /",codeAlreadyTaken:"班級代碼已被使用",maxClassesReached:"已達到建立班級數量上限",maxJoinedClasses:"已達到加入班級數量上限",classCreatedAndJoined:"班級建立成功並已加入",joinError:"加入班級失敗",classNotFound:"找不到這個班級代碼",alreadyJoined:"您已經加入這個班級",joinSuccess:"成功加入班級",createError:"建立失敗：{{error}}"},result:{accuracyTooltip:"正確率 = 正確字 ÷ 題目總字。注意：沒輸入的字也算在題目總字內，所以多漏字會讓正確率下降。",scoreTooltip:"綜合分數 = 只計正確字的輸入速度。計算方式：速度（WPM/CPM）× 正確率。用意：先把正確率練穩，再慢慢變快。",chartDescription:"上：綜合分數趨勢；下：正確率趨勢。綜合分數把速度與正確率一起算。先把正確率提高，再慢慢變快。",summary:"本次總結",timeSpent:"花費時間：{{time}}",accuracy:"正確率：{{accuracy}}%",adjWpm:"綜合分數（正確速度）：{{adjWpm}}",vsSiteAverage:"相較站內平均（同語言）：{{adjWpm}} / {{siteAvg}}{{percentile}}",tryAgain:"再試一次",showInsights:"顯示洞察",seconds:"{{count}}秒",minutes:"{{count}}分鐘",minutesSeconds:"{{minutes}}分{{seconds}}秒",hours:"{{count}}小時",hoursMinutes:"{{hours}}小時{{minutes}}分鐘",hideInsights:"隱藏洞察",totalChars:"總字數：{{chars}} 個字元",correctChars:"正確字數：{{chars}} 個字元"},garden:{myTree:"我的小樹",history:"歷程",howToLevelUp:"怎麼升級？",levelUpRule1:"每天只要有練習就會累積活躍；輸入越久，成長越快。",levelUpRule2:"最高到階段 5；若能每天都維持階段 5，就會持續長出果實。",levelUpRule3:"收集到的果實將依排名提供平台獎勵；目前可先以測驗時間作為積分累計。",levelUpSuggestion:"距離升到階段 {{needStage}}，建議今天至少再有效輸入 {{moreMin}} 分鐘。",recentActivity:"最近 5 天活躍",activeDays:"活躍天數：{{activeDays}} / {{total}}",recalculateActivity:"重算活躍與階段",recalculateActivityTooltip:"什麼是「重算活躍與階段」？會重新讀取你最近 5 天的測驗紀錄，計算有效輸入分鐘數，並更新活躍清單與目前階段。",growthChartTitle:"成長示意圖",growthChartSubtitle:"不同階段外觀與解鎖條件（示意）。",stage:"階段 {{stage}}",charsUnit:"字",maxStage:"最高階段 5",stage1Desc:"第一片嫩芽冒出",stage2Desc:"長出第二片葉",stage3Desc:"葉片增生",stage4Desc:"花朵綻放",stage5Desc:"小樹樹冠成形（結果）",todaySummary:"今天總結",pointsExplanation:"點數怎麼來？由本日測驗產生，與有效輸入時間、速度與正確率有關。每日上限 100；短練習（≥5秒且正確率≥30%）至少+1。",historyTitle:"什麼是「歷程」？",historyRule1:"點數由 速度×正確率×時間 換算而來，用於推動小樹成長。",historyRule2:"下方清單顯示每筆獲得紀錄，方便你追蹤自己的努力。",recentLogs:"最近紀錄",noData:"尚無資料",noLogs:"目前沒有紀錄"},leaderboard:{signInHint:"提示：登入後你的測驗成績會自動參與排行；我們僅用於記錄分數與歷程，不收集個人敏感資訊。",sortHint:"提示：按 Alt+↑/↓ 切換排序",classCodePlaceholder:"班級代碼",tooltip:"🏆 排行榜怎麼算的？&#10;• 本日排行：今天（本地時間）的成績&#10;• 昨日排行：昨天（本地時間）的成績&#10;• 上周排行：上週一到週日的成績&#10;• 上個月排行：上個月1號到月底的成績&#10;&#10;📊 分數怎麼算？&#10;• 綜合分數 = 最快速度 × 正確率 × 練習時間&#10;• 同一天多次練習會合併計算&#10;• 練習時間越長，分數越高&#10;&#10;💡 小提醒：每天練習一點點，小樹就會長大喔！",loading:"排行榜數據載入中...",loadingHint:"如果持續無法載入，請檢查網路連接或稍後再試",loadError:"載入排行榜失敗，請稍後再試",reload:"重新載入",today:"本日排行",yesterday:"昨日排行",lastWeek:"上周排行",lastMonth:"上個月排行",allGrades:"全部年級",grade:"{{grade}}年級",stats:"{{chars}}字 · {{accuracy}}%準確",noData:"尚無資料"},terms:{title:"TypeSprout 服務條款",titleSuffix:"服務條款",lastUpdated:"最後更新日期：2025年9月21日",section1:{title:"1. 總則與接受條款",content1:"歡迎使用 TypeSprout（下稱「本服務」）。本服務是一個由個人開發者維護的免費、非盈利專案，旨在為使用者（特別是兒童與學習者）提供一個單純的線上打字練習環境。",content2:"當您存取或使用本服務時，即表示您已閱讀、理解並同意接受本《服務條款》（下稱「本條款」）所有內容的約束。若您不同意本條款的任何部分，請立即停止使用本服務。"},section2:{title:"2. 服務說明與內容來源",subtitle1:"服務目的：",content1:"本服務的唯一目的是提供打字技巧練習。它並非學術研究或宗教教育工具。所有網站內容均為此單一目的服務。",subtitle2:"題庫內容來源與免責聲明：",content2:"為了提供豐富的練習文本，本服務的題庫內容來自多個來源。我們在此特別聲明：",listItem1:"AI 生成內容：部分練習文章由 AI 模型（例如 ChatGPT）分析、收集或生成，僅供打字練習之用。",listItem2:"聖經文本：部分聖經題庫來自第三方 API.Bible 服務。當該服務無法存取時，可能由 AI 模型生成替代文本。",content3:"準確性免責：因此，我們不對任何題庫內容的準確性、完整性、或特定聖經版本的忠實度作任何保證或背書。所有內容都應被視為打字練習材料，而非精確的學術或宗教參考資料。請使用者在使用前充分理解這一點。"},section3:{title:"3. 使用授權與限制",subtitle1:"個人非商業使用授權：",content1:"我們授予您一個個人的、非獨家的、不可轉讓的、可撤銷的授權，讓您僅可為個人、非商業及教育目的使用本服務。",subtitle2:"嚴格禁止商業使用：",content2:"您不得對本服務的任何部分進行複製、修改、散佈、轉售、出租，或用於任何直接或間接的商業目的。這包括（但不限於）將本網站內容作為任何付費課程、付費服務或商業產品的一部分。"},section4:{title:"4. 使用者責任",subtitle1:"帳戶安全：",content1:"您有責任妥善保管您的帳戶登入資訊，並對您帳戶下發生的所有活動負責。",subtitle2:"禁止濫用與作弊：",content2:"您同意不使用任何方式攻擊、破解、干擾或癱瘓本服務的正常運作。同時，嚴格禁止使用外掛、機器人、自動化腳本或任何作弊手段，以獲取不實的練習成績或破壞排行榜的公平性。若發現此類行為，我們有權立即終止您的使用權並刪除您的帳戶。"},section5:{title:"5. 免責聲明與服務限制",subtitle1:"依現狀提供：",content1:"本服務是一個持續開發中的個人專案，我們依「現狀」及「現有」的基礎提供。我們不提供任何形式的明示或默示擔保，包括但不限於服務的穩定性、安全性、無錯誤或不中斷。",subtitle2:"資料保存：",content2:"我們不對您的任何練習記錄或用戶資料的遺失或損壞承擔責任，亦不保證資料的永久保存。",subtitle3:"服務終止權：",content3:"我們保留隨時因任何理由修改、暫停或永久終止本服務的權利，恕不另行通知。"},section6:{title:"6. 隱私權政策",content:"我們致力於保護您的隱私。我們僅收集運行本服務所必需的最少資訊，具體細節請參閱我們的《隱私權政策》。該政策構成本條款的一部分，使用本服務即代表您也同意該政策。"},section7:{title:"7. 聯絡方式",content1:"若您對本服務條款有任何疑問，請透過我們的官方 GitHub Issues 頁面提出：https://github.com/yveschen001/typesprout-pubic/issues",warning:"請注意，這是一個公開平台，請勿在上面留下您的個人隱私資訊。"},footer:"© 2025 TypeSprout. 版權所有。"},privacy:{title:"TypeSprout 隱私權政策",titleSuffix:"隱私權政策",effectiveDate:"生效日期：2025年9月21日",introduction:"歡迎使用 TypeSprout！這是一個由個人開發者出於興趣而創建的免費打字練習網站。我們深知您的隱私至關重要，因此本政策旨在說明我們會收集哪些資料，以及我們將如何使用這些資料。",notice:"請注意：本服務為非盈利性質，所有功能均「依現狀」提供。若您不同意本隱私權政策的任何條款，請立即停止使用本服務。繼續使用即代表您已閱讀、理解並同意本政策的全部內容。",section1:{title:"1. 我們收集的資料類型",principle:"我們秉持最簡化原則，僅收集維持服務運作所必需的資料：",googleAuth:{title:"Google 登入認證：",content:"當您使用 Google 帳戶登入時，我們僅會利用 Google 的認證服務來驗證您的身分並為您創建一個獨一無二的匿名用戶ID。我們不會主動請求、存取或儲存您 Google 帳戶中的任何個人隱私資料，例如您的真實姓名、地址。"},gameData:{title:"遊戲數據：",content:"您在網站上進行的每一次打字練習成績，包括速度 (WPM)、準確度、所用時間等。這些數據會與您的匿名用戶ID關聯，用於生成您的個人歷史記錄和排行榜。"},voluntaryInfo:{title:"用戶自願提供的非精確資訊 (可選填)：",content:"您可以選擇性地提供您的年齡範圍、職業領域、語言或地區。這些資訊並非強制性，其主要目的是為了優化題庫推薦、用於匿名的統計分析及排行榜分組。我們不要求、也不會驗證這些資訊的準確性。"},technicalData:{title:"由第三方服務自動收集的技術資料：",googleAnalytics:"Google Analytics：我們使用此服務分析網站流量，以了解服務的使用情況。它會收集您的 IP 位址、瀏覽器類型、作業系統、瀏覽頁面等匿名化資訊。",googleAdsense:"Google AdSense (廣告)：我們未來可能會使用 Google AdSense 來投放廣告，以支持網站的營運成本。Google 及其合作夥伴可能會使用 Cookies (例如 DoubleClick Cookie) 來根據您過去的造訪記錄向您展示個人化廣告。"}},section2:{title:"2. 我們如何使用您的資料",coreFunction:"核心功能：您的匿名用戶ID和遊戲數據是本服務核心功能的一部分，用於記錄您的成績、提供歷史圖表及全球排行榜。",experienceOptimization:"體驗優化：您自願提供的年齡、職業等資訊，將被用來為您匹配更合適的打字練習題庫。",statisticalAnalysis:"統計分析：我們會將所有用戶自願提供的資訊進行匿名化和聚合化處理，用於了解用戶群體的整體輪廓，以改善服務。",serviceMaintenance:"服務維護：透過 Google Analytics 收集的技術資料有助於我們了解網站的運行狀況並修復潛在問題。"},section3:{title:"3. 資料儲存與跨境傳輸",storageLocation:"儲存位置：本網站的程式碼託管於 GitHub，而您的遊戲數據和自願提供的資訊則儲存在 Google Firebase 的資料庫中。",crossBorderTransfer:"跨境傳輸：GitHub 和 Google Firebase 的伺服器可能位於您所在國家之外（例如美國）。您使用本服務即表示您理解並同意，您的資料將被傳輸、儲存和處理於這些位於海外的伺服器上。",dataRetention:"資料存續性：由於本服務完全免費，我們無法保證資料的永久保存。我們保留在未通知的情況下清除部分或全部用戶數據的權利。"},section4:{title:"4. 關於 Cookies 與廣告",functionalCookies:"功能性 Cookies：我們使用 Cookies 來維持您的登入狀態。",advertisingCookies:"廣告 Cookies：如上所述，若我們啟用 Google AdSense，Google 將使用 Cookies 來投放廣告。您可以隨時造訪 Google 的廣告設定頁面 (https://adssettings.google.com/) 來管理或選擇退出個人化廣告。"},section5:{title:"5. 您的權利與聯絡方式",contactChannel:"聯絡管道：若您對本隱私政策有任何疑問，或希望行使您的資料權利（如查詢、更正、刪除），請透過我們的官方 GitHub Issues 頁面提出請求。",githubLink:"https://github.com/yveschen001/typesprout-pubic/issues",importantReminder:"重要提醒：請注意，GitHub Issues 是一個公開的平台。為了保護您的個人隱私，請絕對不要在 Issue 的內容中留下任何個人識別資訊，例如您的電子郵件地址、真實姓名或帳號截圖。我們僅需您提供在 TypeSprout 上的用戶名稱 (Username) 和問題描述即可。我們不會透過 Issue 以外的任何私人管道與您聯繫。",responseTime:"由於本專案為個人維護，我們會在能力範圍內盡快回覆，感謝您的耐心與理解。"}},admin:{title:"管理後台",description:"此區僅供維運與內容管理使用。",bulkTranslationTool:"大量在地化工具",usageInstructions:"？ 使用說明",usageDescription:"輸入來源與目標語言代碼，貼上多行文字後按下執行，結果僅供人工複核。此功能需管理權杖啟用。",sourceLanguage:"來源語言",targetLanguage:"目標語言",execute:"執行"},ui:{loading:"載入中...",start:"開始",string089:"請先登入。",string090:"個人資料",string091:"回到首頁",string092:"隱私權政策",string093:"隱私權政策",string094:"僅使用你的 Google 帳號保存進度與歷程。",gotIt:"知道了",later:"稍後",string095:"我們蒐集什麼資料？",string096:"僅蒐集你的打字分數、正確率與練習時間。不蒐集姓名、電子郵件等個人敏感資料。",string097:"使用這些資料提供個人化回饋並顯示你的進步歷程。",string154:"服務條款",string155:"使用本網站即表示你同意以下條款：",string156:"1. 你對自己的學習與進步負責。",string157:"條款內容是什麼？",string158:"條款包括：僅將網站用於教育目的、不分享不當內容、尊重其他使用者。",string200:"建議使用右上角「Sign in with Google」登入以保存你的成績與歷程；本網站重視匿名與隱私，不會儲存個人敏感資料。",string202:"提醒：今天還沒練習喔！每天動動手，讓小樹更茁壯。",closeHint:"關閉提示"},charts:{speedChartAriaLabel:"綜合分數趨勢圖：線越高代表表現越好",speedChartTitle:"綜合分數（正確速度）",speedChartTooltip:"縱軸：綜合分數（越高越好）；橫軸：時間順序。綠線表示只計正確字的速度，綜合了速度與正確率。",accuracyChartAriaLabel:"正確率趨勢圖：線越高代表越準",accuracyChartTitle:"正確率",accuracyChartTooltip:"縱軸：正確率（越高代表越準）；橫軸：時間順序。藍線顯示每次測驗的正確率變化。",recordNumber:"第 {{number}} 筆",speedScore:"綜合分數：{{score}}",totalQuestionChars:"題目總字數：{{chars}} 字",actualInput:"實際輸入：{{chars}} 字",timeSpent:"花費時間：{{seconds}} 秒",accuracy:"正確率：{{percent}}%",correctChars:"正確字數：{{chars}} 字",percentile:"超過約 {{percent}}% 人",highestHere:"這裡最高 {{value}}",recentValue:"最近 {{value}} {{trend}}",defaultDescription:"上：綜合分數趨勢；下：正確率趨勢。先把正確率拉高，再慢慢變快。"},keyboard:{errorRate:"{{key}} 錯誤率 {{percent}}%",relativeScale:"相對刻度：綠 ≤30% · 黃 ≤70% · 紅 ＞70%（相對於最高錯誤鍵；依「最近累積」錯誤率計算）",absoluteScale:"綠 ≤{{low}}% · 黃 ≤{{mid}}% · 紅 ＞{{mid}}%（% 為該鍵『最近累積』錯誤率）"}}},"zh-CN":{translation:{nav:{home:"首页",practice:"练习",test:"测验",result:"结果",leaderboard:"排行榜",profile:"个人",garden:"种树",subtitle:"儿童打字与种树成长"},meta:{result:"结果",homeDescription:"儿童打字练习与种树成长游戏。支持繁体中文/简体中文/英文",practiceDescription:"免费打字练习，支持输入法与多种模式。",testDescription:"计时测验，显示正确率与综合分数。",resultDescription:"你的打字测验结果。",leaderboardDescription:"依语言的每日/每周/每月排行榜。",profileDescription:"你的个人资讯、年级与偏好设定。",gardenDescription:"以打字点数推进树的成长与奖励。"},auth:{signIn:"使用 Google 登录",signOut:"登出",loading:"加载中...",pleaseSignIn:"请先使用 Google 登录",privacyNote:"不收集个人信息；统计数据仅用于匿名排行与学习反馈。"},layout:{epExplanation:"怎么拿点数？每次测验依『时间×速度×正确率』换算（base×分钟×(速度/目标，最多×2)×(0.5+0.5×正确率)）。每日上限 100；鼓励规则：正确率≥30% 时，每 10 秒至少 +1 点（可累加）；≥30 秒且正确率≥50% 至少 +1。{{estMinLeft}}",loginSuggestion:"建议使用右上角「Sign in with Google」登录以保存你的成绩与历程；本网站重视匿名与隐私，不会储存个人敏感资料。",dailyReminder:"提醒：今天还没练习喔！每天动动手，让小树更茁壮。",todayProgress:"今日：",estimatedMinutes:"估约 {{minutes}} 分",remaining:"剩余"},tips:{avgAdj:"过去30天的平均综合分数",totalChars:"过去30天的总字数",meVsSite:"您与所有网站用户在过去30天的表现比较"},dev:{stageOverview:"五阶段总览（便于比对外观）",stage:"阶段",savedToFirestore:"已即时保存至 Firestore"},error:{loadingError:"加载页面时发生错误，请稍后再试。",errorOccurred:"发生错误",goBack:"返回上一页",goHome:"回到首页"},questionBank:{title:"选择题库",subtitle:"选择适合你的练习内容",loading:"加载题库中...",recommended:"推荐",gradeRange:"年级范围",supportedLanguages:"支持语言",totalQuestions:"总题数",noRecommendation:"目前没有适合你年级的推荐题库",children:{name:"儿童题库",description:"适合儿童的基础打字练习"},bible:{name:"圣经题库",description:"圣经经文打字练习"}},home:{title:"TypeSprout — 儿童打字与种树成长",heroTitle:"孩子打字，树苗长高。",heroSubtitle:"每次输入都会化成能量浇灌你的树，支持多语言，建立正确打字习惯与专注力。",ctaPractice:"立即开始练习",ctaTest:"进行测验",privacyNote:"不收集个人信息；统计数据仅用于匿名排行与学习反馈。",aboutTitle:"关于 TypeSprout",aboutContent:`大家好，我是来自台湾的爸爸Yves.C。Typesprout的灵感来自于看到我的孩子们在Roblox上与世界各地的朋友聊天——我意识到打字实际上是孩子们打开更大世界的第一把钥匙。因此，我创建了这个网页打字练习，使用了无需编码的概念，结合了ChatGPT/AI，并加入了「小树成长」的视觉反馈：每当正确按下键盘，树就会长高一点，将每日的努力转化为可见的成就。

在内容方面，我已将1到6年级常用的单词整理成可选择的题库；孩子们可以练习母语，并在「设定」中切换到英语或其他想要练习的语言。这些单词是根据年级难度由AI过滤的。对于成人，我准备了一个扩展的题库，目前包括圣经API和AI生成的圣经经文（来自免费的在线资源，准确性可能有限），我将逐步添加名言等主题，以使练习更加有趣。

在Typesprout中，孩子们将逐步累积分数和每日努力；屏幕上的小树也会随着他们的表现而茁壮成长，形成「努力 → 反馈 → 再次参与」的正循环。我还设计了一个为期5天的活跃挑战：连续练习5天将获得一个小水果奖励。当成就可见时，动力将会增长。这就是我想与孩子们以及你分享的学习节奏。对于教师，我在个人页面上添加了一个「班级」功能，允许教师创建班级并邀请同学参加，让练习感觉更具竞争性。

这是一个由我个人维护的小项目（没有工程背景，主要依赖 ChatGPT/AI 进行指导和合作）。如果您有建议或在使用过程中遇到问题，请随时在 GitHub 的问题区留言，我会尽力整理并解决它们。提前感谢大家。

GitHub: https://github.com/yveschen001/typesprout-pubic/issues`,cards:{players:"玩家数",avgAdj:"平均综合分数（30 天）",totalChars:"总字数（30 天）",meVsSite:"我 vs 全站（30 天）"},googleUsersCount:"Google 登录用户数",googleUsersTooltip:"使用 Google 账号登录的用户总数",tabs:{visitors:"访客分布",leader:"排行榜预览"},visitorsDesc:"网站访客与玩家的国家分布（匿名统计）。",leaderEmpty:"暂无数据",leaderViewFull:"查看完整排行",aboutBody:"TypeSprout 面向 1–6 年级儿童，支持 zh‑TW / zh‑CN / en‑US，提供安全友好的练习环境。"},test:{title:"打字测验",questionCount:"题数",difficulty:"难度",difficultyHard:"难",difficultyMedium:"中",difficultyEasy:"易",allowBackspace:"允许退格",capsLock:"大写锁定",loadingQuestions:"正在载入题目…",promptStart:"按下 Start 后，请输入上方文字。禁止贴上。",shortcuts:"Space 开/停 · R 重置 · F 聚焦 · Enter 提交本题",shortcutsDescription:"空格键：开始/暂停 • R：重置 • F：聚焦输入框",questionText:"题目文字（无法选取或复制）",metricsTip:"速度与正确率说明",chartDescription:"上：综合分数趋势；下：正确率趋势。先把正确率稳定到 90% 以上，再慢慢变快。",insightsSummary:"Insights（键盘错误热点、速度与正确率趋势）",inputPrompt:"请照下方文字输入",progress:"进度 {{current}} / {{total}}",outOfFocus:"请点击输入框继续打字",submitQuestion:"提交本题（Enter）",submitAndReview:"送出并查看成绩",accuracyLabel:"正确率：{{accuracy}}%",adjWpmLabel:"综合分数（正确速度）：{{adjWpm}}",finished:"完成",signInToSave:"登录以保存进度",tryAgain:"再试一次",questionStats:"本场各题统计（用时 / 上限、错字数）",questionPreview:"题目（前 24 字）",timeSpent:"用时",timeLimit:"上限",mistakes:"错字"},profile:{title:"个人资料",googleAccount:"Google 账户",xp:"经验值（XP）",points:"点数（Points）",fruits:"果实（Fruits）",pointsDetail:"点数总额如上；明细请到",history:"历程",view:"查看",xpTooltip:"通过打字练习获得的经验值。正确率和速度越高，获得的经验值越多！",pointsTooltip:"每日练习获得的点数。用于种植你的小树并解锁奖励。",fruitsTooltip:"从你的小树收集的果实。通过达到每日点数目标获得。",classCode:"班级代码",classCodeTooltip:"全站唯一（3–50 字；不可包含 /）。用于比赛与排行榜分组；可加入最多 5 个。老师可建立新代码；建立后会自动加入（已满 5 不自动）。",classCodePlaceholder:"输入任意名称，避免重复即可",chartDescription:"上：综合分数趋势；下：正确率趋势。先把正确率拉高，再慢慢变快。",error:"发生错误",confirmDelete:"确定要删除此班级代码吗？",noClasses:"暂无班级",role:"角色",teacher:"老师",student:"学生",create:"建立",join:"加入",myClasses:"我的班级",joinedClasses:"我加入的班级",language:"语言",save:"储存",logout:"登出",analysis:"深入分析",nickname:"昵称",country:"国家/地区",gender:"性别",birthday:"生日（YYYY-MM）",male:"男孩",female:"女孩",other:"其他",copy:"复制",delete:"删除",remove:"移除",copySuccess:"已复制班级代码到剪贴板。",copyFailed:"复制失败，请手动选取复制。",youOwnThis:"您拥有此代码",noUser:"找不到用户",onlyTeacherCanCreate:"仅老师可建立班级代码",roleCheckError:"检查用户角色失败",invalidCodeFormat:"请输入 3–50 字，且不可包含 /",codeAlreadyTaken:"班级代码已被使用",maxClassesReached:"已达到建立班级数量上限",maxJoinedClasses:"已达到加入班级数量上限",classCreatedAndJoined:"班级建立成功并已加入",joinError:"加入班级失败",classNotFound:"找不到这个班级代码",alreadyJoined:"您已经加入这个班级",joinSuccess:"成功加入班级",createError:"建立失败：{{error}}"},result:{accuracyTooltip:"正确率 = 正确字 ÷ 题目总字。注意：没输入的字也算在题目总字内，所以多漏字会让正确率下降。",scoreTooltip:"综合分数 = 只计正确字的输入速度。计算方式：速度（WPM/CPM）× 正确率。用意：先把正确率练稳，再慢慢变快。",chartDescription:"上：综合分数趋势；下：正确率趋势。综合分数把速度与正确率一起算。先把正确率提高，再慢慢变快。",summary:"本次总结",timeSpent:"花费时间：{{time}}",accuracy:"正确率：{{accuracy}}%",adjWpm:"综合分数（正确速度）：{{adjWpm}}",vsSiteAverage:"相较站内平均（同语言）：{{adjWpm}} / {{siteAvg}}{{percentile}}",tryAgain:"再试一次",showInsights:"显示洞察",seconds:"{{count}}秒",minutes:"{{count}}分钟",minutesSeconds:"{{minutes}}分{{seconds}}秒",hours:"{{count}}小时",hoursMinutes:"{{hours}}小时{{minutes}}分钟",hideInsights:"隐藏洞察",totalChars:"总字数：{{chars}} 字",correctChars:"正确字数：{{chars}} 字"},garden:{myTree:"我的小树",history:"历程",howToLevelUp:"怎么升级？",levelUpRule1:"每天只要有练习就会累积活跃；输入越久，成长越快。",levelUpRule2:"最高到阶段 5；若能每天都维持阶段 5，就会持续长出果实。",levelUpRule3:"收集到的果实将依排名提供平台奖励；目前可先以测验时间作为积分累计。",levelUpSuggestion:"距离升到阶段 {{needStage}}，建议今天至少再有效输入 {{moreMin}} 分钟。",recentActivity:"最近 5 天活跃",activeDays:"活跃天数：{{activeDays}} / {{total}}",recalculateActivity:"重算活跃与阶段",recalculateActivityTooltip:"什么是「重算活跃与阶段」？会重新读取你最近 5 天的测验记录，计算有效输入分钟数，并更新活跃清单与目前阶段。",growthChartTitle:"成长示意图",growthChartSubtitle:"不同阶段外观与解锁条件（示意）。",stage:"阶段 {{stage}}",charsUnit:"字",maxStage:"最高阶段 5",stage1Desc:"第一片嫩芽冒出",stage2Desc:"长出第二片叶",stage3Desc:"叶片增生",stage4Desc:"花朵绽放",stage5Desc:"小树树冠成形（结果）",todaySummary:"今天总结",pointsExplanation:"点数怎么来？由本日测验产生，与有效输入时间、速度与正确率有关。每日上限 100；短练习（≥5秒且正确率≥30%）至少+1。",historyTitle:"什么是「历程」？",historyRule1:"点数由 速度×正确率×时间 换算而来，用于推动小树成长。",historyRule2:"下方清单显示每笔获得记录，方便你追踪自己的努力。",recentLogs:"最近记录",noData:"暂无数据",noLogs:"目前没有记录"},leaderboard:{signInHint:"提示：登录后你的测验成绩会自动参与排行；我们仅用于记录分数与历程，不收集个人敏感信息。",sortHint:"提示：按 Alt+↑/↓ 切换排序",classCodePlaceholder:"班级代码",tooltip:"🏆 排行榜怎么算的？&#10;• 本日排行：今天的成绩（本地时间）&#10;• 昨日排行：昨天的成绩（本地时间）&#10;• 上周排行：上周一到周日的成绩&#10;• 上个月排行：上个月1号到月底的成绩&#10;&#10;📊 分数怎么算？&#10;• 综合分数 = 最快速度 × 正确率 × 练习时间&#10;• 同一天多次练习会合并计算&#10;• 练习时间越长，分数越高&#10;&#10;💡 小提醒：每天练习一点点，小树就会长大喔！",loading:"排行榜数据加载中...",loadingHint:"如果持续无法加载，请检查网络连接或稍后再试",loadError:"加载排行榜失败，请稍后再试",reload:"重新加载",today:"本日排行",yesterday:"昨日排行",lastWeek:"上周排行",lastMonth:"上个月排行",allGrades:"全部年级",grade:"{{grade}}年级",stats:"{{chars}}字 · {{accuracy}}%准确",noData:"暂无数据"},terms:{title:"TypeSprout 服务条款",titleSuffix:"服务条款",lastUpdated:"最后更新日期：2025年9月21日",section1:{title:"1. 总则与接受条款",content1:"欢迎使用 TypeSprout（下称「本服务」）。本服务是一个由个人开发者维护的免费、非盈利项目，旨在为用户（特别是儿童与学习者）提供一个单纯的在线打字练习环境。",content2:"当您访问或使用本服务时，即表示您已阅读、理解并同意接受本《服务条款》（下称「本条款」）所有内容的约束。若您不同意本条款的任何部分，请立即停止使用本服务。"},section2:{title:"2. 服务说明与内容来源",subtitle1:"服务目的：",content1:"本服务的唯一目的是提供打字技巧练习。它并非学术研究或宗教教育工具。所有网站内容均为此单一目的服务。",subtitle2:"题库内容来源与免责声明：",content2:"为了提供丰富的练习文本，本服务的题库内容来自多个来源。我们在此特别声明：",listItem1:"AI 生成内容：部分练习文章由 AI 模型（例如 ChatGPT）分析、收集或生成，仅供打字练习之用。",listItem2:"圣经文本：部分圣经题库来自第三方 API.Bible 服务。当该服务无法访问时，可能由 AI 模型生成替代文本。",content3:"准确性免责：因此，我们不对任何题库内容的准确性、完整性、或特定圣经版本的忠实度作任何保证或背书。所有内容都应被视为打字练习材料，而非精确的学术或宗教参考资料。请用户在使用前充分理解这一点。"},section3:{title:"3. 使用授权与限制",subtitle1:"个人非商业使用授权：",content1:"我们授予您一个个人的、非独家的、不可转让的、可撤销的授权，让您仅可为个人、非商业及教育目的使用本服务。",subtitle2:"严格禁止商业使用：",content2:"您不得对本服务的任何部分进行复制、修改、散布、转售、出租，或用于任何直接或间接的商业目的。这包括（但不限于）将本网站内容作为任何付费课程、付费服务或商业产品的一部分。"},section4:{title:"4. 用户责任",subtitle1:"账户安全：",content1:"您有责任妥善保管您的账户登录信息，并对您账户下发生的所有活动负责。",subtitle2:"禁止滥用与作弊：",content2:"您同意不使用任何方式攻击、破解、干扰或瘫痪本服务的正常运作。同时，严格禁止使用外挂、机器人、自动化脚本或任何作弊手段，以获取不实的练习成绩或破坏排行榜的公平性。若发现此类行为，我们有权立即终止您的使用权并删除您的账户。"},section5:{title:"5. 免责声明与服务限制",subtitle1:"依现状提供：",content1:"本服务是一个持续开发中的个人项目，我们依「现状」及「现有」的基础提供。我们不提供任何形式的明示或默示担保，包括但不限于服务的稳定性、安全性、无错误或不中断。",subtitle2:"数据保存：",content2:"我们不对您的任何练习记录或用户数据的遗失或损坏承担责任，亦不保证数据的永久保存。",subtitle3:"服务终止权：",content3:"我们保留随时因任何理由修改、暂停或永久终止本服务的权利，恕不另行通知。"},section6:{title:"6. 隐私政策",content:"我们致力于保护您的隐私。我们仅收集运行本服务所必需的最少信息，具体细节请参阅我们的《隐私政策》。该政策构成本条款的一部分，使用本服务即代表您也同意该政策。"},section7:{title:"7. 联系方式",content1:"若您对本服务条款有任何疑问，请通过我们的官方 GitHub Issues 页面提出：https://github.com/yveschen001/typesprout-pubic/issues",warning:"请注意，这是一个公开平台，请勿在上面留下您的个人隐私信息。"},footer:"© 2025 TypeSprout. 版权所有。"},privacy:{title:"TypeSprout 隐私政策",titleSuffix:"隐私政策",effectiveDate:"生效日期：2025年9月21日",introduction:"欢迎使用 TypeSprout！这是一个由个人开发者出于兴趣而创建的免费打字练习网站。我们深知您的隐私至关重要，因此本政策旨在说明我们会收集哪些数据，以及我们将如何使用这些数据。",notice:"请注意：本服务为非盈利性质，所有功能均「依现状」提供。若您不同意本隐私政策的任何条款，请立即停止使用本服务。继续使用即代表您已阅读、理解并同意本政策的全部内容。",section1:{title:"1. 我们收集的数据类型",principle:"我们秉持最简化原则，仅收集维持服务运作所必需的数据：",googleAuth:{title:"Google 登录认证：",content:"当您使用 Google 账户登录时，我们仅会利用 Google 的认证服务来验证您的身份并为您创建一个独一无二的匿名用户ID。我们不会主动请求、访问或存储您 Google 账户中的任何个人隐私数据，例如您的真实姓名、地址。"},gameData:{title:"游戏数据：",content:"您在网站上进行的每一次打字练习成绩，包括速度 (WPM)、准确度、所用时间等。这些数据会与您的匿名用户ID关联，用于生成您的个人历史记录和排行榜。"},voluntaryInfo:{title:"用户自愿提供的非精确信息 (可选填)：",content:"您可以选择性地提供您的年龄范围、职业领域、语言或地区。这些信息并非强制性，其主要目的是为了优化题库推荐、用于匿名的统计分析及排行榜分组。我们不要求、也不会验证这些信息的准确性。"},technicalData:{title:"由第三方服务自动收集的技术数据：",googleAnalytics:"Google Analytics：我们使用此服务分析网站流量，以了解服务的使用情况。它会收集您的 IP 地址、浏览器类型、操作系统、浏览页面等匿名化信息。",googleAdsense:"Google AdSense (广告)：我们未来可能会使用 Google AdSense 来投放广告，以支持网站的运营成本。Google 及其合作伙伴可能会使用 Cookies (例如 DoubleClick Cookie) 来根据您过去的访问记录向您展示个性化广告。"}},section2:{title:"2. 我们如何使用您的数据",coreFunction:"核心功能：您的匿名用户ID和游戏数据是本服务核心功能的一部分，用于记录您的成绩、提供历史图表及全球排行榜。",experienceOptimization:"体验优化：您自愿提供的年龄、职业等信息，将被用来为您匹配更合适的打字练习题库。",statisticalAnalysis:"统计分析：我们会将所有用户自愿提供的信息进行匿名化和聚合化处理，用于了解用户群体的整体轮廓，以改善服务。",serviceMaintenance:"服务维护：通过 Google Analytics 收集的技术数据有助于我们了解网站的运行状况并修复潜在问题。"},section3:{title:"3. 数据存储与跨境传输",storageLocation:"存储位置：本网站的代码托管于 GitHub，而您的游戏数据和自愿提供的信息则存储在 Google Firebase 的数据库中。",crossBorderTransfer:"跨境传输：GitHub 和 Google Firebase 的服务器可能位于您所在国家之外（例如美国）。您使用本服务即表示您理解并同意，您的数据将被传输、存储和处理于这些位于海外的服务器上。",dataRetention:"数据存续性：由于本服务完全免费，我们无法保证数据的永久保存。我们保留在未通知的情况下清除部分或全部用户数据的权利。"},section4:{title:"4. 关于 Cookies 与广告",functionalCookies:"功能性 Cookies：我们使用 Cookies 来维持您的登录状态。",advertisingCookies:"广告 Cookies：如上所述，若我们启用 Google AdSense，Google 将使用 Cookies 来投放广告。您可以随时访问 Google 的广告设置页面 (https://adssettings.google.com/) 来管理或选择退出个性化广告。"},section5:{title:"5. 您的权利与联系方式",contactChannel:"联系渠道：若您对本隐私政策有任何疑问，或希望行使您的数据权利（如查询、更正、删除），请通过我们的官方 GitHub Issues 页面提出请求。",githubLink:"https://github.com/yveschen001/typesprout-pubic/issues",importantReminder:"重要提醒：请注意，GitHub Issues 是一个公开的平台。为了保护您的个人隐私，请绝对不要在 Issue 的内容中留下任何个人识别信息，例如您的电子邮件地址、真实姓名或账号截图。我们仅需您提供在 TypeSprout 上的用户名 (Username) 和问题描述即可。我们不会通过 Issue 以外的任何私人渠道与您联系。",responseTime:"由于本项目为个人维护，我们会在能力范围内尽快回复，感谢您的耐心与理解。"}},admin:{title:"管理后台",description:"此区仅供运维与内容管理使用。",bulkTranslationTool:"大量本地化工具",usageInstructions:"？ 使用说明",usageDescription:"输入来源与目标语言代码，贴上多行文字后按下执行，结果仅供人工复核。此功能需管理令牌启用。",sourceLanguage:"来源语言",targetLanguage:"目标语言",execute:"执行"},ui:{loading:"加载中...",start:"开始",string089:"请先登录。",string090:"个人资料",string091:"回到首页",string092:"隐私权政策",string093:"隐私政策",string094:"仅使用你的 Google 账号保存进度与历程。",gotIt:"知道了",later:"稍后",string095:"我们收集什么数据？",string096:"仅收集你的打字分数、正确率与练习时间。不收集姓名、电子邮件等个人敏感资料。",string097:"使用这些数据提供个性化反馈并显示你的进步历程。",string154:"服务条款",string155:"使用本网站即表示你同意以下条款：",string156:"1. 你对自己的学习与进步负责。",string157:"条款内容是什么？",string158:"条款包括：仅将网站用于教育目的、不分享不当内容、尊重其他用户。",string200:"建议使用右上角「Sign in with Google」登录以保存你的成绩与历程；本网站重视匿名与隐私，不会存储个人敏感资料。",string202:"提醒：今天还没练习喔！每天动动手，让小树更茁壮。",closeHint:"关闭提示"},charts:{speedChartAriaLabel:"综合分数趋势图：线越高代表表现越好",speedChartTitle:"综合分数（正确速度）",speedChartTooltip:"纵轴：综合分数（越高越好）；横轴：时间顺序。绿线表示只计正确字的速度，综合了速度与正确率。",accuracyChartAriaLabel:"正确率趋势图：线越高代表越准",accuracyChartTitle:"正确率",accuracyChartTooltip:"纵轴：正确率（越高代表越准）；横轴：时间顺序。蓝线显示每次测验的正确率变化。",recordNumber:"第 {{number}} 笔",speedScore:"综合分数：{{score}}",totalQuestionChars:"题目总字数：{{chars}} 字",actualInput:"实际输入：{{chars}} 字",timeSpent:"花费时间：{{seconds}} 秒",accuracy:"正确率：{{percent}}%",correctChars:"正确字数：{{chars}} 字",percentile:"超过约 {{percent}}% 人",highestHere:"这里最高 {{value}}",recentValue:"最近 {{value}} {{trend}}",defaultDescription:"上：综合分数趋势；下：正确率趋势。先把正确率拉高，再慢慢变快。"},keyboard:{errorRate:"{{key}} 错误率 {{percent}}%",relativeScale:"相对刻度：绿 ≤30% · 黄 ≤70% · 红 ＞70%（相对于最高错误键；依「最近累积」错误率计算）",absoluteScale:"绿 ≤{{low}}% · 黄 ≤{{mid}}% · 红 ＞{{mid}}%（% 为该键「最近累积」错误率）"}}}};function VT(n=Mr){if(!St.isInitialized)St.use($C).init({resources:Q4,lng:(()=>{if(n&&ko.includes(n))return n;try{const e=localStorage.getItem("typesprout_lang");if(e&&ko.includes(e))return e}catch{}try{return du(navigator.language||Mr,Mr)}catch{return n}})(),fallbackLng:"en-US",load:"currentOnly",interpolation:{escapeValue:!1},supportedLngs:["en-US","zh-TW","zh-CN","es-MX","pt-BR","ja-JP","ko-KR","fr-FR","de-DE","it-IT","id-ID","vi-VN","th-TH","ru-RU","ar-SA","fil-PH","nl-NL","pl-PL","sv-SE","nb-NO","da-DK","fi-FI","ro-RO","el-GR","cs-CZ","hu-HU","uk-UA","ms-MY","hi-IN","bn-BD","he-IL","fa-IR","ur-PK","tr-TR"]}),(async()=>{try{const e=await OT(n);e&&St.addResourceBundle(e.lang,"translation",e.dict,!0,!0)}catch(e){console.warn("[i18n] Failed to fetch UI bundle during init:",e)}})();else try{const t=(()=>{try{return localStorage.getItem("typesprout_lang")||""}catch{return""}})()||n;St.changeLanguage(t)}catch(e){console.warn("[i18n] Failed to sync language during init:",e)}return St}const Eg=async n=>{try{console.log(`[i18n] Loading full translations for ${n}`);const t=(await OT(n))?.dict;return t?(St.addResourceBundle(n,"translation",t,!0,!0),console.log(`[i18n] Successfully loaded ${Object.keys(t).length} translations for ${n}`),!0):(console.log(`[i18n] No dynamic translations found for ${n}, using base translations`),!1)}catch(e){return console.error(`[i18n] Error loading translations for ${n}:`,e),!1}},FT=async n=>(await Promise.allSettled(n.map(t=>Eg(t)))).map((t,r)=>({lang:n[r],success:t.status==="fulfilled"&&t.value===!0}));function UT(){return["ar-SA","bn-BD","cs-CZ","da-DK","de-DE","el-GR","en-US","es-MX","fa-IR","fi-FI","fr-FR","he-IL","hi-IN","hu-HU","id-ID","it-IT","ja-JP","ko-KR","ms-MY","nb-NO","nl-NL","pl-PL","pt-BR","ro-RO","ru-RU","sv-SE","th-TH","tr-TR","uk-UA","ur-PK","vi-VN","zh-CN","zh-TW"]}async function Y4(n){if(n)return await Eg(n);{const e=UT();return await FT(e)}}async function jT(n){try{console.log("[i18n] Initializing dynamic i18n system with language:",n),St.isInitialized?n&&St.language!==n&&await St.changeLanguage(n):await VT(n);const e=St.language;console.log(`[i18n] Loading full translations for current language: ${e}`),await Eg(e);const r=["zh-TW","zh-CN","en-US"].filter(s=>s!==e);return r.length>0&&(console.log("[i18n] Preloading primary language translations"),setTimeout(()=>{FT(r)},100)),console.log("[i18n] Dynamic i18n system initialized successfully"),!0}catch(e){return console.error("[i18n] Error initializing dynamic i18n system:",e),!1}}const J4=Object.freeze(Object.defineProperty({__proto__:null,getSupportedLanguages:UT,initI18n:VT,initializeDynamicI18n:jT,reloadTranslations:Y4},Symbol.toStringTag,{value:"Module"})),X4={init(){this.initGA()},initGA(){const n=document.createElement("script");n.async=!0,n.src="https://www.googletagmanager.com/gtag/js?id=G-VVKLT1K6K3",document.head.appendChild(n),window.dataLayer=window.dataLayer||[];function e(){window.dataLayer.push(arguments)}window.gtag=e,e("consent","default",{ad_user_data:"denied",ad_personalization:"denied",ad_storage:"denied",analytics_storage:"granted"}),e("js",new Date);const t=location.hostname==="localhost"||location.hostname==="127.0.0.1";try{console.info("[GA] init →","G-VVKLT1K6K3","localDev=",t)}catch{}e("config","G-VVKLT1K6K3",{allow_google_signals:!1,allow_ad_personalization_signals:!1,ads_data_redaction:!0,debug_mode:t}),t&&(e("event","ts_debug_ping",{debug_mode:!0,page_path:location.pathname+location.search}),e("event","page_view",{debug_mode:!0,page_location:location.href,page_path:location.pathname+location.search}))},initCF(){const n=document.createElement("script");n.defer=!0,n.src="https://static.cloudflareinsights.com/beacon.min.js",n.setAttribute("data-cf-beacon",JSON.stringify({token:void 0})),document.head.appendChild(n)}},Jc=({children:n})=>{const e=location.pathname.split("/")[1]||"";if(!ko.includes(e)){let t=Mr;try{const r=localStorage.getItem("typesprout_lang");r&&ko.includes(r)?t=r:t=du(navigator.language,Mr)}catch{}return Q.jsx(Ip,{to:`/${t}/`,replace:!0})}try{const t=document.documentElement,r=e||Mr;t.setAttribute("lang",r),t.setAttribute("dir",_g(r)?"rtl":"ltr")}catch{}return Q.jsx(Q.Fragment,{children:n})},pw=location.pathname.split("/")[1]||"",nm=ko.includes(pw)?pw:du(navigator.language,Mr);try{const n=document.documentElement;n.setAttribute("lang",nm),n.setAttribute("dir",_g(nm)?"rtl":"ltr"),n.setAttribute("data-i18n-loading","true")}catch{}jT(nm).then(()=>{console.log("[main] Dynamic i18n initialization completed");try{document.documentElement.removeAttribute("data-i18n-loading")}catch{}const n=pv([{path:"/",element:Q.jsx(Jc,{children:Q.jsx(Ip,{to:`/${du(navigator.language,Mr)}/`,replace:!0})})},{path:"/:lang/*",element:Q.jsx(Jc,{children:Q.jsx(X_,{})})}]);V0.createRoot(document.getElementById("root")).render(Q.jsx(O.StrictMode,{children:Q.jsx(vp,{children:Q.jsx(mv,{router:n})})}))}).catch(n=>{console.error("[main] Dynamic i18n initialization failed:",n);try{document.documentElement.removeAttribute("data-i18n-loading")}catch{}const e=pv([{path:"/",element:Q.jsx(Jc,{children:Q.jsx(Ip,{to:`/${du(navigator.language,Mr)}/`,replace:!0})})},{path:"/:lang/*",element:Q.jsx(Jc,{children:Q.jsx(X_,{})})}]);V0.createRoot(document.getElementById("root")).render(Q.jsx(O.StrictMode,{children:Q.jsx(vp,{children:Q.jsx(mv,{router:e})})}))});typeof window<"u"&&X4.init();export{ci as $,db as A,rd as B,cb as C,ob as D,ko as E,hb as F,_g as G,H5 as H,ab as I,Y_ as J,Ud as K,br as L,sb as M,Z4 as N,TT as O,Kn as P,Ms as Q,As as R,J_ as S,v4 as T,xt as U,Os as V,Ya as W,xu as X,Vr as Y,fe as Z,gr as _,pi as a,Gi as a0,mg as a1,pg as a2,fd as a3,dh as a4,yg as a5,gg as a6,So as a7,Ea as a8,G5 as a9,di as aa,$5 as ab,bm as ac,an as ad,ru as ae,be as af,Dx as ag,on as ah,gn as ai,Da as aj,$x as ak,A5 as al,Qa as am,bu as an,x5 as ao,k5 as ap,ub as aq,fb as ar,J4 as as,cm as b,vg as c,ii as d,Qn as e,z_ as f,Fa as g,yt as h,U5 as i,Q as j,Ua as k,lb as l,ql as m,ib as n,q_ as o,y4 as p,W_ as q,O as r,J5 as s,pa as t,gu as u,CT as v,Ll as w,tb as x,um as y,j5 as z};
