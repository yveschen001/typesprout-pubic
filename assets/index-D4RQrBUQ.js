const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Bzc3IDBn.js","assets/index-eKjPdLg9.js","assets/api-Ds-UNkUD.js","assets/debug-CNNn05X7.js","assets/Test-lrGdWJgB.js","assets/ChartSection-x7vIRUtL.js","assets/useQuestionBank-uJQo5RO7.js","assets/env-BTJqVy3E.js","assets/Result-B47avcVM.js","assets/Profile-Blp_X_hC.js","assets/Garden-DeRJ5NVM.js","assets/Admin-fC7ukh7C.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var F4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ff={exports:{}},xl={},Uf={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function b2(){if(w0)return qe;w0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function U(M,X,pe){this.props=M,this.context=X,this.refs=z,this.updater=pe||I}U.prototype.isReactComponent={},U.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=U.prototype;function J(M,X,pe){this.props=M,this.context=X,this.refs=z,this.updater=pe||I}var Z=J.prototype=new H;Z.constructor=J,P(Z,U.prototype),Z.isPureReactComponent=!0;var se=Array.isArray,he=Object.prototype.hasOwnProperty,F={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function R(M,X,pe){var Ne,$e={},Ge=null,it=null;if(X!=null)for(Ne in X.ref!==void 0&&(it=X.ref),X.key!==void 0&&(Ge=""+X.key),X)he.call(X,Ne)&&!A.hasOwnProperty(Ne)&&($e[Ne]=X[Ne]);var st=arguments.length-2;if(st===1)$e.children=pe;else if(1<st){for(var ft=Array(st),Xe=0;Xe<st;Xe++)ft[Xe]=arguments[Xe+2];$e.children=ft}if(M&&M.defaultProps)for(Ne in st=M.defaultProps,st)$e[Ne]===void 0&&($e[Ne]=st[Ne]);return{$$typeof:n,type:M,key:Ge,ref:it,props:$e,_owner:F.current}}function k(M,X){return{$$typeof:n,type:M.type,key:X,ref:M.ref,props:M.props,_owner:M._owner}}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function L(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return X[pe]})}var j=/\/+/g;function C(M,X){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):X.toString(36)}function ve(M,X,pe,Ne,$e){var Ge=typeof M;(Ge==="undefined"||Ge==="boolean")&&(M=null);var it=!1;if(M===null)it=!0;else switch(Ge){case"string":case"number":it=!0;break;case"object":switch(M.$$typeof){case n:case e:it=!0}}if(it)return it=M,$e=$e(it),M=Ne===""?"."+C(it,0):Ne,se($e)?(pe="",M!=null&&(pe=M.replace(j,"$&/")+"/"),ve($e,X,pe,"",function(Xe){return Xe})):$e!=null&&(b($e)&&($e=k($e,pe+(!$e.key||it&&it.key===$e.key?"":(""+$e.key).replace(j,"$&/")+"/")+M)),X.push($e)),1;if(it=0,Ne=Ne===""?".":Ne+":",se(M))for(var st=0;st<M.length;st++){Ge=M[st];var ft=Ne+C(Ge,st);it+=ve(Ge,X,pe,ft,$e)}else if(ft=E(M),typeof ft=="function")for(M=ft.call(M),st=0;!(Ge=M.next()).done;)Ge=Ge.value,ft=Ne+C(Ge,st++),it+=ve(Ge,X,pe,ft,$e);else if(Ge==="object")throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return it}function He(M,X,pe){if(M==null)return M;var Ne=[],$e=0;return ve(M,Ne,"","",function(Ge){return X.call(pe,Ge,$e++)}),Ne}function xe(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Te={current:null},ne={transition:null},me={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:F};function ce(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:He,forEach:function(M,X,pe){He(M,function(){X.apply(this,arguments)},pe)},count:function(M){var X=0;return He(M,function(){X++}),X},toArray:function(M){return He(M,function(X){return X})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},qe.Component=U,qe.Fragment=t,qe.Profiler=s,qe.PureComponent=J,qe.StrictMode=r,qe.Suspense=f,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,qe.act=ce,qe.cloneElement=function(M,X,pe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ne=P({},M.props),$e=M.key,Ge=M.ref,it=M._owner;if(X!=null){if(X.ref!==void 0&&(Ge=X.ref,it=F.current),X.key!==void 0&&($e=""+X.key),M.type&&M.type.defaultProps)var st=M.type.defaultProps;for(ft in X)he.call(X,ft)&&!A.hasOwnProperty(ft)&&(Ne[ft]=X[ft]===void 0&&st!==void 0?st[ft]:X[ft])}var ft=arguments.length-2;if(ft===1)Ne.children=pe;else if(1<ft){st=Array(ft);for(var Xe=0;Xe<ft;Xe++)st[Xe]=arguments[Xe+2];Ne.children=st}return{$$typeof:n,type:M.type,key:$e,ref:Ge,props:Ne,_owner:it}},qe.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},qe.createElement=R,qe.createFactory=function(M){var X=R.bind(null,M);return X.type=M,X},qe.createRef=function(){return{current:null}},qe.forwardRef=function(M){return{$$typeof:d,render:M}},qe.isValidElement=b,qe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:xe}},qe.memo=function(M,X){return{$$typeof:p,type:M,compare:X===void 0?null:X}},qe.startTransition=function(M){var X=ne.transition;ne.transition={};try{M()}finally{ne.transition=X}},qe.unstable_act=ce,qe.useCallback=function(M,X){return Te.current.useCallback(M,X)},qe.useContext=function(M){return Te.current.useContext(M)},qe.useDebugValue=function(){},qe.useDeferredValue=function(M){return Te.current.useDeferredValue(M)},qe.useEffect=function(M,X){return Te.current.useEffect(M,X)},qe.useId=function(){return Te.current.useId()},qe.useImperativeHandle=function(M,X,pe){return Te.current.useImperativeHandle(M,X,pe)},qe.useInsertionEffect=function(M,X){return Te.current.useInsertionEffect(M,X)},qe.useLayoutEffect=function(M,X){return Te.current.useLayoutEffect(M,X)},qe.useMemo=function(M,X){return Te.current.useMemo(M,X)},qe.useReducer=function(M,X,pe){return Te.current.useReducer(M,X,pe)},qe.useRef=function(M){return Te.current.useRef(M)},qe.useState=function(M){return Te.current.useState(M)},qe.useSyncExternalStore=function(M,X,pe){return Te.current.useSyncExternalStore(M,X,pe)},qe.useTransition=function(){return Te.current.useTransition()},qe.version="18.3.1",qe}var E0;function Jp(){return E0||(E0=1,Uf.exports=b2()),Uf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function D2(){if(T0)return xl;T0=1;var n=Jp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var v,w={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:E,ref:I,props:w,_owner:s.current}}return xl.Fragment=t,xl.jsx=u,xl.jsxs=u,xl}var S0;function N2(){return S0||(S0=1,Ff.exports=D2()),Ff.exports}var Q=N2(),O=Jp();const ks=Fd(O);var Fc={},jf={exports:{}},Mn={},zf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function L2(){return I0||(I0=1,(function(n){function e(ne,me){var ce=ne.length;ne.push(me);e:for(;0<ce;){var M=ce-1>>>1,X=ne[M];if(0<s(X,me))ne[M]=me,ne[ce]=X,ce=M;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],ce=ne.pop();if(ce!==me){ne[0]=ce;e:for(var M=0,X=ne.length,pe=X>>>1;M<pe;){var Ne=2*(M+1)-1,$e=ne[Ne],Ge=Ne+1,it=ne[Ge];if(0>s($e,ce))Ge<X&&0>s(it,$e)?(ne[M]=it,ne[Ge]=ce,M=Ge):(ne[M]=$e,ne[Ne]=ce,M=Ne);else if(Ge<X&&0>s(it,ce))ne[M]=it,ne[Ge]=ce,M=Ge;else break e}}return me}function s(ne,me){var ce=ne.sortIndex-me.sortIndex;return ce!==0?ce:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],v=1,w=null,E=3,I=!1,P=!1,z=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(ne){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ne)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function se(ne){if(z=!1,Z(ne),!P)if(t(f)!==null)P=!0,xe(he);else{var me=t(p);me!==null&&Te(se,me.startTime-ne)}}function he(ne,me){P=!1,z&&(z=!1,H(R),R=-1),I=!0;var ce=E;try{for(Z(me),w=t(f);w!==null&&(!(w.expirationTime>me)||ne&&!L());){var M=w.callback;if(typeof M=="function"){w.callback=null,E=w.priorityLevel;var X=M(w.expirationTime<=me);me=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&r(f),Z(me)}else r(f);w=t(f)}if(w!==null)var pe=!0;else{var Ne=t(p);Ne!==null&&Te(se,Ne.startTime-me),pe=!1}return pe}finally{w=null,E=ce,I=!1}}var F=!1,A=null,R=-1,k=5,b=-1;function L(){return!(n.unstable_now()-b<k)}function j(){if(A!==null){var ne=n.unstable_now();b=ne;var me=!0;try{me=A(!0,ne)}finally{me?C():(F=!1,A=null)}}else F=!1}var C;if(typeof J=="function")C=function(){J(j)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,He=ve.port2;ve.port1.onmessage=j,C=function(){He.postMessage(null)}}else C=function(){U(j,0)};function xe(ne){A=ne,F||(F=!0,C())}function Te(ne,me){R=U(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){P||I||(P=!0,xe(he))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ce=E;E=me;try{return ne()}finally{E=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=E;E=ne;try{return me()}finally{E=ce}},n.unstable_scheduleCallback=function(ne,me,ce){var M=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?M+ce:M):ce=M,ne){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ce+X,ne={id:v++,callback:me,priorityLevel:ne,startTime:ce,expirationTime:X,sortIndex:-1},ce>M?(ne.sortIndex=ce,e(p,ne),t(f)===null&&ne===t(p)&&(z?(H(R),R=-1):z=!0,Te(se,ce-M))):(ne.sortIndex=X,e(f,ne),P||I||(P=!0,xe(he))),ne},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ne){var me=E;return function(){var ce=E;E=me;try{return ne.apply(this,arguments)}finally{E=ce}}}})($f)),$f}var C0;function M2(){return C0||(C0=1,zf.exports=L2()),zf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function O2(){if(R0)return Mn;R0=1;var n=Jp(),e=M2();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return f.call(w,i)?!0:f.call(v,i)?!1:p.test(i)?w[i]=!0:(v[i]=!0,!1)}function I(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,o,l,h){if(o===null||typeof o>"u"||I(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function z(i,o,l,h,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){U[i]=new z(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];U[o]=new z(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){U[i]=new z(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){U[i]=new z(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){U[i]=new z(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){U[i]=new z(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){U[i]=new z(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){U[i]=new z(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){U[i]=new z(i,5,!1,i.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function J(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(H,J);U[o]=new z(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(H,J);U[o]=new z(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(H,J);U[o]=new z(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){U[i]=new z(i,1,!1,i.toLowerCase(),null,!1,!1)}),U.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){U[i]=new z(i,1,!1,i.toLowerCase(),null,!0,!0)});function Z(i,o,l,h){var m=U.hasOwnProperty(o)?U[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),F=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Object.assign,M;function X(i){if(M===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+i}var pe=!1;function Ne(i,o){if(!i||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var h=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){h=K}i.call(o.prototype)}else{try{throw Error()}catch(K){h=K}i()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=h.stack.split(`
`),T=m.length-1,x=y.length-1;1<=T&&0<=x&&m[T]!==y[x];)x--;for(;1<=T&&0<=x;T--,x--)if(m[T]!==y[x]){if(T!==1||x!==1)do if(T--,x--,0>x||m[T]!==y[x]){var N=`
`+m[T].replace(" at new "," at ");return i.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",i.displayName)),N}while(1<=T&&0<=x);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function $e(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=Ne(i.type,!1),i;case 11:return i=Ne(i.type.render,!1),i;case 1:return i=Ne(i.type,!0),i;default:return""}}function Ge(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case F:return"Portal";case k:return"Profiler";case R:return"StrictMode";case C:return"Suspense";case ve:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case b:return(i._context.displayName||"Context")+".Provider";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case He:return o=i.displayName||null,o!==null?o:Ge(i.type)||"Memo";case xe:o=i._payload,i=i._init;try{return Ge(i(o))}catch{}}return null}function it(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ge(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function st(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ft(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Xe(i){var o=ft(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ln(i){i._valueTracker||(i._valueTracker=Xe(i))}function fi(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=ft(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function Fr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function vn(i,o){var l=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Hi(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=st(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function qs(i,o){o=o.checked,o!=null&&Z(i,"checked",o,!1)}function Wi(i,o){qs(i,o);var l=st(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?qi(i,o.type,l):o.hasOwnProperty("defaultValue")&&qi(i,o.type,st(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Do(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function qi(i,o,l){(o!=="number"||Fr(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var gr=Array.isArray;function yr(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+st(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Fn(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Xn(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(gr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:st(l)}}function pi(i,o){var l=st(o.value),h=st(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function mi(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?pt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Zn,gi=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Zn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ur(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(un).forEach(function(i){jr.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),un[o]=un[i]})});function Ki(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||un.hasOwnProperty(i)&&un[i]?(""+o).trim():o+"px"}function Qi(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Ki(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var Ks=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yi(i,o){if(o){if(Ks[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function zr(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $r=null;function Br(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ji=null,_n=null,er=null;function yi(i){if(i=fl(i)){if(typeof Ji!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Zu(o),Ji(i.stateNode,i.type,o))}}function wn(i){_n?er?er.push(i):er=[i]:_n=i}function Gr(){if(_n){var i=_n,o=er;if(er=_n=null,yi(i),o)for(i=0;i<o.length;i++)yi(o[i])}}function vi(i,o){return i(o)}function Qs(){}var D=!1;function $(i,o,l){if(D)return i(o,l);D=!0;try{return vi(i,o,l)}finally{D=!1,(_n!==null||er!==null)&&(Qs(),Gr())}}function W(i,o){var l=i.stateNode;if(l===null)return null;var h=Zu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var oe=!1;if(d)try{var le={};Object.defineProperty(le,"passive",{get:function(){oe=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{oe=!1}function Se(i,o,l,h,m,y,T,x,N){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(ie){this.onError(ie)}}var Ce=!1,_e=null,we=!1,De=null,Pe={onError:function(i){Ce=!0,_e=i}};function ke(i,o,l,h,m,y,T,x,N){Ce=!1,_e=null,Se.apply(Pe,arguments)}function We(i,o,l,h,m,y,T,x,N){if(ke.apply(this,arguments),Ce){if(Ce){var K=_e;Ce=!1,_e=null}else throw Error(t(198));we||(we=!0,De=K)}}function et(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function It(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function vt(i){if(et(i)!==i)throw Error(t(188))}function mt(i){var o=i.alternate;if(!o){if(o=et(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return vt(m),i;if(y===h)return vt(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var T=!1,x=m.child;x;){if(x===l){T=!0,l=m,h=y;break}if(x===h){T=!0,h=m,l=y;break}x=x.sibling}if(!T){for(x=y.child;x;){if(x===l){T=!0,l=y,h=m;break}if(x===h){T=!0,h=y,l=m;break}x=x.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function ct(i){return i=mt(i),i!==null?Rn(i):null}function Rn(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Rn(i);if(o!==null)return o;i=i.sibling}return null}var tr=e.unstable_scheduleCallback,kn=e.unstable_cancelCallback,En=e.unstable_shouldYield,Ys=e.unstable_requestPaint,lt=e.unstable_now,nr=e.unstable_getCurrentPriorityLevel,rr=e.unstable_ImmediatePriority,Un=e.unstable_UserBlockingPriority,Be=e.unstable_NormalPriority,bt=e.unstable_LowPriority,_i=e.unstable_IdlePriority,jn=null,ot=null;function wi(i){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:bu,Js=Math.log,Pu=Math.LN2;function bu(i){return i>>>=0,i===0?32:31-(Js(i)/Pu|0)|0}var No=64,Lo=4194304;function Xi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Xs(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var x=T&~m;x!==0?h=Xi(x):(y&=T,y!==0&&(h=Xi(y)))}else T=l&~m,T!==0?h=Xi(T):y!==0&&(h=Xi(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-qt(o),m=1<<l,h|=i[l],o&=~m;return h}function fh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ei(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-qt(y),x=1<<T,N=m[T];N===-1?((x&l)===0||(x&h)!==0)&&(m[T]=fh(x,o)):N<=o&&(i.expiredLanes|=x),y&=~x}}function zn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Zs(){var i=No;return No<<=1,(No&4194240)===0&&(No=64),i}function Zi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function es(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-qt(o),i[o]=l}function _t(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-qt(l),y=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~y}}function ts(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-qt(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var Ze=0;function ns(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Du,Mo,Nu,Lu,Mu,Xa=!1,Hr=[],en=null,vr=null,_r=null,rs=new Map,ir=new Map,Wr=[],ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(i,o){switch(i){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":rs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(o.pointerId)}}function xn(i,o,l,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=fl(o),o!==null&&Mo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function mh(i,o,l,h,m){switch(o){case"focusin":return en=xn(en,i,o,l,h,m),!0;case"dragenter":return vr=xn(vr,i,o,l,h,m),!0;case"mouseover":return _r=xn(_r,i,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return rs.set(y,xn(rs.get(y)||null,i,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,ir.set(y,xn(ir.get(y)||null,i,o,l,h,m)),!0}return!1}function Vu(i){var o=io(i.target);if(o!==null){var l=et(o);if(l!==null){if(o=l.tag,o===13){if(o=It(l),o!==null){i.blockedOn=o,Mu(i.priority,function(){Nu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ti(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Oo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);$r=h,l.target.dispatchEvent(h),$r=null}else return o=fl(l),o!==null&&Mo(o),i.blockedOn=l,!1;o.shift()}return!0}function eo(i,o,l){Ti(i)&&l.delete(o)}function Fu(){Xa=!1,en!==null&&Ti(en)&&(en=null),vr!==null&&Ti(vr)&&(vr=null),_r!==null&&Ti(_r)&&(_r=null),rs.forEach(eo),ir.forEach(eo)}function wr(i,o){i.blockedOn===o&&(i.blockedOn=null,Xa||(Xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fu)))}function Er(i){function o(m){return wr(m,i)}if(0<Hr.length){wr(Hr[0],i);for(var l=1;l<Hr.length;l++){var h=Hr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(en!==null&&wr(en,i),vr!==null&&wr(vr,i),_r!==null&&wr(_r,i),rs.forEach(o),ir.forEach(o),l=0;l<Wr.length;l++)h=Wr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<Wr.length&&(l=Wr[0],l.blockedOn===null);)Vu(l),l.blockedOn===null&&Wr.shift()}var Si=se.ReactCurrentBatchConfig,is=!0;function Ct(i,o,l,h){var m=Ze,y=Si.transition;Si.transition=null;try{Ze=1,Za(i,o,l,h)}finally{Ze=m,Si.transition=y}}function gh(i,o,l,h){var m=Ze,y=Si.transition;Si.transition=null;try{Ze=4,Za(i,o,l,h)}finally{Ze=m,Si.transition=y}}function Za(i,o,l,h){if(is){var m=Oo(i,o,l,h);if(m===null)kh(i,o,h,to,l),Ou(i,h);else if(mh(m,i,o,l,h))h.stopPropagation();else if(Ou(i,h),o&4&&-1<ph.indexOf(i)){for(;m!==null;){var y=fl(m);if(y!==null&&Du(y),y=Oo(i,o,l,h),y===null&&kh(i,o,h,to,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else kh(i,o,h,null,l)}}var to=null;function Oo(i,o,l,h){if(to=null,i=Br(h),i=io(i),i!==null)if(o=et(i),o===null)i=null;else if(l=o.tag,l===13){if(i=It(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return to=i,null}function el(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nr()){case rr:return 1;case Un:return 4;case Be:case bt:return 16;case _i:return 536870912;default:return 16}default:return 16}}var $n=null,Vo=null,An=null;function tl(){if(An)return An;var i,o=Vo,l=o.length,h,m="value"in $n?$n.value:$n.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===m[y-h];h++);return An=m.slice(i,1<h?1-h:void 0)}function Fo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function qr(){return!0}function nl(){return!1}function tn(i){function o(l,h,m,y,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?qr:nl,this.isPropagationStopped=nl,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),o}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=tn(Tr),Kr=ce({},Tr,{view:0,detail:0}),yh=tn(Kr),jo,Ii,ss,no=ce({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ss&&(ss&&i.type==="mousemove"?(jo=i.screenX-ss.screenX,Ii=i.screenY-ss.screenY):Ii=jo=0,ss=i),jo)},movementY:function(i){return"movementY"in i?i.movementY:Ii}}),zo=tn(no),rl=ce({},no,{dataTransfer:0}),Uu=tn(rl),$o=ce({},Kr,{relatedTarget:0}),Bo=tn($o),ju=ce({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ci=tn(ju),zu=ce({},Tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$u=tn(zu),Bu=ce({},Tr,{data:0}),il=tn(Bu),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Gu[i])?!!o[i]:!1}function Qr(){return Hu}var c=ce({},Kr,{key:function(i){if(i.key){var o=Go[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Fo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Tn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(i){return i.type==="keypress"?Fo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=tn(c),_=ce({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=tn(_),B=ce({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Y=tn(B),de=ce({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ht=tn(de),Bt=ce({},no,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=tn(Bt),Kt=[9,13,27,32],Vt=d&&"CompositionEvent"in window,sr=null;d&&"documentMode"in document&&(sr=document.documentMode);var Bn=d&&"TextEvent"in window&&!sr,ro=d&&(!Vt||sr&&8<sr&&11>=sr),Ho=" ",pg=!1;function mg(i,o){switch(i){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Wo=!1;function xT(i,o){switch(i){case"compositionend":return gg(o);case"keypress":return o.which!==32?null:(pg=!0,Ho);case"textInput":return i=o.data,i===Ho&&pg?null:i;default:return null}}function AT(i,o){if(Wo)return i==="compositionend"||!Vt&&mg(i,o)?(i=tl(),An=Vo=$n=null,Wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ro&&o.locale!=="ko"?null:o.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!PT[i.type]:o==="textarea"}function vg(i,o,l,h){wn(h),o=Yu(o,"onChange"),0<o.length&&(l=new Uo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var sl=null,ol=null;function bT(i){Og(i,0)}function Wu(i){var o=Jo(i);if(fi(o))return i}function DT(i,o){if(i==="change")return o}var _g=!1;if(d){var vh;if(d){var _h="oninput"in document;if(!_h){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),_h=typeof wg.oninput=="function"}vh=_h}else vh=!1;_g=vh&&(!document.documentMode||9<document.documentMode)}function Eg(){sl&&(sl.detachEvent("onpropertychange",Tg),ol=sl=null)}function Tg(i){if(i.propertyName==="value"&&Wu(ol)){var o=[];vg(o,ol,i,Br(i)),$(bT,o)}}function NT(i,o,l){i==="focusin"?(Eg(),sl=o,ol=l,sl.attachEvent("onpropertychange",Tg)):i==="focusout"&&Eg()}function LT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Wu(ol)}function MT(i,o){if(i==="click")return Wu(o)}function OT(i,o){if(i==="input"||i==="change")return Wu(o)}function VT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Sr=typeof Object.is=="function"?Object.is:VT;function al(i,o){if(Sr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Sr(i[m],o[m]))return!1}return!0}function Sg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ig(i,o){var l=Sg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sg(l)}}function Cg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Cg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Rg(){for(var i=window,o=Fr();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Fr(i.document)}return o}function wh(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function FT(i){var o=Rg(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Cg(l.ownerDocument.documentElement,l)){if(h!==null&&wh(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=Ig(l,y);var T=Ig(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var UT=d&&"documentMode"in document&&11>=document.documentMode,qo=null,Eh=null,ll=null,Th=!1;function kg(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Th||qo==null||qo!==Fr(h)||(h=qo,"selectionStart"in h&&wh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ll&&al(ll,h)||(ll=h,h=Yu(Eh,"onSelect"),0<h.length&&(o=new Uo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=qo)))}function qu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ko={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},Sh={},xg={};d&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Ku(i){if(Sh[i])return Sh[i];if(!Ko[i])return i;var o=Ko[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in xg)return Sh[i]=o[l];return i}var Ag=Ku("animationend"),Pg=Ku("animationiteration"),bg=Ku("animationstart"),Dg=Ku("transitionend"),Ng=new Map,Lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(i,o){Ng.set(i,o),a(o,[i])}for(var Ih=0;Ih<Lg.length;Ih++){var Ch=Lg[Ih],jT=Ch.toLowerCase(),zT=Ch[0].toUpperCase()+Ch.slice(1);os(jT,"on"+zT)}os(Ag,"onAnimationEnd"),os(Pg,"onAnimationIteration"),os(bg,"onAnimationStart"),os("dblclick","onDoubleClick"),os("focusin","onFocus"),os("focusout","onBlur"),os(Dg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$T=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Mg(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,We(h,o,void 0,i),i.currentTarget=null}function Og(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var T=h.length-1;0<=T;T--){var x=h[T],N=x.instance,K=x.currentTarget;if(x=x.listener,N!==y&&m.isPropagationStopped())break e;Mg(m,x,K),y=N}else for(T=0;T<h.length;T++){if(x=h[T],N=x.instance,K=x.currentTarget,x=x.listener,N!==y&&m.isPropagationStopped())break e;Mg(m,x,K),y=N}}}if(we)throw i=De,we=!1,De=null,i}function Et(i,o){var l=o[Nh];l===void 0&&(l=o[Nh]=new Set);var h=i+"__bubble";l.has(h)||(Vg(o,i,2,!1),l.add(h))}function Rh(i,o,l){var h=0;o&&(h|=4),Vg(l,i,h,o)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function cl(i){if(!i[Qu]){i[Qu]=!0,r.forEach(function(l){l!=="selectionchange"&&($T.has(l)||Rh(l,!1,i),Rh(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Qu]||(o[Qu]=!0,Rh("selectionchange",!1,o))}}function Vg(i,o,l,h){switch(el(o)){case 1:var m=Ct;break;case 4:m=gh;break;default:m=Za}l=m.bind(null,o,l,i),m=void 0,!oe||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function kh(i,o,l,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var x=h.stateNode.containerInfo;if(x===m||x.nodeType===8&&x.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===m||N.nodeType===8&&N.parentNode===m))return;T=T.return}for(;x!==null;){if(T=io(x),T===null)return;if(N=T.tag,N===5||N===6){h=y=T;continue e}x=x.parentNode}}h=h.return}$(function(){var K=y,ie=Br(l),ae=[];e:{var re=Ng.get(i);if(re!==void 0){var ge=Uo,Ie=i;switch(i){case"keypress":if(Fo(l)===0)break e;case"keydown":case"keyup":ge=g;break;case"focusin":Ie="focus",ge=Bo;break;case"focusout":Ie="blur",ge=Bo;break;case"beforeblur":case"afterblur":ge=Bo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Y;break;case Ag:case Pg:case bg:ge=Ci;break;case Dg:ge=ht;break;case"scroll":ge=yh;break;case"wheel":ge=tt;break;case"copy":case"cut":case"paste":ge=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=S}var Re=(o&4)!==0,Mt=!Re&&i==="scroll",G=Re?re!==null?re+"Capture":null:re;Re=[];for(var V=K,q;V!==null;){q=V;var ue=q.stateNode;if(q.tag===5&&ue!==null&&(q=ue,G!==null&&(ue=W(V,G),ue!=null&&Re.push(dl(V,ue,q)))),Mt)break;V=V.return}0<Re.length&&(re=new ge(re,Ie,null,l,ie),ae.push({event:re,listeners:Re}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",re&&l!==$r&&(Ie=l.relatedTarget||l.fromElement)&&(io(Ie)||Ie[Ri]))break e;if((ge||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,ge?(Ie=l.relatedTarget||l.toElement,ge=K,Ie=Ie?io(Ie):null,Ie!==null&&(Mt=et(Ie),Ie!==Mt||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(ge=null,Ie=K),ge!==Ie)){if(Re=zo,ue="onMouseLeave",G="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Re=S,ue="onPointerLeave",G="onPointerEnter",V="pointer"),Mt=ge==null?re:Jo(ge),q=Ie==null?re:Jo(Ie),re=new Re(ue,V+"leave",ge,l,ie),re.target=Mt,re.relatedTarget=q,ue=null,io(ie)===K&&(Re=new Re(G,V+"enter",Ie,l,ie),Re.target=q,Re.relatedTarget=Mt,ue=Re),Mt=ue,ge&&Ie)t:{for(Re=ge,G=Ie,V=0,q=Re;q;q=Qo(q))V++;for(q=0,ue=G;ue;ue=Qo(ue))q++;for(;0<V-q;)Re=Qo(Re),V--;for(;0<q-V;)G=Qo(G),q--;for(;V--;){if(Re===G||G!==null&&Re===G.alternate)break t;Re=Qo(Re),G=Qo(G)}Re=null}else Re=null;ge!==null&&Fg(ae,re,ge,Re,!1),Ie!==null&&Mt!==null&&Fg(ae,Mt,Ie,Re,!0)}}e:{if(re=K?Jo(K):window,ge=re.nodeName&&re.nodeName.toLowerCase(),ge==="select"||ge==="input"&&re.type==="file")var Ae=DT;else if(yg(re))if(_g)Ae=OT;else{Ae=LT;var Me=NT}else(ge=re.nodeName)&&ge.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ae=MT);if(Ae&&(Ae=Ae(i,K))){vg(ae,Ae,l,ie);break e}Me&&Me(i,re,K),i==="focusout"&&(Me=re._wrapperState)&&Me.controlled&&re.type==="number"&&qi(re,"number",re.value)}switch(Me=K?Jo(K):window,i){case"focusin":(yg(Me)||Me.contentEditable==="true")&&(qo=Me,Eh=K,ll=null);break;case"focusout":ll=Eh=qo=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,kg(ae,l,ie);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":kg(ae,l,ie)}var Oe;if(Vt)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Wo?mg(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(ro&&l.locale!=="ko"&&(Wo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Wo&&(Oe=tl()):($n=ie,Vo="value"in $n?$n.value:$n.textContent,Wo=!0)),Me=Yu(K,Fe),0<Me.length&&(Fe=new il(Fe,i,null,l,ie),ae.push({event:Fe,listeners:Me}),Oe?Fe.data=Oe:(Oe=gg(l),Oe!==null&&(Fe.data=Oe)))),(Oe=Bn?xT(i,l):AT(i,l))&&(K=Yu(K,"onBeforeInput"),0<K.length&&(ie=new il("onBeforeInput","beforeinput",null,l,ie),ae.push({event:ie,listeners:K}),ie.data=Oe))}Og(ae,o)})}function dl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Yu(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=W(i,l),y!=null&&h.unshift(dl(i,y,m)),y=W(i,o),y!=null&&h.push(dl(i,y,m))),i=i.return}return h}function Qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Fg(i,o,l,h,m){for(var y=o._reactName,T=[];l!==null&&l!==h;){var x=l,N=x.alternate,K=x.stateNode;if(N!==null&&N===h)break;x.tag===5&&K!==null&&(x=K,m?(N=W(l,y),N!=null&&T.unshift(dl(l,N,x))):m||(N=W(l,y),N!=null&&T.push(dl(l,N,x)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var BT=/\r\n?/g,GT=/\u0000|\uFFFD/g;function Ug(i){return(typeof i=="string"?i:""+i).replace(BT,`
`).replace(GT,"")}function Ju(i,o,l){if(o=Ug(o),Ug(i)!==o&&l)throw Error(t(425))}function Xu(){}var xh=null,Ah=null;function Ph(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(i){return jg.resolve(null).then(i).catch(qT)}:bh;function qT(i){setTimeout(function(){throw i})}function Dh(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),Er(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Er(o)}function as(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function zg(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Yo,hl="__reactProps$"+Yo,Ri="__reactContainer$"+Yo,Nh="__reactEvents$"+Yo,KT="__reactListeners$"+Yo,QT="__reactHandles$"+Yo;function io(i){var o=i[Yr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Ri]||l[Yr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=zg(i);i!==null;){if(l=i[Yr])return l;i=zg(i)}return o}i=l,l=i.parentNode}return null}function fl(i){return i=i[Yr]||i[Ri],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Jo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Zu(i){return i[hl]||null}var Lh=[],Xo=-1;function ls(i){return{current:i}}function Tt(i){0>Xo||(i.current=Lh[Xo],Lh[Xo]=null,Xo--)}function wt(i,o){Xo++,Lh[Xo]=i.current,i.current=o}var us={},cn=ls(us),Pn=ls(!1),so=us;function Zo(i,o){var l=i.type.contextTypes;if(!l)return us;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function bn(i){return i=i.childContextTypes,i!=null}function ec(){Tt(Pn),Tt(cn)}function $g(i,o,l){if(cn.current!==us)throw Error(t(168));wt(cn,o),wt(Pn,l)}function Bg(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,it(i)||"Unknown",m));return ce({},l,h)}function tc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||us,so=cn.current,wt(cn,i),wt(Pn,Pn.current),!0}function Gg(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Bg(i,o,so),h.__reactInternalMemoizedMergedChildContext=i,Tt(Pn),Tt(cn),wt(cn,i)):Tt(Pn),wt(Pn,l)}var ki=null,nc=!1,Mh=!1;function Hg(i){ki===null?ki=[i]:ki.push(i)}function YT(i){nc=!0,Hg(i)}function cs(){if(!Mh&&ki!==null){Mh=!0;var i=0,o=Ze;try{var l=ki;for(Ze=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}ki=null,nc=!1}catch(m){throw ki!==null&&(ki=ki.slice(i+1)),tr(rr,cs),m}finally{Ze=o,Mh=!1}}return null}var ea=[],ta=0,rc=null,ic=0,or=[],ar=0,oo=null,xi=1,Ai="";function ao(i,o){ea[ta++]=ic,ea[ta++]=rc,rc=i,ic=o}function Wg(i,o,l){or[ar++]=xi,or[ar++]=Ai,or[ar++]=oo,oo=i;var h=xi;i=Ai;var m=32-qt(h)-1;h&=~(1<<m),l+=1;var y=32-qt(o)+m;if(30<y){var T=m-m%5;y=(h&(1<<T)-1).toString(32),h>>=T,m-=T,xi=1<<32-qt(o)+m|l<<m|h,Ai=y+i}else xi=1<<y|l<<m|h,Ai=i}function Oh(i){i.return!==null&&(ao(i,1),Wg(i,1,0))}function Vh(i){for(;i===rc;)rc=ea[--ta],ea[ta]=null,ic=ea[--ta],ea[ta]=null;for(;i===oo;)oo=or[--ar],or[ar]=null,Ai=or[--ar],or[ar]=null,xi=or[--ar],or[ar]=null}var Gn=null,Hn=null,Rt=!1,Ir=null;function qg(i,o){var l=dr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Kg(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Gn=i,Hn=as(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Gn=i,Hn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=oo!==null?{id:xi,overflow:Ai}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=dr(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,Gn=i,Hn=null,!0):!1;default:return!1}}function Fh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Uh(i){if(Rt){var o=Hn;if(o){var l=o;if(!Kg(i,o)){if(Fh(i))throw Error(t(418));o=as(l.nextSibling);var h=Gn;o&&Kg(i,o)?qg(h,l):(i.flags=i.flags&-4097|2,Rt=!1,Gn=i)}}else{if(Fh(i))throw Error(t(418));i.flags=i.flags&-4097|2,Rt=!1,Gn=i}}}function Qg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Gn=i}function sc(i){if(i!==Gn)return!1;if(!Rt)return Qg(i),Rt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ph(i.type,i.memoizedProps)),o&&(o=Hn)){if(Fh(i))throw Yg(),Error(t(418));for(;o;)qg(i,o),o=as(o.nextSibling)}if(Qg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){Hn=as(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}Hn=null}}else Hn=Gn?as(i.stateNode.nextSibling):null;return!0}function Yg(){for(var i=Hn;i;)i=as(i.nextSibling)}function na(){Hn=Gn=null,Rt=!1}function jh(i){Ir===null?Ir=[i]:Ir.push(i)}var JT=se.ReactCurrentBatchConfig;function pl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var x=m.refs;T===null?delete x[y]:x[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function oc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Jg(i){var o=i._init;return o(i._payload)}function Xg(i){function o(G,V){if(i){var q=G.deletions;q===null?(G.deletions=[V],G.flags|=16):q.push(V)}}function l(G,V){if(!i)return null;for(;V!==null;)o(G,V),V=V.sibling;return null}function h(G,V){for(G=new Map;V!==null;)V.key!==null?G.set(V.key,V):G.set(V.index,V),V=V.sibling;return G}function m(G,V){return G=vs(G,V),G.index=0,G.sibling=null,G}function y(G,V,q){return G.index=q,i?(q=G.alternate,q!==null?(q=q.index,q<V?(G.flags|=2,V):q):(G.flags|=2,V)):(G.flags|=1048576,V)}function T(G){return i&&G.alternate===null&&(G.flags|=2),G}function x(G,V,q,ue){return V===null||V.tag!==6?(V=Df(q,G.mode,ue),V.return=G,V):(V=m(V,q),V.return=G,V)}function N(G,V,q,ue){var Ae=q.type;return Ae===A?ie(G,V,q.props.children,ue,q.key):V!==null&&(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===xe&&Jg(Ae)===V.type)?(ue=m(V,q.props),ue.ref=pl(G,V,q),ue.return=G,ue):(ue=Pc(q.type,q.key,q.props,null,G.mode,ue),ue.ref=pl(G,V,q),ue.return=G,ue)}function K(G,V,q,ue){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Nf(q,G.mode,ue),V.return=G,V):(V=m(V,q.children||[]),V.return=G,V)}function ie(G,V,q,ue,Ae){return V===null||V.tag!==7?(V=go(q,G.mode,ue,Ae),V.return=G,V):(V=m(V,q),V.return=G,V)}function ae(G,V,q){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Df(""+V,G.mode,q),V.return=G,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case he:return q=Pc(V.type,V.key,V.props,null,G.mode,q),q.ref=pl(G,null,V),q.return=G,q;case F:return V=Nf(V,G.mode,q),V.return=G,V;case xe:var ue=V._init;return ae(G,ue(V._payload),q)}if(gr(V)||me(V))return V=go(V,G.mode,q,null),V.return=G,V;oc(G,V)}return null}function re(G,V,q,ue){var Ae=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Ae!==null?null:x(G,V,""+q,ue);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case he:return q.key===Ae?N(G,V,q,ue):null;case F:return q.key===Ae?K(G,V,q,ue):null;case xe:return Ae=q._init,re(G,V,Ae(q._payload),ue)}if(gr(q)||me(q))return Ae!==null?null:ie(G,V,q,ue,null);oc(G,q)}return null}function ge(G,V,q,ue,Ae){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(q)||null,x(V,G,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case he:return G=G.get(ue.key===null?q:ue.key)||null,N(V,G,ue,Ae);case F:return G=G.get(ue.key===null?q:ue.key)||null,K(V,G,ue,Ae);case xe:var Me=ue._init;return ge(G,V,q,Me(ue._payload),Ae)}if(gr(ue)||me(ue))return G=G.get(q)||null,ie(V,G,ue,Ae,null);oc(V,ue)}return null}function Ie(G,V,q,ue){for(var Ae=null,Me=null,Oe=V,Fe=V=0,Jt=null;Oe!==null&&Fe<q.length;Fe++){Oe.index>Fe?(Jt=Oe,Oe=null):Jt=Oe.sibling;var ut=re(G,Oe,q[Fe],ue);if(ut===null){Oe===null&&(Oe=Jt);break}i&&Oe&&ut.alternate===null&&o(G,Oe),V=y(ut,V,Fe),Me===null?Ae=ut:Me.sibling=ut,Me=ut,Oe=Jt}if(Fe===q.length)return l(G,Oe),Rt&&ao(G,Fe),Ae;if(Oe===null){for(;Fe<q.length;Fe++)Oe=ae(G,q[Fe],ue),Oe!==null&&(V=y(Oe,V,Fe),Me===null?Ae=Oe:Me.sibling=Oe,Me=Oe);return Rt&&ao(G,Fe),Ae}for(Oe=h(G,Oe);Fe<q.length;Fe++)Jt=ge(Oe,G,Fe,q[Fe],ue),Jt!==null&&(i&&Jt.alternate!==null&&Oe.delete(Jt.key===null?Fe:Jt.key),V=y(Jt,V,Fe),Me===null?Ae=Jt:Me.sibling=Jt,Me=Jt);return i&&Oe.forEach(function(_s){return o(G,_s)}),Rt&&ao(G,Fe),Ae}function Re(G,V,q,ue){var Ae=me(q);if(typeof Ae!="function")throw Error(t(150));if(q=Ae.call(q),q==null)throw Error(t(151));for(var Me=Ae=null,Oe=V,Fe=V=0,Jt=null,ut=q.next();Oe!==null&&!ut.done;Fe++,ut=q.next()){Oe.index>Fe?(Jt=Oe,Oe=null):Jt=Oe.sibling;var _s=re(G,Oe,ut.value,ue);if(_s===null){Oe===null&&(Oe=Jt);break}i&&Oe&&_s.alternate===null&&o(G,Oe),V=y(_s,V,Fe),Me===null?Ae=_s:Me.sibling=_s,Me=_s,Oe=Jt}if(ut.done)return l(G,Oe),Rt&&ao(G,Fe),Ae;if(Oe===null){for(;!ut.done;Fe++,ut=q.next())ut=ae(G,ut.value,ue),ut!==null&&(V=y(ut,V,Fe),Me===null?Ae=ut:Me.sibling=ut,Me=ut);return Rt&&ao(G,Fe),Ae}for(Oe=h(G,Oe);!ut.done;Fe++,ut=q.next())ut=ge(Oe,G,Fe,ut.value,ue),ut!==null&&(i&&ut.alternate!==null&&Oe.delete(ut.key===null?Fe:ut.key),V=y(ut,V,Fe),Me===null?Ae=ut:Me.sibling=ut,Me=ut);return i&&Oe.forEach(function(P2){return o(G,P2)}),Rt&&ao(G,Fe),Ae}function Mt(G,V,q,ue){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case he:e:{for(var Ae=q.key,Me=V;Me!==null;){if(Me.key===Ae){if(Ae=q.type,Ae===A){if(Me.tag===7){l(G,Me.sibling),V=m(Me,q.props.children),V.return=G,G=V;break e}}else if(Me.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===xe&&Jg(Ae)===Me.type){l(G,Me.sibling),V=m(Me,q.props),V.ref=pl(G,Me,q),V.return=G,G=V;break e}l(G,Me);break}else o(G,Me);Me=Me.sibling}q.type===A?(V=go(q.props.children,G.mode,ue,q.key),V.return=G,G=V):(ue=Pc(q.type,q.key,q.props,null,G.mode,ue),ue.ref=pl(G,V,q),ue.return=G,G=ue)}return T(G);case F:e:{for(Me=q.key;V!==null;){if(V.key===Me)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){l(G,V.sibling),V=m(V,q.children||[]),V.return=G,G=V;break e}else{l(G,V);break}else o(G,V);V=V.sibling}V=Nf(q,G.mode,ue),V.return=G,G=V}return T(G);case xe:return Me=q._init,Mt(G,V,Me(q._payload),ue)}if(gr(q))return Ie(G,V,q,ue);if(me(q))return Re(G,V,q,ue);oc(G,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,V!==null&&V.tag===6?(l(G,V.sibling),V=m(V,q),V.return=G,G=V):(l(G,V),V=Df(q,G.mode,ue),V.return=G,G=V),T(G)):l(G,V)}return Mt}var ra=Xg(!0),Zg=Xg(!1),ac=ls(null),lc=null,ia=null,zh=null;function $h(){zh=ia=lc=null}function Bh(i){var o=ac.current;Tt(ac),i._currentValue=o}function Gh(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function sa(i,o){lc=i,zh=ia=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Dn=!0),i.firstContext=null)}function lr(i){var o=i._currentValue;if(zh!==i)if(i={context:i,memoizedValue:o,next:null},ia===null){if(lc===null)throw Error(t(308));ia=i,lc.dependencies={lanes:0,firstContext:i}}else ia=ia.next=i;return o}var lo=null;function Hh(i){lo===null?lo=[i]:lo.push(i)}function ey(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Hh(o)):(l.next=m.next,m.next=l),o.interleaved=l,Pi(i,h)}function Pi(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var ds=!1;function Wh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ty(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function bi(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function hs(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Pi(i,l)}return m=h.interleaved,m===null?(o.next=o,Hh(h)):(o.next=m.next,m.next=o),h.interleaved=o,Pi(i,l)}function uc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ts(i,l)}}function ny(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function cc(i,o,l,h){var m=i.updateQueue;ds=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var N=x,K=N.next;N.next=null,T===null?y=K:T.next=K,T=N;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,x=ie.lastBaseUpdate,x!==T&&(x===null?ie.firstBaseUpdate=K:x.next=K,ie.lastBaseUpdate=N))}if(y!==null){var ae=m.baseState;T=0,ie=K=N=null,x=y;do{var re=x.lane,ge=x.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var Ie=i,Re=x;switch(re=o,ge=l,Re.tag){case 1:if(Ie=Re.payload,typeof Ie=="function"){ae=Ie.call(ge,ae,re);break e}ae=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Re.payload,re=typeof Ie=="function"?Ie.call(ge,ae,re):Ie,re==null)break e;ae=ce({},ae,re);break e;case 2:ds=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,re=m.effects,re===null?m.effects=[x]:re.push(x))}else ge={eventTime:ge,lane:re,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ie===null?(K=ie=ge,N=ae):ie=ie.next=ge,T|=re;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;re=x,x=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);if(ie===null&&(N=ae),m.baseState=N,m.firstBaseUpdate=K,m.lastBaseUpdate=ie,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);ho|=T,i.lanes=T,i.memoizedState=ae}}function ry(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var ml={},Jr=ls(ml),gl=ls(ml),yl=ls(ml);function uo(i){if(i===ml)throw Error(t(174));return i}function qh(i,o){switch(wt(yl,o),wt(gl,i),wt(Jr,ml),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:dt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=dt(o,i)}Tt(Jr),wt(Jr,o)}function oa(){Tt(Jr),Tt(gl),Tt(yl)}function iy(i){uo(yl.current);var o=uo(Jr.current),l=dt(o,i.type);o!==l&&(wt(gl,i),wt(Jr,l))}function Kh(i){gl.current===i&&(Tt(Jr),Tt(gl))}var kt=ls(0);function dc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qh=[];function Yh(){for(var i=0;i<Qh.length;i++)Qh[i]._workInProgressVersionPrimary=null;Qh.length=0}var hc=se.ReactCurrentDispatcher,Jh=se.ReactCurrentBatchConfig,co=0,xt=null,Gt=null,Qt=null,fc=!1,vl=!1,_l=0,XT=0;function dn(){throw Error(t(321))}function Xh(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Sr(i[l],o[l]))return!1;return!0}function Zh(i,o,l,h,m,y){if(co=y,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,hc.current=i===null||i.memoizedState===null?n2:r2,i=l(h,m),vl){y=0;do{if(vl=!1,_l=0,25<=y)throw Error(t(301));y+=1,Qt=Gt=null,o.updateQueue=null,hc.current=i2,i=l(h,m)}while(vl)}if(hc.current=gc,o=Gt!==null&&Gt.next!==null,co=0,Qt=Gt=xt=null,fc=!1,o)throw Error(t(300));return i}function ef(){var i=_l!==0;return _l=0,i}function Xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?xt.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function ur(){if(Gt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Gt.next;var o=Qt===null?xt.memoizedState:Qt.next;if(o!==null)Qt=o,Gt=i;else{if(i===null)throw Error(t(310));Gt=i,i={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Qt===null?xt.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function wl(i,o){return typeof o=="function"?o(i):o}function tf(i){var o=ur(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Gt,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var x=T=null,N=null,K=y;do{var ie=K.lane;if((co&ie)===ie)N!==null&&(N=N.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:i(h,K.action);else{var ae={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};N===null?(x=N=ae,T=h):N=N.next=ae,xt.lanes|=ie,ho|=ie}K=K.next}while(K!==null&&K!==y);N===null?T=h:N.next=x,Sr(h,o.memoizedState)||(Dn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=N,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do y=m.lane,xt.lanes|=y,ho|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function nf(i){var o=ur(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);Sr(y,o.memoizedState)||(Dn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function sy(){}function oy(i,o){var l=xt,h=ur(),m=o(),y=!Sr(h.memoizedState,m);if(y&&(h.memoizedState=m,Dn=!0),h=h.queue,rf(uy.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,El(9,ly.bind(null,l,h,m,o),void 0,null),Yt===null)throw Error(t(349));(co&30)!==0||ay(l,o,m)}return m}function ay(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function ly(i,o,l,h){o.value=l,o.getSnapshot=h,cy(o)&&dy(i)}function uy(i,o,l){return l(function(){cy(o)&&dy(i)})}function cy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Sr(i,l)}catch{return!0}}function dy(i){var o=Pi(i,1);o!==null&&xr(o,i,1,-1)}function hy(i){var o=Xr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:i},o.queue=i,i=i.dispatch=t2.bind(null,xt,i),[o.memoizedState,i]}function El(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function fy(){return ur().memoizedState}function pc(i,o,l,h){var m=Xr();xt.flags|=i,m.memoizedState=El(1|o,l,void 0,h===void 0?null:h)}function mc(i,o,l,h){var m=ur();h=h===void 0?null:h;var y=void 0;if(Gt!==null){var T=Gt.memoizedState;if(y=T.destroy,h!==null&&Xh(h,T.deps)){m.memoizedState=El(o,l,y,h);return}}xt.flags|=i,m.memoizedState=El(1|o,l,y,h)}function py(i,o){return pc(8390656,8,i,o)}function rf(i,o){return mc(2048,8,i,o)}function my(i,o){return mc(4,2,i,o)}function gy(i,o){return mc(4,4,i,o)}function yy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function vy(i,o,l){return l=l!=null?l.concat([i]):null,mc(4,4,yy.bind(null,o,i),l)}function sf(){}function _y(i,o){var l=ur();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Xh(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function wy(i,o){var l=ur();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Xh(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function Ey(i,o,l){return(co&21)===0?(i.baseState&&(i.baseState=!1,Dn=!0),i.memoizedState=l):(Sr(l,o)||(l=Zs(),xt.lanes|=l,ho|=l,i.baseState=!0),o)}function ZT(i,o){var l=Ze;Ze=l!==0&&4>l?l:4,i(!0);var h=Jh.transition;Jh.transition={};try{i(!1),o()}finally{Ze=l,Jh.transition=h}}function Ty(){return ur().memoizedState}function e2(i,o,l){var h=gs(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Sy(i))Iy(o,l);else if(l=ey(i,o,l,h),l!==null){var m=In();xr(l,i,h,m),Cy(l,o,h)}}function t2(i,o,l){var h=gs(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sy(i))Iy(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,x=y(T,l);if(m.hasEagerState=!0,m.eagerState=x,Sr(x,T)){var N=o.interleaved;N===null?(m.next=m,Hh(o)):(m.next=N.next,N.next=m),o.interleaved=m;return}}catch{}finally{}l=ey(i,o,m,h),l!==null&&(m=In(),xr(l,i,h,m),Cy(l,o,h))}}function Sy(i){var o=i.alternate;return i===xt||o!==null&&o===xt}function Iy(i,o){vl=fc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Cy(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,ts(i,l)}}var gc={readContext:lr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},n2={readContext:lr,useCallback:function(i,o){return Xr().memoizedState=[i,o===void 0?null:o],i},useContext:lr,useEffect:py,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,pc(4194308,4,yy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return pc(4194308,4,i,o)},useInsertionEffect:function(i,o){return pc(4,2,i,o)},useMemo:function(i,o){var l=Xr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=Xr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=e2.bind(null,xt,i),[h.memoizedState,i]},useRef:function(i){var o=Xr();return i={current:i},o.memoizedState=i},useState:hy,useDebugValue:sf,useDeferredValue:function(i){return Xr().memoizedState=i},useTransition:function(){var i=hy(!1),o=i[0];return i=ZT.bind(null,i[1]),Xr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=xt,m=Xr();if(Rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Yt===null)throw Error(t(349));(co&30)!==0||ay(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,py(uy.bind(null,h,y,i),[i]),h.flags|=2048,El(9,ly.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=Xr(),o=Yt.identifierPrefix;if(Rt){var l=Ai,h=xi;l=(h&~(1<<32-qt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=_l++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=XT++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},r2={readContext:lr,useCallback:_y,useContext:lr,useEffect:rf,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:wy,useReducer:tf,useRef:fy,useState:function(){return tf(wl)},useDebugValue:sf,useDeferredValue:function(i){var o=ur();return Ey(o,Gt.memoizedState,i)},useTransition:function(){var i=tf(wl)[0],o=ur().memoizedState;return[i,o]},useMutableSource:sy,useSyncExternalStore:oy,useId:Ty,unstable_isNewReconciler:!1},i2={readContext:lr,useCallback:_y,useContext:lr,useEffect:rf,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:wy,useReducer:nf,useRef:fy,useState:function(){return nf(wl)},useDebugValue:sf,useDeferredValue:function(i){var o=ur();return Gt===null?o.memoizedState=i:Ey(o,Gt.memoizedState,i)},useTransition:function(){var i=nf(wl)[0],o=ur().memoizedState;return[i,o]},useMutableSource:sy,useSyncExternalStore:oy,useId:Ty,unstable_isNewReconciler:!1};function Cr(i,o){if(i&&i.defaultProps){o=ce({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function of(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:ce({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var yc={isMounted:function(i){return(i=i._reactInternals)?et(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=In(),m=gs(i),y=bi(h,m);y.payload=o,l!=null&&(y.callback=l),o=hs(i,y,m),o!==null&&(xr(o,i,m,h),uc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=In(),m=gs(i),y=bi(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=hs(i,y,m),o!==null&&(xr(o,i,m,h),uc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=In(),h=gs(i),m=bi(l,h);m.tag=2,o!=null&&(m.callback=o),o=hs(i,m,h),o!==null&&(xr(o,i,h,l),uc(o,i,h))}};function Ry(i,o,l,h,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):o.prototype&&o.prototype.isPureReactComponent?!al(l,h)||!al(m,y):!0}function ky(i,o,l){var h=!1,m=us,y=o.contextType;return typeof y=="object"&&y!==null?y=lr(y):(m=bn(o)?so:cn.current,h=o.contextTypes,y=(h=h!=null)?Zo(i,m):us),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yc,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function xy(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&yc.enqueueReplaceState(o,o.state,null)}function af(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Wh(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=lr(y):(y=bn(o)?so:cn.current,m.context=Zo(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(of(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&yc.enqueueReplaceState(m,m.state,null),cc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function aa(i,o){try{var l="",h=o;do l+=$e(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function lf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function uf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var s2=typeof WeakMap=="function"?WeakMap:Map;function Ay(i,o,l){l=bi(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Ic||(Ic=!0,If=h),uf(i,o)},l}function Py(i,o,l){l=bi(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){uf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){uf(i,o),typeof h!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function by(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new s2;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=_2.bind(null,i,o,l),o.then(i,i))}function Dy(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Ny(i,o,l,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=bi(-1,1),o.tag=2,hs(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var o2=se.ReactCurrentOwner,Dn=!1;function Sn(i,o,l,h){o.child=i===null?Zg(o,null,l,h):ra(o,i.child,l,h)}function Ly(i,o,l,h,m){l=l.render;var y=o.ref;return sa(o,m),h=Zh(i,o,l,h,y,m),l=ef(),i!==null&&!Dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Di(i,o,m)):(Rt&&l&&Oh(o),o.flags|=1,Sn(i,o,h,m),o.child)}function My(i,o,l,h,m){if(i===null){var y=l.type;return typeof y=="function"&&!bf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Oy(i,o,y,h,m)):(i=Pc(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:al,l(T,h)&&i.ref===o.ref)return Di(i,o,m)}return o.flags|=1,i=vs(y,h),i.ref=o.ref,i.return=o,o.child=i}function Oy(i,o,l,h,m){if(i!==null){var y=i.memoizedProps;if(al(y,h)&&i.ref===o.ref)if(Dn=!1,o.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Dn=!0);else return o.lanes=i.lanes,Di(i,o,m)}return cf(i,o,l,h,m)}function Vy(i,o,l){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(ua,Wn),Wn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,wt(ua,Wn),Wn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,wt(ua,Wn),Wn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,wt(ua,Wn),Wn|=h;return Sn(i,o,m,l),o.child}function Fy(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function cf(i,o,l,h,m){var y=bn(l)?so:cn.current;return y=Zo(o,y),sa(o,m),l=Zh(i,o,l,h,y,m),h=ef(),i!==null&&!Dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Di(i,o,m)):(Rt&&h&&Oh(o),o.flags|=1,Sn(i,o,l,m),o.child)}function Uy(i,o,l,h,m){if(bn(l)){var y=!0;tc(o)}else y=!1;if(sa(o,m),o.stateNode===null)_c(i,o),ky(o,l,h),af(o,l,h,m),h=!0;else if(i===null){var T=o.stateNode,x=o.memoizedProps;T.props=x;var N=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=lr(K):(K=bn(l)?so:cn.current,K=Zo(o,K));var ie=l.getDerivedStateFromProps,ae=typeof ie=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(x!==h||N!==K)&&xy(o,T,h,K),ds=!1;var re=o.memoizedState;T.state=re,cc(o,h,T,m),N=o.memoizedState,x!==h||re!==N||Pn.current||ds?(typeof ie=="function"&&(of(o,l,ie,h),N=o.memoizedState),(x=ds||Ry(o,l,x,h,re,N,K))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=N),T.props=h,T.state=N,T.context=K,h=x):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,ty(i,o),x=o.memoizedProps,K=o.type===o.elementType?x:Cr(o.type,x),T.props=K,ae=o.pendingProps,re=T.context,N=l.contextType,typeof N=="object"&&N!==null?N=lr(N):(N=bn(l)?so:cn.current,N=Zo(o,N));var ge=l.getDerivedStateFromProps;(ie=typeof ge=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(x!==ae||re!==N)&&xy(o,T,h,N),ds=!1,re=o.memoizedState,T.state=re,cc(o,h,T,m);var Ie=o.memoizedState;x!==ae||re!==Ie||Pn.current||ds?(typeof ge=="function"&&(of(o,l,ge,h),Ie=o.memoizedState),(K=ds||Ry(o,l,K,h,re,Ie,N)||!1)?(ie||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,Ie,N),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,Ie,N)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ie),T.props=h,T.state=Ie,T.context=N,h=K):(typeof T.componentDidUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),h=!1)}return df(i,o,l,h,y,m)}function df(i,o,l,h,m,y){Fy(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&Gg(o,l,!1),Di(i,o,y);h=o.stateNode,o2.current=o;var x=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=ra(o,i.child,null,y),o.child=ra(o,null,x,y)):Sn(i,o,x,y),o.memoizedState=h.state,m&&Gg(o,l,!0),o.child}function jy(i){var o=i.stateNode;o.pendingContext?$g(i,o.pendingContext,o.pendingContext!==o.context):o.context&&$g(i,o.context,!1),qh(i,o.containerInfo)}function zy(i,o,l,h,m){return na(),jh(m),o.flags|=256,Sn(i,o,l,h),o.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(i){return{baseLanes:i,cachePool:null,transitions:null}}function $y(i,o,l){var h=o.pendingProps,m=kt.current,y=!1,T=(o.flags&128)!==0,x;if((x=T)||(x=i!==null&&i.memoizedState===null?!1:(m&2)!==0),x?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),wt(kt,m&1),i===null)return Uh(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=o.mode,y=o.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=bc(T,h,0,null),i=go(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=ff(l),o.memoizedState=hf,i):pf(o,T));if(m=i.memoizedState,m!==null&&(x=m.dehydrated,x!==null))return a2(i,o,T,h,x,m,l);if(y){y=h.fallback,T=o.mode,m=i.child,x=m.sibling;var N={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=N,o.deletions=null):(h=vs(m,N),h.subtreeFlags=m.subtreeFlags&14680064),x!==null?y=vs(x,y):(y=go(y,T,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,T=i.child.memoizedState,T=T===null?ff(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=hf,h}return y=i.child,i=y.sibling,h=vs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function pf(i,o){return o=bc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function vc(i,o,l,h){return h!==null&&jh(h),ra(o,i.child,null,l),i=pf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function a2(i,o,l,h,m,y,T){if(l)return o.flags&256?(o.flags&=-257,h=lf(Error(t(422))),vc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=bc({mode:"visible",children:h.children},m,0,null),y=go(y,m,T,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&ra(o,i.child,null,T),o.child.memoizedState=ff(T),o.memoizedState=hf,y);if((o.mode&1)===0)return vc(i,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var x=h.dgst;return h=x,y=Error(t(419)),h=lf(y,h,void 0),vc(i,o,T,h)}if(x=(T&i.childLanes)!==0,Dn||x){if(h=Yt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|T))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Pi(i,m),xr(h,i,m,-1))}return Pf(),h=lf(Error(t(421))),vc(i,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=w2.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,Hn=as(m.nextSibling),Gn=o,Rt=!0,Ir=null,i!==null&&(or[ar++]=xi,or[ar++]=Ai,or[ar++]=oo,xi=i.id,Ai=i.overflow,oo=o),o=pf(o,h.children),o.flags|=4096,o)}function By(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Gh(i.return,o,l)}function mf(i,o,l,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function Gy(i,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Sn(i,o,h.children,l),h=kt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&By(i,l,o);else if(i.tag===19)By(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(wt(kt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&dc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),mf(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&dc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}mf(o,!0,l,null,y);break;case"together":mf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function _c(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Di(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ho|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=vs(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=vs(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function l2(i,o,l){switch(o.tag){case 3:jy(o),na();break;case 5:iy(o);break;case 1:bn(o.type)&&tc(o);break;case 4:qh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;wt(ac,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(wt(kt,kt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?$y(i,o,l):(wt(kt,kt.current&1),i=Di(i,o,l),i!==null?i.sibling:null);wt(kt,kt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Gy(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),wt(kt,kt.current),h)break;return null;case 22:case 23:return o.lanes=0,Vy(i,o,l)}return Di(i,o,l)}var Hy,gf,Wy,qy;Hy=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},gf=function(){},Wy=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,uo(Jr.current);var y=null;switch(l){case"input":m=vn(i,m),h=vn(i,h),y=[];break;case"select":m=ce({},m,{value:void 0}),h=ce({},h,{value:void 0}),y=[];break;case"textarea":m=Fn(i,m),h=Fn(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Xu)}Yi(l,h);var T;l=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var x=m[K];for(T in x)x.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in h){var N=h[K];if(x=m?.[K],h.hasOwnProperty(K)&&N!==x&&(N!=null||x!=null))if(K==="style")if(x){for(T in x)!x.hasOwnProperty(T)||N&&N.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in N)N.hasOwnProperty(T)&&x[T]!==N[T]&&(l||(l={}),l[T]=N[T])}else l||(y||(y=[]),y.push(K,l)),l=N;else K==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,x=x?x.__html:void 0,N!=null&&x!==N&&(y=y||[]).push(K,N)):K==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push(K,""+N):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(N!=null&&K==="onScroll"&&Et("scroll",i),y||x===N||(y=[])):(y=y||[]).push(K,N))}l&&(y=y||[]).push("style",l);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},qy=function(i,o,l,h){l!==h&&(o.flags|=4)};function Tl(i,o){if(!Rt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function hn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function u2(i,o,l){var h=o.pendingProps;switch(Vh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(o),null;case 1:return bn(o.type)&&ec(),hn(o),null;case 3:return h=o.stateNode,oa(),Tt(Pn),Tt(cn),Yh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(sc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ir!==null&&(kf(Ir),Ir=null))),gf(i,o),hn(o),null;case 5:Kh(o);var m=uo(yl.current);if(l=o.type,i!==null&&o.stateNode!=null)Wy(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return hn(o),null}if(i=uo(Jr.current),sc(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[Yr]=o,h[hl]=y,i=(o.mode&1)!==0,l){case"dialog":Et("cancel",h),Et("close",h);break;case"iframe":case"object":case"embed":Et("load",h);break;case"video":case"audio":for(m=0;m<ul.length;m++)Et(ul[m],h);break;case"source":Et("error",h);break;case"img":case"image":case"link":Et("error",h),Et("load",h);break;case"details":Et("toggle",h);break;case"input":Hi(h,y),Et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Et("invalid",h);break;case"textarea":Xn(h,y),Et("invalid",h)}Yi(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var x=y[T];T==="children"?typeof x=="string"?h.textContent!==x&&(y.suppressHydrationWarning!==!0&&Ju(h.textContent,x,i),m=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(y.suppressHydrationWarning!==!0&&Ju(h.textContent,x,i),m=["children",""+x]):s.hasOwnProperty(T)&&x!=null&&T==="onScroll"&&Et("scroll",h)}switch(l){case"input":ln(h),Do(h,y,!0);break;case"textarea":ln(h),mi(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Xu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=pt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[Yr]=o,i[hl]=h,Hy(i,o,!1,!1),o.stateNode=i;e:{switch(T=zr(l,h),l){case"dialog":Et("cancel",i),Et("close",i),m=h;break;case"iframe":case"object":case"embed":Et("load",i),m=h;break;case"video":case"audio":for(m=0;m<ul.length;m++)Et(ul[m],i);m=h;break;case"source":Et("error",i),m=h;break;case"img":case"image":case"link":Et("error",i),Et("load",i),m=h;break;case"details":Et("toggle",i),m=h;break;case"input":Hi(i,h),m=vn(i,h),Et("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=ce({},h,{value:void 0}),Et("invalid",i);break;case"textarea":Xn(i,h),m=Fn(i,h),Et("invalid",i);break;default:m=h}Yi(l,m),x=m;for(y in x)if(x.hasOwnProperty(y)){var N=x[y];y==="style"?Qi(i,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&gi(i,N)):y==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&Ur(i,N):typeof N=="number"&&Ur(i,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?N!=null&&y==="onScroll"&&Et("scroll",i):N!=null&&Z(i,y,N,T))}switch(l){case"input":ln(i),Do(i,h,!1);break;case"textarea":ln(i),mi(i);break;case"option":h.value!=null&&i.setAttribute("value",""+st(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?yr(i,!!h.multiple,y,!1):h.defaultValue!=null&&yr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Xu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return hn(o),null;case 6:if(i&&o.stateNode!=null)qy(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=uo(yl.current),uo(Jr.current),sc(o)){if(h=o.stateNode,l=o.memoizedProps,h[Yr]=o,(y=h.nodeValue!==l)&&(i=Gn,i!==null))switch(i.tag){case 3:Ju(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ju(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Yr]=o,o.stateNode=h}return hn(o),null;case 13:if(Tt(kt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Rt&&Hn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Yg(),na(),o.flags|=98560,y=!1;else if(y=sc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Yr]=o}else na(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hn(o),y=!1}else Ir!==null&&(kf(Ir),Ir=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(kt.current&1)!==0?Ht===0&&(Ht=3):Pf())),o.updateQueue!==null&&(o.flags|=4),hn(o),null);case 4:return oa(),gf(i,o),i===null&&cl(o.stateNode.containerInfo),hn(o),null;case 10:return Bh(o.type._context),hn(o),null;case 17:return bn(o.type)&&ec(),hn(o),null;case 19:if(Tt(kt),y=o.memoizedState,y===null)return hn(o),null;if(h=(o.flags&128)!==0,T=y.rendering,T===null)if(h)Tl(y,!1);else{if(Ht!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=dc(i),T!==null){for(o.flags|=128,Tl(y,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return wt(kt,kt.current&1|2),o.child}i=i.sibling}y.tail!==null&&lt()>ca&&(o.flags|=128,h=!0,Tl(y,!1),o.lanes=4194304)}else{if(!h)if(i=dc(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Tl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Rt)return hn(o),null}else 2*lt()-y.renderingStartTime>ca&&l!==1073741824&&(o.flags|=128,h=!0,Tl(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=lt(),o.sibling=null,l=kt.current,wt(kt,h?l&1|2:l&1),o):(hn(o),null);case 22:case 23:return Af(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Wn&1073741824)!==0&&(hn(o),o.subtreeFlags&6&&(o.flags|=8192)):hn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function c2(i,o){switch(Vh(o),o.tag){case 1:return bn(o.type)&&ec(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return oa(),Tt(Pn),Tt(cn),Yh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Kh(o),null;case 13:if(Tt(kt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));na()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Tt(kt),null;case 4:return oa(),null;case 10:return Bh(o.type._context),null;case 22:case 23:return Af(),null;case 24:return null;default:return null}}var wc=!1,fn=!1,d2=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function la(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Dt(i,o,h)}else l.current=null}function yf(i,o,l){try{l()}catch(h){Dt(i,o,h)}}var Ky=!1;function h2(i,o){if(xh=is,i=Rg(),wh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,x=-1,N=-1,K=0,ie=0,ae=i,re=null;t:for(;;){for(var ge;ae!==l||m!==0&&ae.nodeType!==3||(x=T+m),ae!==y||h!==0&&ae.nodeType!==3||(N=T+h),ae.nodeType===3&&(T+=ae.nodeValue.length),(ge=ae.firstChild)!==null;)re=ae,ae=ge;for(;;){if(ae===i)break t;if(re===l&&++K===m&&(x=T),re===y&&++ie===h&&(N=T),(ge=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=ge}l=x===-1||N===-1?null:{start:x,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ah={focusedElem:i,selectionRange:l},is=!1,Ee=o;Ee!==null;)if(o=Ee,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ee=i;else for(;Ee!==null;){o=Ee;try{var Ie=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Re=Ie.memoizedProps,Mt=Ie.memoizedState,G=o.stateNode,V=G.getSnapshotBeforeUpdate(o.elementType===o.type?Re:Cr(o.type,Re),Mt);G.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){Dt(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,Ee=i;break}Ee=o.return}return Ie=Ky,Ky=!1,Ie}function Sl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&yf(o,l,y)}m=m.next}while(m!==h)}}function Ec(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function vf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Qy(i){var o=i.alternate;o!==null&&(i.alternate=null,Qy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Yr],delete o[hl],delete o[Nh],delete o[KT],delete o[QT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Yy(i){return i.tag===5||i.tag===3||i.tag===4}function Jy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Yy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _f(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Xu));else if(h!==4&&(i=i.child,i!==null))for(_f(i,o,l),i=i.sibling;i!==null;)_f(i,o,l),i=i.sibling}function wf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(wf(i,o,l),i=i.sibling;i!==null;)wf(i,o,l),i=i.sibling}var nn=null,Rr=!1;function fs(i,o,l){for(l=l.child;l!==null;)Xy(i,o,l),l=l.sibling}function Xy(i,o,l){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(jn,l)}catch{}switch(l.tag){case 5:fn||la(l,o);case 6:var h=nn,m=Rr;nn=null,fs(i,o,l),nn=h,Rr=m,nn!==null&&(Rr?(i=nn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):nn.removeChild(l.stateNode));break;case 18:nn!==null&&(Rr?(i=nn,l=l.stateNode,i.nodeType===8?Dh(i.parentNode,l):i.nodeType===1&&Dh(i,l),Er(i)):Dh(nn,l.stateNode));break;case 4:h=nn,m=Rr,nn=l.stateNode.containerInfo,Rr=!0,fs(i,o,l),nn=h,Rr=m;break;case 0:case 11:case 14:case 15:if(!fn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&yf(l,o,T),m=m.next}while(m!==h)}fs(i,o,l);break;case 1:if(!fn&&(la(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(x){Dt(l,o,x)}fs(i,o,l);break;case 21:fs(i,o,l);break;case 22:l.mode&1?(fn=(h=fn)||l.memoizedState!==null,fs(i,o,l),fn=h):fs(i,o,l);break;default:fs(i,o,l)}}function Zy(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new d2),o.forEach(function(h){var m=E2.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function kr(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=i,T=o,x=T;e:for(;x!==null;){switch(x.tag){case 5:nn=x.stateNode,Rr=!1;break e;case 3:nn=x.stateNode.containerInfo,Rr=!0;break e;case 4:nn=x.stateNode.containerInfo,Rr=!0;break e}x=x.return}if(nn===null)throw Error(t(160));Xy(y,T,m),nn=null,Rr=!1;var N=m.alternate;N!==null&&(N.return=null),m.return=null}catch(K){Dt(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)e0(o,i),o=o.sibling}function e0(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(kr(o,i),Zr(i),h&4){try{Sl(3,i,i.return),Ec(3,i)}catch(Re){Dt(i,i.return,Re)}try{Sl(5,i,i.return)}catch(Re){Dt(i,i.return,Re)}}break;case 1:kr(o,i),Zr(i),h&512&&l!==null&&la(l,l.return);break;case 5:if(kr(o,i),Zr(i),h&512&&l!==null&&la(l,l.return),i.flags&32){var m=i.stateNode;try{Ur(m,"")}catch(Re){Dt(i,i.return,Re)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,x=i.type,N=i.updateQueue;if(i.updateQueue=null,N!==null)try{x==="input"&&y.type==="radio"&&y.name!=null&&qs(m,y),zr(x,T);var K=zr(x,y);for(T=0;T<N.length;T+=2){var ie=N[T],ae=N[T+1];ie==="style"?Qi(m,ae):ie==="dangerouslySetInnerHTML"?gi(m,ae):ie==="children"?Ur(m,ae):Z(m,ie,ae,K)}switch(x){case"input":Wi(m,y);break;case"textarea":pi(m,y);break;case"select":var re=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ge=y.value;ge!=null?yr(m,!!y.multiple,ge,!1):re!==!!y.multiple&&(y.defaultValue!=null?yr(m,!!y.multiple,y.defaultValue,!0):yr(m,!!y.multiple,y.multiple?[]:"",!1))}m[hl]=y}catch(Re){Dt(i,i.return,Re)}}break;case 6:if(kr(o,i),Zr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Re){Dt(i,i.return,Re)}}break;case 3:if(kr(o,i),Zr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Er(o.containerInfo)}catch(Re){Dt(i,i.return,Re)}break;case 4:kr(o,i),Zr(i);break;case 13:kr(o,i),Zr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Sf=lt())),h&4&&Zy(i);break;case 22:if(ie=l!==null&&l.memoizedState!==null,i.mode&1?(fn=(K=fn)||ie,kr(o,i),fn=K):kr(o,i),Zr(i),h&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ie&&(i.mode&1)!==0)for(Ee=i,ie=i.child;ie!==null;){for(ae=Ee=ie;Ee!==null;){switch(re=Ee,ge=re.child,re.tag){case 0:case 11:case 14:case 15:Sl(4,re,re.return);break;case 1:la(re,re.return);var Ie=re.stateNode;if(typeof Ie.componentWillUnmount=="function"){h=re,l=re.return;try{o=h,Ie.props=o.memoizedProps,Ie.state=o.memoizedState,Ie.componentWillUnmount()}catch(Re){Dt(h,l,Re)}}break;case 5:la(re,re.return);break;case 22:if(re.memoizedState!==null){r0(ae);continue}}ge!==null?(ge.return=re,Ee=ge):r0(ae)}ie=ie.sibling}e:for(ie=null,ae=i;;){if(ae.tag===5){if(ie===null){ie=ae;try{m=ae.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(x=ae.stateNode,N=ae.memoizedProps.style,T=N!=null&&N.hasOwnProperty("display")?N.display:null,x.style.display=Ki("display",T))}catch(Re){Dt(i,i.return,Re)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=K?"":ae.memoizedProps}catch(Re){Dt(i,i.return,Re)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:kr(o,i),Zr(i),h&4&&Zy(i);break;case 21:break;default:kr(o,i),Zr(i)}}function Zr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Yy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Ur(m,""),h.flags&=-33);var y=Jy(i);wf(i,y,m);break;case 3:case 4:var T=h.stateNode.containerInfo,x=Jy(i);_f(i,x,T);break;default:throw Error(t(161))}}catch(N){Dt(i,i.return,N)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function f2(i,o,l){Ee=i,t0(i)}function t0(i,o,l){for(var h=(i.mode&1)!==0;Ee!==null;){var m=Ee,y=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||wc;if(!T){var x=m.alternate,N=x!==null&&x.memoizedState!==null||fn;x=wc;var K=fn;if(wc=T,(fn=N)&&!K)for(Ee=m;Ee!==null;)T=Ee,N=T.child,T.tag===22&&T.memoizedState!==null?i0(m):N!==null?(N.return=T,Ee=N):i0(m);for(;y!==null;)Ee=y,t0(y),y=y.sibling;Ee=m,wc=x,fn=K}n0(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,Ee=y):n0(i)}}function n0(i){for(;Ee!==null;){var o=Ee;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:fn||Ec(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!fn)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Cr(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&ry(o,y,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}ry(o,T,l)}break;case 5:var x=o.stateNode;if(l===null&&o.flags&4){l=x;var N=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&Er(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}fn||o.flags&512&&vf(o)}catch(re){Dt(o,o.return,re)}}if(o===i){Ee=null;break}if(l=o.sibling,l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function r0(i){for(;Ee!==null;){var o=Ee;if(o===i){Ee=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function i0(i){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Ec(4,o)}catch(N){Dt(o,l,N)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(N){Dt(o,m,N)}}var y=o.return;try{vf(o)}catch(N){Dt(o,y,N)}break;case 5:var T=o.return;try{vf(o)}catch(N){Dt(o,T,N)}}}catch(N){Dt(o,o.return,N)}if(o===i){Ee=null;break}var x=o.sibling;if(x!==null){x.return=o.return,Ee=x;break}Ee=o.return}}var p2=Math.ceil,Tc=se.ReactCurrentDispatcher,Ef=se.ReactCurrentOwner,cr=se.ReactCurrentBatchConfig,at=0,Yt=null,Ft=null,rn=0,Wn=0,ua=ls(0),Ht=0,Il=null,ho=0,Sc=0,Tf=0,Cl=null,Nn=null,Sf=0,ca=1/0,Ni=null,Ic=!1,If=null,ps=null,Cc=!1,ms=null,Rc=0,Rl=0,Cf=null,kc=-1,xc=0;function In(){return(at&6)!==0?lt():kc!==-1?kc:kc=lt()}function gs(i){return(i.mode&1)===0?1:(at&2)!==0&&rn!==0?rn&-rn:JT.transition!==null?(xc===0&&(xc=Zs()),xc):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:el(i.type)),i)}function xr(i,o,l,h){if(50<Rl)throw Rl=0,Cf=null,Error(t(185));es(i,l,h),((at&2)===0||i!==Yt)&&(i===Yt&&((at&2)===0&&(Sc|=l),Ht===4&&ys(i,rn)),Ln(i,h),l===1&&at===0&&(o.mode&1)===0&&(ca=lt()+500,nc&&cs()))}function Ln(i,o){var l=i.callbackNode;Ei(i,o);var h=Xs(i,i===Yt?rn:0);if(h===0)l!==null&&kn(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&kn(l),o===1)i.tag===0?YT(o0.bind(null,i)):Hg(o0.bind(null,i)),WT(function(){(at&6)===0&&cs()}),l=null;else{switch(ns(h)){case 1:l=rr;break;case 4:l=Un;break;case 16:l=Be;break;case 536870912:l=_i;break;default:l=Be}l=p0(l,s0.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function s0(i,o){if(kc=-1,xc=0,(at&6)!==0)throw Error(t(327));var l=i.callbackNode;if(da()&&i.callbackNode!==l)return null;var h=Xs(i,i===Yt?rn:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Ac(i,h);else{o=h;var m=at;at|=2;var y=l0();(Yt!==i||rn!==o)&&(Ni=null,ca=lt()+500,po(i,o));do try{y2();break}catch(x){a0(i,x)}while(!0);$h(),Tc.current=y,at=m,Ft!==null?o=0:(Yt=null,rn=0,o=Ht)}if(o!==0){if(o===2&&(m=zn(i),m!==0&&(h=m,o=Rf(i,m))),o===1)throw l=Il,po(i,0),ys(i,h),Ln(i,lt()),l;if(o===6)ys(i,h);else{if(m=i.current.alternate,(h&30)===0&&!m2(m)&&(o=Ac(i,h),o===2&&(y=zn(i),y!==0&&(h=y,o=Rf(i,y))),o===1))throw l=Il,po(i,0),ys(i,h),Ln(i,lt()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:mo(i,Nn,Ni);break;case 3:if(ys(i,h),(h&130023424)===h&&(o=Sf+500-lt(),10<o)){if(Xs(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){In(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=bh(mo.bind(null,i,Nn,Ni),o);break}mo(i,Nn,Ni);break;case 4:if(ys(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var T=31-qt(h);y=1<<T,T=o[T],T>m&&(m=T),h&=~y}if(h=m,h=lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*p2(h/1960))-h,10<h){i.timeoutHandle=bh(mo.bind(null,i,Nn,Ni),h);break}mo(i,Nn,Ni);break;case 5:mo(i,Nn,Ni);break;default:throw Error(t(329))}}}return Ln(i,lt()),i.callbackNode===l?s0.bind(null,i):null}function Rf(i,o){var l=Cl;return i.current.memoizedState.isDehydrated&&(po(i,o).flags|=256),i=Ac(i,o),i!==2&&(o=Nn,Nn=l,o!==null&&kf(o)),i}function kf(i){Nn===null?Nn=i:Nn.push.apply(Nn,i)}function m2(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Sr(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ys(i,o){for(o&=~Tf,o&=~Sc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-qt(o),h=1<<l;i[l]=-1,o&=~h}}function o0(i){if((at&6)!==0)throw Error(t(327));da();var o=Xs(i,0);if((o&1)===0)return Ln(i,lt()),null;var l=Ac(i,o);if(i.tag!==0&&l===2){var h=zn(i);h!==0&&(o=h,l=Rf(i,h))}if(l===1)throw l=Il,po(i,0),ys(i,o),Ln(i,lt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,mo(i,Nn,Ni),Ln(i,lt()),null}function xf(i,o){var l=at;at|=1;try{return i(o)}finally{at=l,at===0&&(ca=lt()+500,nc&&cs())}}function fo(i){ms!==null&&ms.tag===0&&(at&6)===0&&da();var o=at;at|=1;var l=cr.transition,h=Ze;try{if(cr.transition=null,Ze=1,i)return i()}finally{Ze=h,cr.transition=l,at=o,(at&6)===0&&cs()}}function Af(){Wn=ua.current,Tt(ua)}function po(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,HT(l)),Ft!==null)for(l=Ft.return;l!==null;){var h=l;switch(Vh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ec();break;case 3:oa(),Tt(Pn),Tt(cn),Yh();break;case 5:Kh(h);break;case 4:oa();break;case 13:Tt(kt);break;case 19:Tt(kt);break;case 10:Bh(h.type._context);break;case 22:case 23:Af()}l=l.return}if(Yt=i,Ft=i=vs(i.current,null),rn=Wn=o,Ht=0,Il=null,Tf=Sc=ho=0,Nn=Cl=null,lo!==null){for(o=0;o<lo.length;o++)if(l=lo[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,h.next=T}l.pending=h}lo=null}return i}function a0(i,o){do{var l=Ft;try{if($h(),hc.current=gc,fc){for(var h=xt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}fc=!1}if(co=0,Qt=Gt=xt=null,vl=!1,_l=0,Ef.current=null,l===null||l.return===null){Ht=1,Il=o,Ft=null;break}e:{var y=i,T=l.return,x=l,N=o;if(o=rn,x.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=N,ie=x,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=Dy(T);if(ge!==null){ge.flags&=-257,Ny(ge,T,x,y,o),ge.mode&1&&by(y,K,o),o=ge,N=K;var Ie=o.updateQueue;if(Ie===null){var Re=new Set;Re.add(N),o.updateQueue=Re}else Ie.add(N);break e}else{if((o&1)===0){by(y,K,o),Pf();break e}N=Error(t(426))}}else if(Rt&&x.mode&1){var Mt=Dy(T);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),Ny(Mt,T,x,y,o),jh(aa(N,x));break e}}y=N=aa(N,x),Ht!==4&&(Ht=2),Cl===null?Cl=[y]:Cl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var G=Ay(y,N,o);ny(y,G);break e;case 1:x=N;var V=y.type,q=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ps===null||!ps.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var ue=Py(y,x,o);ny(y,ue);break e}}y=y.return}while(y!==null)}c0(l)}catch(Ae){o=Ae,Ft===l&&l!==null&&(Ft=l=l.return);continue}break}while(!0)}function l0(){var i=Tc.current;return Tc.current=gc,i===null?gc:i}function Pf(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Yt===null||(ho&268435455)===0&&(Sc&268435455)===0||ys(Yt,rn)}function Ac(i,o){var l=at;at|=2;var h=l0();(Yt!==i||rn!==o)&&(Ni=null,po(i,o));do try{g2();break}catch(m){a0(i,m)}while(!0);if($h(),at=l,Tc.current=h,Ft!==null)throw Error(t(261));return Yt=null,rn=0,Ht}function g2(){for(;Ft!==null;)u0(Ft)}function y2(){for(;Ft!==null&&!En();)u0(Ft)}function u0(i){var o=f0(i.alternate,i,Wn);i.memoizedProps=i.pendingProps,o===null?c0(i):Ft=o,Ef.current=null}function c0(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=u2(l,o,Wn),l!==null){Ft=l;return}}else{if(l=c2(l,o),l!==null){l.flags&=32767,Ft=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ht=6,Ft=null;return}}if(o=o.sibling,o!==null){Ft=o;return}Ft=o=i}while(o!==null);Ht===0&&(Ht=5)}function mo(i,o,l){var h=Ze,m=cr.transition;try{cr.transition=null,Ze=1,v2(i,o,l,h)}finally{cr.transition=m,Ze=h}return null}function v2(i,o,l,h){do da();while(ms!==null);if((at&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(_t(i,y),i===Yt&&(Ft=Yt=null,rn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Cc||(Cc=!0,p0(Be,function(){return da(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=cr.transition,cr.transition=null;var T=Ze;Ze=1;var x=at;at|=4,Ef.current=null,h2(i,l),e0(l,i),FT(Ah),is=!!xh,Ah=xh=null,i.current=l,f2(l),Ys(),at=x,Ze=T,cr.transition=y}else i.current=l;if(Cc&&(Cc=!1,ms=i,Rc=m),y=i.pendingLanes,y===0&&(ps=null),wi(l.stateNode),Ln(i,lt()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Ic)throw Ic=!1,i=If,If=null,i;return(Rc&1)!==0&&i.tag!==0&&da(),y=i.pendingLanes,(y&1)!==0?i===Cf?Rl++:(Rl=0,Cf=i):Rl=0,cs(),null}function da(){if(ms!==null){var i=ns(Rc),o=cr.transition,l=Ze;try{if(cr.transition=null,Ze=16>i?16:i,ms===null)var h=!1;else{if(i=ms,ms=null,Rc=0,(at&6)!==0)throw Error(t(331));var m=at;for(at|=4,Ee=i.current;Ee!==null;){var y=Ee,T=y.child;if((Ee.flags&16)!==0){var x=y.deletions;if(x!==null){for(var N=0;N<x.length;N++){var K=x[N];for(Ee=K;Ee!==null;){var ie=Ee;switch(ie.tag){case 0:case 11:case 15:Sl(8,ie,y)}var ae=ie.child;if(ae!==null)ae.return=ie,Ee=ae;else for(;Ee!==null;){ie=Ee;var re=ie.sibling,ge=ie.return;if(Qy(ie),ie===K){Ee=null;break}if(re!==null){re.return=ge,Ee=re;break}Ee=ge}}}var Ie=y.alternate;if(Ie!==null){var Re=Ie.child;if(Re!==null){Ie.child=null;do{var Mt=Re.sibling;Re.sibling=null,Re=Mt}while(Re!==null)}}Ee=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,Ee=T;else e:for(;Ee!==null;){if(y=Ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Sl(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,Ee=G;break e}Ee=y.return}}var V=i.current;for(Ee=V;Ee!==null;){T=Ee;var q=T.child;if((T.subtreeFlags&2064)!==0&&q!==null)q.return=T,Ee=q;else e:for(T=V;Ee!==null;){if(x=Ee,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Ec(9,x)}}catch(Ae){Dt(x,x.return,Ae)}if(x===T){Ee=null;break e}var ue=x.sibling;if(ue!==null){ue.return=x.return,Ee=ue;break e}Ee=x.return}}if(at=m,cs(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(jn,i)}catch{}h=!0}return h}finally{Ze=l,cr.transition=o}}return!1}function d0(i,o,l){o=aa(l,o),o=Ay(i,o,1),i=hs(i,o,1),o=In(),i!==null&&(es(i,1,o),Ln(i,o))}function Dt(i,o,l){if(i.tag===3)d0(i,i,l);else for(;o!==null;){if(o.tag===3){d0(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ps===null||!ps.has(h))){i=aa(l,i),i=Py(o,i,1),o=hs(o,i,1),i=In(),o!==null&&(es(o,1,i),Ln(o,i));break}}o=o.return}}function _2(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=In(),i.pingedLanes|=i.suspendedLanes&l,Yt===i&&(rn&l)===l&&(Ht===4||Ht===3&&(rn&130023424)===rn&&500>lt()-Sf?po(i,0):Tf|=l),Ln(i,o)}function h0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Lo,Lo<<=1,(Lo&130023424)===0&&(Lo=4194304)));var l=In();i=Pi(i,o),i!==null&&(es(i,o,l),Ln(i,l))}function w2(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),h0(i,l)}function E2(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),h0(i,l)}var f0;f0=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||Pn.current)Dn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return Dn=!1,l2(i,o,l);Dn=(i.flags&131072)!==0}else Dn=!1,Rt&&(o.flags&1048576)!==0&&Wg(o,ic,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;_c(i,o),i=o.pendingProps;var m=Zo(o,cn.current);sa(o,l),m=Zh(null,o,h,i,m,l);var y=ef();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,bn(h)?(y=!0,tc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Wh(o),m.updater=yc,o.stateNode=m,m._reactInternals=o,af(o,h,i,l),o=df(null,o,h,!0,y,l)):(o.tag=0,Rt&&y&&Oh(o),Sn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(_c(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=S2(h),i=Cr(h,i),m){case 0:o=cf(null,o,h,i,l);break e;case 1:o=Uy(null,o,h,i,l);break e;case 11:o=Ly(null,o,h,i,l);break e;case 14:o=My(null,o,h,Cr(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Cr(h,m),cf(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Cr(h,m),Uy(i,o,h,m,l);case 3:e:{if(jy(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,ty(i,o),cc(o,h,null,l);var T=o.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=aa(Error(t(423)),o),o=zy(i,o,h,l,m);break e}else if(h!==m){m=aa(Error(t(424)),o),o=zy(i,o,h,l,m);break e}else for(Hn=as(o.stateNode.containerInfo.firstChild),Gn=o,Rt=!0,Ir=null,l=Zg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(na(),h===m){o=Di(i,o,l);break e}Sn(i,o,h,l)}o=o.child}return o;case 5:return iy(o),i===null&&Uh(o),h=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,T=m.children,Ph(h,m)?T=null:y!==null&&Ph(h,y)&&(o.flags|=32),Fy(i,o),Sn(i,o,T,l),o.child;case 6:return i===null&&Uh(o),null;case 13:return $y(i,o,l);case 4:return qh(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ra(o,null,h,l):Sn(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Cr(h,m),Ly(i,o,h,m,l);case 7:return Sn(i,o,o.pendingProps,l),o.child;case 8:return Sn(i,o,o.pendingProps.children,l),o.child;case 12:return Sn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,wt(ac,h._currentValue),h._currentValue=T,y!==null)if(Sr(y.value,T)){if(y.children===m.children&&!Pn.current){o=Di(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var x=y.dependencies;if(x!==null){T=y.child;for(var N=x.firstContext;N!==null;){if(N.context===h){if(y.tag===1){N=bi(-1,l&-l),N.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?N.next=N:(N.next=ie.next,ie.next=N),K.pending=N}}y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),Gh(y.return,l,o),x.lanes|=l;break}N=N.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,x=T.alternate,x!==null&&(x.lanes|=l),Gh(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Sn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,sa(o,l),m=lr(m),h=h(m),o.flags|=1,Sn(i,o,h,l),o.child;case 14:return h=o.type,m=Cr(h,o.pendingProps),m=Cr(h.type,m),My(i,o,h,m,l);case 15:return Oy(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Cr(h,m),_c(i,o),o.tag=1,bn(h)?(i=!0,tc(o)):i=!1,sa(o,l),ky(o,h,m),af(o,h,m,l),df(null,o,h,!0,i,l);case 19:return Gy(i,o,l);case 22:return Vy(i,o,l)}throw Error(t(156,o.tag))};function p0(i,o){return tr(i,o)}function T2(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(i,o,l,h){return new T2(i,o,l,h)}function bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function S2(i){if(typeof i=="function")return bf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===He)return 14}return 2}function vs(i,o){var l=i.alternate;return l===null?(l=dr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Pc(i,o,l,h,m,y){var T=2;if(h=i,typeof i=="function")bf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case A:return go(l.children,m,y,o);case R:T=8,m|=8;break;case k:return i=dr(12,l,o,m|2),i.elementType=k,i.lanes=y,i;case C:return i=dr(13,l,o,m),i.elementType=C,i.lanes=y,i;case ve:return i=dr(19,l,o,m),i.elementType=ve,i.lanes=y,i;case Te:return bc(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:T=10;break e;case L:T=9;break e;case j:T=11;break e;case He:T=14;break e;case xe:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=dr(T,l,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function go(i,o,l,h){return i=dr(7,i,h,o),i.lanes=l,i}function bc(i,o,l,h){return i=dr(22,i,h,o),i.elementType=Te,i.lanes=l,i.stateNode={isHidden:!1},i}function Df(i,o,l){return i=dr(6,i,null,o),i.lanes=l,i}function Nf(i,o,l){return o=dr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function I2(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Lf(i,o,l,h,m,y,T,x,N){return i=new I2(i,o,l,x,N),o===1?(o=1,y===!0&&(o|=8)):o=0,y=dr(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wh(y),i}function C2(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function m0(i){if(!i)return us;i=i._reactInternals;e:{if(et(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(bn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(bn(l))return Bg(i,l,o)}return o}function g0(i,o,l,h,m,y,T,x,N){return i=Lf(l,h,!0,i,m,y,T,x,N),i.context=m0(null),l=i.current,h=In(),m=gs(l),y=bi(h,m),y.callback=o??null,hs(l,y,m),i.current.lanes=m,es(i,m,h),Ln(i,h),i}function Dc(i,o,l,h){var m=o.current,y=In(),T=gs(m);return l=m0(l),o.context===null?o.context=l:o.pendingContext=l,o=bi(y,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=hs(m,o,T),i!==null&&(xr(i,m,T,y),uc(i,m,T)),T}function Nc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function y0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Mf(i,o){y0(i,o),(i=i.alternate)&&y0(i,o)}function R2(){return null}var v0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Of(i){this._internalRoot=i}Lc.prototype.render=Of.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Dc(i,o,null,null)},Lc.prototype.unmount=Of.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;fo(function(){Dc(null,i,null,null)}),o[Ri]=null}};function Lc(i){this._internalRoot=i}Lc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Lu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Wr.length&&o!==0&&o<Wr[l].priority;l++);Wr.splice(l,0,i),l===0&&Vu(i)}};function Vf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Mc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function _0(){}function k2(i,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var K=Nc(T);y.call(K)}}var T=g0(o,h,i,0,null,!1,!1,"",_0);return i._reactRootContainer=T,i[Ri]=T.current,cl(i.nodeType===8?i.parentNode:i),fo(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var x=h;h=function(){var K=Nc(N);x.call(K)}}var N=Lf(i,0,!1,null,null,!1,!1,"",_0);return i._reactRootContainer=N,i[Ri]=N.current,cl(i.nodeType===8?i.parentNode:i),fo(function(){Dc(o,N,l,h)}),N}function Oc(i,o,l,h,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var x=m;m=function(){var N=Nc(T);x.call(N)}}Dc(o,T,i,m)}else T=k2(l,o,i,m,h);return Nc(T)}Du=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Xi(o.pendingLanes);l!==0&&(ts(o,l|1),Ln(o,lt()),(at&6)===0&&(ca=lt()+500,cs()))}break;case 13:fo(function(){var h=Pi(i,1);if(h!==null){var m=In();xr(h,i,1,m)}}),Mf(i,1)}},Mo=function(i){if(i.tag===13){var o=Pi(i,134217728);if(o!==null){var l=In();xr(o,i,134217728,l)}Mf(i,134217728)}},Nu=function(i){if(i.tag===13){var o=gs(i),l=Pi(i,o);if(l!==null){var h=In();xr(l,i,o,h)}Mf(i,o)}},Lu=function(){return Ze},Mu=function(i,o){var l=Ze;try{return Ze=i,o()}finally{Ze=l}},Ji=function(i,o,l){switch(o){case"input":if(Wi(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=Zu(h);if(!m)throw Error(t(90));fi(h),Wi(h,m)}}}break;case"textarea":pi(i,l);break;case"select":o=l.value,o!=null&&yr(i,!!l.multiple,o,!1)}},vi=xf,Qs=fo;var x2={usingClientEntryPoint:!1,Events:[fl,Jo,Zu,wn,Gr,xf]},kl={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A2={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ct(i),i===null?null:i.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||R2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{jn=Vc.inject(A2),ot=Vc}catch{}}return Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x2,Mn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vf(o))throw Error(t(200));return C2(i,o,null,l)},Mn.createRoot=function(i,o){if(!Vf(i))throw Error(t(299));var l=!1,h="",m=v0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Lf(i,1,!1,null,null,l,!1,h,m),i[Ri]=o.current,cl(i.nodeType===8?i.parentNode:i),new Of(o)},Mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ct(o),i=i===null?null:i.stateNode,i},Mn.flushSync=function(i){return fo(i)},Mn.hydrate=function(i,o,l){if(!Mc(o))throw Error(t(200));return Oc(null,i,o,!0,l)},Mn.hydrateRoot=function(i,o,l){if(!Vf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",T=v0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=g0(o,null,i,1,l??null,m,!1,y,T),i[Ri]=o.current,cl(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Lc(o)},Mn.render=function(i,o,l){if(!Mc(o))throw Error(t(200));return Oc(null,i,o,!1,l)},Mn.unmountComponentAtNode=function(i){if(!Mc(i))throw Error(t(40));return i._reactRootContainer?(fo(function(){Oc(null,null,i,!1,function(){i._reactRootContainer=null,i[Ri]=null})}),!0):!1},Mn.unstable_batchedUpdates=xf,Mn.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Mc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Oc(i,o,l,!1,h)},Mn.version="18.3.1-next-f1338f8080-20240426",Mn}var k0;function ow(){if(k0)return jf.exports;k0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jf.exports=O2(),jf.exports}var x0;function V2(){if(x0)return Fc;x0=1;var n=ow();return Fc.createRoot=n.createRoot,Fc.hydrateRoot=n.hydrateRoot,Fc}var A0=V2(),Bf,P0;function F2(){if(P0)return Bf;P0=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var d,f,p;if(Array.isArray(a)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(!s(a[f],u[f]))return!1;return!0}var v;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!u.has(f.value[0]))return!1;for(v=a.entries();!(f=v.next()).done;)if(!s(f.value[1],u.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(d=a.length,d!=u.length)return!1;for(f=d;f--!==0;)if(a[f]!==u[f])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(p=Object.keys(a),d=p.length,d!==Object.keys(u).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,p[f]))return!1;if(n&&a instanceof Element)return!1;for(f=d;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&a.$$typeof)&&!s(a[p[f]],u[p[f]]))return!1;return!0}return a!==a&&u!==u}return Bf=function(u,d){try{return s(u,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Bf}var U2=F2();const j2=Fd(U2);var Gf,b0;function z2(){if(b0)return Gf;b0=1;var n=function(e,t,r,s,a,u,d,f){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,s,a,u,d,f],w=0;p=new Error(t.replace(/%s/g,function(){return v[w++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Gf=n,Gf}var $2=z2();const D0=Fd($2);var Hf,N0;function B2(){return N0||(N0=1,Hf=function(e,t,r,s){var a=r?r.call(s,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),p=0;p<u.length;p++){var v=u[p];if(!f(v))return!1;var w=e[v],E=t[v];if(a=r?r.call(s,w,E,v):void 0,a===!1||a===void 0&&w!==E)return!1}return!0}),Hf}var G2=B2();const H2=Fd(G2);var aw=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(aw||{}),Wf={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},L0=Object.values(aw),Xp={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},W2=Object.entries(Xp).reduce((n,[e,t])=>(n[t]=e,n),{}),Ar="data-rh",Ea={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ta=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},q2=n=>{let e=Ta(n,"title");const t=Ta(n,Ea.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Ta(n,Ea.DEFAULT_TITLE);return e||r||void 0},K2=n=>Ta(n,Ea.ON_CHANGE_CLIENT_STATE)||(()=>{}),qf=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),Q2=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const d=s[a].toLowerCase();if(n.indexOf(d)!==-1&&r[d])return t.concat(r)}}return t},[]),Y2=n=>console&&typeof console.warn=="function"&&console.warn(n),Al=(n,e,t)=>{const r={};return t.filter(s=>Array.isArray(s[n])?!0:(typeof s[n]<"u"&&Y2(`Helmet: ${n} should be of type "Array". Instead found type "${typeof s[n]}"`),!1)).map(s=>s[n]).reverse().reduce((s,a)=>{const u={};a.filter(f=>{let p;const v=Object.keys(f);for(let E=0;E<v.length;E+=1){const I=v[E],P=I.toLowerCase();e.indexOf(P)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(P==="rel"&&f[P].toLowerCase()==="stylesheet")&&(p=P),e.indexOf(I)!==-1&&(I==="innerHTML"||I==="cssText"||I==="itemprop")&&(p=I)}if(!p||!f[p])return!1;const w=f[p].toLowerCase();return r[p]||(r[p]={}),u[p]||(u[p]={}),r[p][w]?!1:(u[p][w]=!0,!0)}).reverse().forEach(f=>s.push(f));const d=Object.keys(u);for(let f=0;f<d.length;f+=1){const p=d[f],v={...r[p],...u[p]};r[p]=v}return s},[]).reverse()},J2=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},X2=n=>({baseTag:Q2(["href"],n),bodyAttributes:qf("bodyAttributes",n),defer:Ta(n,Ea.DEFER),encode:Ta(n,Ea.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:qf("htmlAttributes",n),linkTags:Al("link",["rel","href"],n),metaTags:Al("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Al("noscript",["innerHTML"],n),onChangeClientState:K2(n),scriptTags:Al("script",["src","innerHTML"],n),styleTags:Al("style",["cssText"],n),title:q2(n),titleAttributes:qf("titleAttributes",n),prioritizeSeoTags:J2(n,Ea.PRIORITIZE_SEO_TAGS)}),lw=n=>Array.isArray(n)?n.join(""):n,Z2=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},Kf=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(Z2(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},M0=(n,e)=>({...n,[e]:void 0}),eS=["noscript","script","style"],hp=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),uw=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),tS=(n,e,t,r)=>{const s=uw(t),a=lw(e);return s?`<${n} ${Ar}="true" ${s}>${hp(a,r)}</${n}>`:`<${n} ${Ar}="true">${hp(a,r)}</${n}>`},nS=(n,e,t=!0)=>e.reduce((r,s)=>{const a=s,u=Object.keys(a).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,v)=>{const w=typeof a[v]>"u"?v:`${v}="${hp(a[v],t)}"`;return p?`${p} ${w}`:w},""),d=a.innerHTML||a.cssText||"",f=eS.indexOf(n)===-1;return`${r}<${n} ${Ar}="true" ${u}${f?"/>":`>${d}</${n}>`}`},""),cw=(n,e={})=>Object.keys(n).reduce((t,r)=>{const s=Xp[r];return t[s||r]=n[r],t},e),rS=(n,e,t)=>{const r={key:e,[Ar]:!0},s=cw(t,r);return[ks.createElement("title",s,e)]},Yc=(n,e)=>e.map((t,r)=>{const s={key:r,[Ar]:!0};return Object.keys(t).forEach(a=>{const d=Xp[a]||a;if(d==="innerHTML"||d==="cssText"){const f=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:f}}else s[d]=t[a]}),ks.createElement(n,s)}),hr=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>rS(n,e.title,e.titleAttributes),toString:()=>tS(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>cw(e),toString:()=>uw(e)};default:return{toComponent:()=>Yc(n,e),toString:()=>nS(n,e,t)}}},iS=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const s=Kf(n,Wf.meta),a=Kf(e,Wf.link),u=Kf(t,Wf.script);return{priorityMethods:{toComponent:()=>[...Yc("meta",s.priority),...Yc("link",a.priority),...Yc("script",u.priority)],toString:()=>`${hr("meta",s.priority,r)} ${hr("link",a.priority,r)} ${hr("script",u.priority,r)}`},metaTags:s.default,linkTags:a.default,scriptTags:u.default}},sS=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:s,noscriptTags:a,styleTags:u,title:d="",titleAttributes:f,prioritizeSeoTags:p}=n;let{linkTags:v,metaTags:w,scriptTags:E}=n,I={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:I,linkTags:v,metaTags:w,scriptTags:E}=iS(n)),{priority:I,base:hr("base",e,r),bodyAttributes:hr("bodyAttributes",t,r),htmlAttributes:hr("htmlAttributes",s,r),link:hr("link",v,r),meta:hr("meta",w,r),noscript:hr("noscript",a,r),script:hr("script",E,r),style:hr("style",u,r),title:hr("title",{title:d,titleAttributes:f},r)}},fp=sS,Uc=[],dw=!!(typeof window<"u"&&window.document&&window.document.createElement),pp=class{instances=[];canUseDOM=dw;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Uc:this.instances,add:n=>{(this.canUseDOM?Uc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Uc:this.instances).indexOf(n);(this.canUseDOM?Uc:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=fp({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},oS={},hw=ks.createContext(oS),mp=class fw extends O.Component{static canUseDOM=dw;helmetData;constructor(e){super(e),this.helmetData=new pp(this.props.context||{},fw.canUseDOM)}render(){return ks.createElement(hw.Provider,{value:this.helmetData.value},this.props.children)}},ha=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Ar}]`),s=[].slice.call(r),a=[];let u;return e&&e.length&&e.forEach(d=>{const f=document.createElement(n);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p))if(p==="innerHTML")f.innerHTML=d.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const v=p,w=typeof d[v]>"u"?"":d[v];f.setAttribute(p,w)}f.setAttribute(Ar,"true"),s.some((p,v)=>(u=v,f.isEqualNode(p)))?s.splice(u,1):a.push(f)}),s.forEach(d=>d.parentNode?.removeChild(d)),a.forEach(d=>t.appendChild(d)),{oldTags:s,newTags:a}},gp=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Ar),s=r?r.split(","):[],a=[...s],u=Object.keys(e);for(const d of u){const f=e[d]||"";t.getAttribute(d)!==f&&t.setAttribute(d,f),s.indexOf(d)===-1&&s.push(d);const p=a.indexOf(d);p!==-1&&a.splice(p,1)}for(let d=a.length-1;d>=0;d-=1)t.removeAttribute(a[d]);s.length===a.length?t.removeAttribute(Ar):t.getAttribute(Ar)!==u.join(",")&&t.setAttribute(Ar,u.join(","))},aS=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=lw(n)),gp("title",e)},O0=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:s,linkTags:a,metaTags:u,noscriptTags:d,onChangeClientState:f,scriptTags:p,styleTags:v,title:w,titleAttributes:E}=n;gp("body",r),gp("html",s),aS(w,E);const I={baseTag:ha("base",t),linkTags:ha("link",a),metaTags:ha("meta",u),noscriptTags:ha("noscript",d),scriptTags:ha("script",p),styleTags:ha("style",v)},P={},z={};Object.keys(I).forEach(U=>{const{newTags:H,oldTags:J}=I[U];H.length&&(P[U]=H),J.length&&(z[U]=I[U].oldTags)}),e&&e(),f(n,P,z)},Pl=null,lS=n=>{Pl&&cancelAnimationFrame(Pl),n.defer?Pl=requestAnimationFrame(()=>{O0(n,()=>{Pl=null})}):(O0(n),Pl=null)},uS=lS,V0=class extends O.Component{rendered=!1;shouldComponentUpdate(n){return!H2(n,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:n}=this.props.context;n.remove(this),this.emitChange()}emitChange(){const{helmetInstances:n,setHelmet:e}=this.props.context;let t=null;const r=X2(n.get().map(s=>{const a={...s.props};return delete a.context,a}));mp.canUseDOM?uS(r):fp&&(t=fp(r)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:n}=this.props.context;n.add(this),this.emitChange()}render(){return this.init(),null}},cS=class extends O.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(n){return!j2(M0(this.props,"helmetData"),M0(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return D0(L0.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${L0.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),D0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return ks.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:s,...a}=r.props,u=Object.keys(a).reduce((f,p)=>(f[W2[p]||p]=a[p],f),{});let{type:d}=r;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(r,s),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,u,s);break;default:e=this.mapObjectTypeChildren(r,e,u,s);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof pp)){const s=r;r=new pp(s.context,!0),delete t.helmetData}return r?ks.createElement(V0,{...t,context:r.value}):ks.createElement(hw.Consumer,null,s=>ks.createElement(V0,{...t,context:s}))}};/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pw=n=>{throw TypeError(n)},dS=(n,e,t)=>e.has(n)||pw("Cannot "+t),Qf=(n,e,t)=>(dS(n,e,"read from private field"),t?t.call(n):e.get(n)),hS=(n,e,t)=>e.has(n)?pw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),F0="popstate";function fS(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return Ql("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Vs(s)}return mS(e,t,null,n)}function Ke(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pS(){return Math.random().toString(36).substring(2,10)}function U0(n,e){return{usr:n.state,key:n.key,idx:e}}function Ql(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Gs(e):e,state:t,key:e&&e.key||r||pS()}}function Vs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Gs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function mS(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){d="POP";let U=v(),H=U==null?null:U-p;p=U,f&&f({action:d,location:z.location,delta:H})}function E(U,H){d="PUSH";let J=Ql(z.location,U,H);p=v()+1;let Z=U0(J,p),se=z.createHref(J);try{u.pushState(Z,"",se)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;s.location.assign(se)}a&&f&&f({action:d,location:z.location,delta:1})}function I(U,H){d="REPLACE";let J=Ql(z.location,U,H);p=v();let Z=U0(J,p),se=z.createHref(J);u.replaceState(Z,"",se),a&&f&&f({action:d,location:z.location,delta:0})}function P(U){return mw(U)}let z={get action(){return d},get location(){return n(s,u)},listen(U){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(F0,w),f=U,()=>{s.removeEventListener(F0,w),f=null}},createHref(U){return e(s,U)},createURL:P,encodeLocation(U){let H=P(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:I,go(U){return u.go(U)}};return z}function mw(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Vs(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var Ol,j0=class{constructor(n){if(hS(this,Ol,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Qf(this,Ol).has(n))return Qf(this,Ol).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Qf(this,Ol).set(n,e)}};Ol=new WeakMap;var gS=new Set(["lazy","caseSensitive","path","id","index","children"]);function yS(n){return gS.has(n)}var vS=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function _S(n){return vS.has(n)}function wS(n){return n.index===!0}function Yl(n,e,t=[],r={},s=!1){return n.map((a,u)=>{let d=[...t,String(u)],f=typeof a.id=="string"?a.id:d.join("-");if(Ke(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ke(s||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),wS(a)){let p={...a,...e(a),id:f};return r[f]=p,p}else{let p={...a,...e(a),id:f,children:void 0};return r[f]=p,a.children&&(p.children=Yl(a.children,e,d,r,s)),p}})}function Ts(n,e,t="/"){return Jc(n,e,t,!1)}function Jc(n,e,t,r){let s=typeof e=="string"?Gs(e):e,a=mr(s.pathname||"/",t);if(a==null)return null;let u=gw(n);TS(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=NS(a);d=bS(u[f],p,r)}return d}function ES(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function gw(n,e=[],t=[],r="",s=!1){let a=(u,d,f=s,p)=>{let v={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Ke(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let w=ii([r,v.relativePath]),E=t.concat(v);u.children&&u.children.length>0&&(Ke(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),gw(u.children,e,E,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:AS(w,u.index),routesMeta:E})};return n.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))a(u,d);else for(let f of yw(u.path))a(u,d,!0,f)}),e}function yw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=yw(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function TS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:PS(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SS=/^:[\w-]+$/,IS=3,CS=2,RS=1,kS=10,xS=-2,z0=n=>n==="*";function AS(n,e){let t=n.split("/"),r=t.length;return t.some(z0)&&(r+=xS),e&&(r+=CS),t.filter(s=>!z0(s)).reduce((s,a)=>s+(SS.test(a)?IS:a===""?RS:kS),r)}function PS(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function bS(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=dd({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),E=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=dd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:ii([a,w.pathname]),pathnameBase:VS(ii([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=ii([a,w.pathnameBase]))}return u}function dd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=DS(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:w},E)=>{if(v==="*"){let P=d[E]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const I=d[E];return w&&!I?p[v]=void 0:p[v]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function DS(n,e=!1,t=!0){Nt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function NS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function mr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function LS({basename:n,pathname:e}){return e==="/"?n:ii([n,e])}function MS(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Gs(n):n;return{pathname:t?t.startsWith("/")?t:OS(t,e):e,search:FS(r),hash:US(s)}}function OS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Yf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ud(n){let e=vw(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function jd(n,e,t,r=!1){let s;typeof n=="string"?s=Gs(n):(s={...n},Ke(!s.pathname||!s.pathname.includes("?"),Yf("?","pathname","search",s)),Ke(!s.pathname||!s.pathname.includes("#"),Yf("#","pathname","hash",s)),Ke(!s.search||!s.search.includes("#"),Yf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}d=w>=0?e[w]:"/"}let f=MS(s,d),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var ii=n=>n.join("/").replace(/\/\/+/g,"/"),VS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),FS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,US=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,hd=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function xa(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _w=["POST","PUT","PATCH","DELETE"],jS=new Set(_w),zS=["GET",..._w],$S=new Set(zS),BS=new Set([301,302,303,307,308]),GS=new Set([307,308]),Jf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},HS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},WS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zp=n=>WS.test(n),qS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),ww="remix-router-transitions",Ew=Symbol("ResetLoaderData");function KS(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ke(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||qS,a={},u=Yl(n.routes,s,void 0,a),d,f=n.basename||"/",p=n.dataStrategy||ZS,v={unstable_middleware:!1,...n.future},w=null,E=new Set,I=null,P=null,z=null,U=n.hydrationData!=null,H=Ts(u,n.history.location,f),J=!1,Z=null,se;if(H==null&&!n.patchRoutesOnNavigation){let D=fr(404,{pathname:n.history.location.pathname}),{matches:$,route:W}=Z0(u);se=!0,H=$,Z={[W.id]:D}}else if(H&&!n.hydrationData&&wn(H,u,n.history.location.pathname).active&&(H=null),H)if(H.some(D=>D.route.lazy))se=!1;else if(!H.some(D=>D.route.loader))se=!0;else{let D=n.hydrationData?n.hydrationData.loaderData:null,$=n.hydrationData?n.hydrationData.errors:null;if($){let W=H.findIndex(oe=>$[oe.route.id]!==void 0);se=H.slice(0,W+1).every(oe=>!vp(oe.route,D,$))}else se=H.every(W=>!vp(W.route,D,$))}else{se=!1,H=[];let D=wn(null,u,n.history.location.pathname);D.active&&D.matches&&(J=!0,H=D.matches)}let he,F={historyAction:n.history.action,location:n.history.location,matches:H,initialized:se,navigation:Jf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||Z,fetchers:new Map,blockers:new Map},A="POP",R=!1,k,b=!1,L=new Map,j=null,C=!1,ve=!1,He=new Set,xe=new Map,Te=0,ne=-1,me=new Map,ce=new Set,M=new Map,X=new Map,pe=new Set,Ne=new Map,$e,Ge=null;function it(){if(w=n.history.listen(({action:D,location:$,delta:W})=>{if($e){$e(),$e=void 0;return}Nt(Ne.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=$r({currentLocation:F.location,nextLocation:$,historyAction:D});if(oe&&W!=null){let le=new Promise(Se=>{$e=Se});n.history.go(W*-1),zr(oe,{state:"blocked",location:$,proceed(){zr(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),le.then(()=>n.history.go(W))},reset(){let Se=new Map(F.blockers);Se.set(oe,bl),Xe({blockers:Se})}});return}return vn(D,$)}),t){dI(e,L);let D=()=>hI(e,L);e.addEventListener("pagehide",D),j=()=>e.removeEventListener("pagehide",D)}return F.initialized||vn("POP",F.location,{initialHydration:!0}),he}function st(){w&&w(),j&&j(),E.clear(),k&&k.abort(),F.fetchers.forEach((D,$)=>gi($)),F.blockers.forEach((D,$)=>Yi($))}function ft(D){return E.add(D),()=>E.delete(D)}function Xe(D,$={}){D.matches&&(D.matches=D.matches.map(le=>{let Se=a[le.route.id],Ce=le.route;return Ce.element!==Se.element||Ce.errorElement!==Se.errorElement||Ce.hydrateFallbackElement!==Se.hydrateFallbackElement?{...le,route:Se}:le})),F={...F,...D};let W=[],oe=[];F.fetchers.forEach((le,Se)=>{le.state==="idle"&&(pe.has(Se)?W.push(Se):oe.push(Se))}),pe.forEach(le=>{!F.fetchers.has(le)&&!xe.has(le)&&W.push(le)}),[...E].forEach(le=>le(F,{deletedFetchers:W,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),W.forEach(le=>gi(le)),oe.forEach(le=>F.fetchers.delete(le))}function ln(D,$,{flushSync:W}={}){let oe=F.actionData!=null&&F.navigation.formMethod!=null&&Vn(F.navigation.formMethod)&&F.navigation.state==="loading"&&D.state?._isRedirect!==!0,le;$.actionData?Object.keys($.actionData).length>0?le=$.actionData:le=null:oe?le=F.actionData:le=null;let Se=$.loaderData?J0(F.loaderData,$.loaderData,$.matches||[],$.errors):F.loaderData,Ce=F.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Pe,ke)=>Ce.set(ke,bl)));let _e=C?!1:yi(D,$.matches||F.matches),we=R===!0||F.navigation.formMethod!=null&&Vn(F.navigation.formMethod)&&D.state?._isRedirect!==!0;d&&(u=d,d=void 0),C||A==="POP"||(A==="PUSH"?n.history.push(D,D.state):A==="REPLACE"&&n.history.replace(D,D.state));let De;if(A==="POP"){let Pe=L.get(F.location.pathname);Pe&&Pe.has(D.pathname)?De={currentLocation:F.location,nextLocation:D}:L.has(D.pathname)&&(De={currentLocation:D,nextLocation:F.location})}else if(b){let Pe=L.get(F.location.pathname);Pe?Pe.add(D.pathname):(Pe=new Set([D.pathname]),L.set(F.location.pathname,Pe)),De={currentLocation:F.location,nextLocation:D}}Xe({...$,actionData:le,loaderData:Se,historyAction:A,location:D,initialized:!0,navigation:Jf,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:we,blockers:Ce},{viewTransitionOpts:De,flushSync:W===!0}),A="POP",R=!1,b=!1,C=!1,ve=!1,Ge?.resolve(),Ge=null}async function fi(D,$){if(typeof D=="number"){n.history.go(D);return}let W=yp(F.location,F.matches,f,D,$?.fromRouteId,$?.relative),{path:oe,submission:le,error:Se}=$0(!1,W,$),Ce=F.location,_e=Ql(F.location,oe,$&&$.state);_e={..._e,...n.history.encodeLocation(_e)};let we=$&&$.replace!=null?$.replace:void 0,De="PUSH";we===!0?De="REPLACE":we===!1||le!=null&&Vn(le.formMethod)&&le.formAction===F.location.pathname+F.location.search&&(De="REPLACE");let Pe=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,ke=($&&$.flushSync)===!0,We=$r({currentLocation:Ce,nextLocation:_e,historyAction:De});if(We){zr(We,{state:"blocked",location:_e,proceed(){zr(We,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),fi(D,$)},reset(){let et=new Map(F.blockers);et.set(We,bl),Xe({blockers:et})}});return}await vn(De,_e,{submission:le,pendingError:Se,preventScrollReset:Pe,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:ke})}function Fr(){Ge||(Ge=fI()),mi(),Xe({revalidation:"loading"});let D=Ge.promise;return F.navigation.state==="submitting"?D:F.navigation.state==="idle"?(vn(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),D):(vn(A||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:b===!0}),D)}async function vn(D,$,W){k&&k.abort(),k=null,A=D,C=(W&&W.startUninterruptedRevalidation)===!0,er(F.location,F.matches),R=(W&&W.preventScrollReset)===!0,b=(W&&W.enableViewTransition)===!0;let oe=d||u,le=W&&W.overrideNavigation,Se=W?.initialHydration&&F.matches&&F.matches.length>0&&!J?F.matches:Ts(oe,$,f),Ce=(W&&W.flushSync)===!0;if(Se&&F.initialized&&!ve&&oI(F.location,$)&&!(W&&W.submission&&Vn(W.submission.formMethod))){ln($,{matches:Se},{flushSync:Ce});return}let _e=wn(Se,oe,$.pathname);if(_e.active&&_e.matches&&(Se=_e.matches),!Se){let{error:vt,notFoundMatches:mt,route:ct}=Br($.pathname);ln($,{matches:mt,loaderData:{},errors:{[ct.id]:vt}},{flushSync:Ce});return}k=new AbortController;let we=ma(n.history,$,k.signal,W&&W.submission),De=n.unstable_getContext?await n.unstable_getContext():new j0,Pe;if(W&&W.pendingError)Pe=[Ss(Se).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&Vn(W.submission.formMethod)){let vt=await Hi(we,$,W.submission,Se,De,_e.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:Ce});if(vt.shortCircuited)return;if(vt.pendingActionResult){let[mt,ct]=vt.pendingActionResult;if(qn(ct)&&xa(ct.error)&&ct.error.status===404){k=null,ln($,{matches:vt.matches,loaderData:{},errors:{[mt]:ct.error}});return}}Se=vt.matches||Se,Pe=vt.pendingActionResult,le=Xf($,W.submission),Ce=!1,_e.active=!1,we=ma(n.history,we.url,we.signal)}let{shortCircuited:ke,matches:We,loaderData:et,errors:It}=await qs(we,$,Se,De,_e.active,le,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Ce,Pe);ke||(k=null,ln($,{matches:We||Se,...X0(Pe),loaderData:et,errors:It}))}async function Hi(D,$,W,oe,le,Se,Ce,_e={}){mi();let we=uI($,W);if(Xe({navigation:we},{flushSync:_e.flushSync===!0}),Se){let ke=await Gr(oe,$.pathname,D.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let We=Ss(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[We,{type:"error",error:ke.error}]}}else if(ke.matches)oe=ke.matches;else{let{notFoundMatches:We,error:et,route:It}=Br($.pathname);return{matches:We,pendingActionResult:[It.id,{type:"error",error:et}]}}}let De,Pe=Xc(oe,$);if(!Pe.route.action&&!Pe.route.lazy)De={type:"error",error:fr(405,{method:D.method,pathname:$.pathname,routeId:Pe.route.id})};else{let ke=Sa(s,a,D,oe,Pe,Ce?[]:r,le),We=await Xn(D,ke,le,null);if(De=We[Pe.route.id],!De){for(let et of oe)if(We[et.route.id]){De=We[et.route.id];break}}if(D.signal.aborted)return{shortCircuited:!0}}if(vo(De)){let ke;return _e&&_e.replace!=null?ke=_e.replace:ke=K0(De.response.headers.get("Location"),new URL(D.url),f)===F.location.pathname+F.location.search,await Fn(D,De,!0,{submission:W,replace:ke}),{shortCircuited:!0}}if(qn(De)){let ke=Ss(oe,Pe.route.id);return(_e&&_e.replace)!==!0&&(A="PUSH"),{matches:oe,pendingActionResult:[ke.route.id,De,Pe.route.id]}}return{matches:oe,pendingActionResult:[Pe.route.id,De]}}async function qs(D,$,W,oe,le,Se,Ce,_e,we,De,Pe,ke){let We=Se||Xf($,Ce),et=Ce||_e||tv(We),It=!C&&!De;if(le){if(It){let bt=Wi(ke);Xe({navigation:We,...bt!==void 0?{actionData:bt}:{}},{flushSync:Pe})}let Be=await Gr(W,$.pathname,D.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){let bt=Ss(Be.partialMatches).route.id;return{matches:Be.partialMatches,loaderData:{},errors:{[bt]:Be.error}}}else if(Be.matches)W=Be.matches;else{let{error:bt,notFoundMatches:_i,route:jn}=Br($.pathname);return{matches:_i,loaderData:{},errors:{[jn.id]:bt}}}}let vt=d||u,{dsMatches:mt,revalidatingFetchers:ct}=B0(D,oe,s,a,n.history,F,W,et,$,De?[]:r,De===!0,ve,He,pe,M,ce,vt,f,n.patchRoutesOnNavigation!=null,ke);if(ne=++Te,!n.dataStrategy&&!mt.some(Be=>Be.shouldLoad)&&!mt.some(Be=>Be.route.unstable_middleware)&&ct.length===0){let Be=Ki();return ln($,{matches:W,loaderData:{},errors:ke&&qn(ke[1])?{[ke[0]]:ke[1].error}:null,...X0(ke),...Be?{fetchers:new Map(F.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(It){let Be={};if(!le){Be.navigation=We;let bt=Wi(ke);bt!==void 0&&(Be.actionData=bt)}ct.length>0&&(Be.fetchers=Do(ct)),Xe(Be,{flushSync:Pe})}ct.forEach(Be=>{un(Be.key),Be.controller&&xe.set(Be.key,Be.controller)});let Rn=()=>ct.forEach(Be=>un(Be.key));k&&k.signal.addEventListener("abort",Rn);let{loaderResults:tr,fetcherResults:kn}=await pi(mt,ct,D,oe);if(D.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Rn),ct.forEach(Be=>xe.delete(Be.key));let En=jc(tr);if(En)return await Fn(D,En.result,!0,{replace:we}),{shortCircuited:!0};if(En=jc(kn),En)return ce.add(En.key),await Fn(D,En.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:Ys,errors:lt}=Y0(F,W,tr,ke,ct,kn);De&&F.errors&&(lt={...F.errors,...lt});let nr=Ki(),rr=Qi(ne),Un=nr||rr||ct.length>0;return{matches:W,loaderData:Ys,errors:lt,...Un?{fetchers:new Map(F.fetchers)}:{}}}function Wi(D){if(D&&!qn(D[1]))return{[D[0]]:D[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Do(D){return D.forEach($=>{let W=F.fetchers.get($.key),oe=Dl(void 0,W?W.data:void 0);F.fetchers.set($.key,oe)}),new Map(F.fetchers)}async function qi(D,$,W,oe){un(D);let le=(oe&&oe.flushSync)===!0,Se=d||u,Ce=yp(F.location,F.matches,f,W,$,oe?.relative),_e=Ts(Se,Ce,f),we=wn(_e,Se,Ce);if(we.active&&we.matches&&(_e=we.matches),!_e){dt(D,$,fr(404,{pathname:Ce}),{flushSync:le});return}let{path:De,submission:Pe,error:ke}=$0(!0,Ce,oe);if(ke){dt(D,$,ke,{flushSync:le});return}let We=n.unstable_getContext?await n.unstable_getContext():new j0,et=(oe&&oe.preventScrollReset)===!0;if(Pe&&Vn(Pe.formMethod)){await gr(D,$,De,_e,We,we.active,le,et,Pe);return}M.set(D,{routeId:$,path:De}),await yr(D,$,De,_e,We,we.active,le,et,Pe)}async function gr(D,$,W,oe,le,Se,Ce,_e,we){mi(),M.delete(D);let De=F.fetchers.get(D);pt(D,cI(we,De),{flushSync:Ce});let Pe=new AbortController,ke=ma(n.history,W,Pe.signal,we);if(Se){let ot=await Gr(oe,new URL(ke.url).pathname,ke.signal,D);if(ot.type==="aborted")return;if(ot.type==="error"){dt(D,$,ot.error,{flushSync:Ce});return}else if(ot.matches)oe=ot.matches;else{dt(D,$,fr(404,{pathname:W}),{flushSync:Ce});return}}let We=Xc(oe,W);if(!We.route.action&&!We.route.lazy){let ot=fr(405,{method:we.formMethod,pathname:W,routeId:$});dt(D,$,ot,{flushSync:Ce});return}xe.set(D,Pe);let et=Te,It=Sa(s,a,ke,oe,We,r,le),mt=(await Xn(ke,It,le,D))[We.route.id];if(ke.signal.aborted){xe.get(D)===Pe&&xe.delete(D);return}if(pe.has(D)){if(vo(mt)||qn(mt)){pt(D,Es(void 0));return}}else{if(vo(mt))if(xe.delete(D),ne>et){pt(D,Es(void 0));return}else return ce.add(D),pt(D,Dl(we)),Fn(ke,mt,!1,{fetcherSubmission:we,preventScrollReset:_e});if(qn(mt)){dt(D,$,mt.error);return}}let ct=F.navigation.location||F.location,Rn=ma(n.history,ct,Pe.signal),tr=d||u,kn=F.navigation.state!=="idle"?Ts(tr,F.navigation.location,f):F.matches;Ke(kn,"Didn't find any matches after fetcher action");let En=++Te;me.set(D,En);let Ys=Dl(we,mt.data);F.fetchers.set(D,Ys);let{dsMatches:lt,revalidatingFetchers:nr}=B0(Rn,le,s,a,n.history,F,kn,we,ct,r,!1,ve,He,pe,M,ce,tr,f,n.patchRoutesOnNavigation!=null,[We.route.id,mt]);nr.filter(ot=>ot.key!==D).forEach(ot=>{let wi=ot.key,qt=F.fetchers.get(wi),Js=Dl(void 0,qt?qt.data:void 0);F.fetchers.set(wi,Js),un(wi),ot.controller&&xe.set(wi,ot.controller)}),Xe({fetchers:new Map(F.fetchers)});let rr=()=>nr.forEach(ot=>un(ot.key));Pe.signal.addEventListener("abort",rr);let{loaderResults:Un,fetcherResults:Be}=await pi(lt,nr,Rn,le);if(Pe.signal.aborted)return;if(Pe.signal.removeEventListener("abort",rr),me.delete(D),xe.delete(D),nr.forEach(ot=>xe.delete(ot.key)),F.fetchers.has(D)){let ot=Es(mt.data);F.fetchers.set(D,ot)}let bt=jc(Un);if(bt)return Fn(Rn,bt.result,!1,{preventScrollReset:_e});if(bt=jc(Be),bt)return ce.add(bt.key),Fn(Rn,bt.result,!1,{preventScrollReset:_e});let{loaderData:_i,errors:jn}=Y0(F,kn,Un,void 0,nr,Be);Qi(En),F.navigation.state==="loading"&&En>ne?(Ke(A,"Expected pending action"),k&&k.abort(),ln(F.navigation.location,{matches:kn,loaderData:_i,errors:jn,fetchers:new Map(F.fetchers)})):(Xe({errors:jn,loaderData:J0(F.loaderData,_i,kn,jn),fetchers:new Map(F.fetchers)}),ve=!1)}async function yr(D,$,W,oe,le,Se,Ce,_e,we){let De=F.fetchers.get(D);pt(D,Dl(we,De?De.data:void 0),{flushSync:Ce});let Pe=new AbortController,ke=ma(n.history,W,Pe.signal);if(Se){let ct=await Gr(oe,new URL(ke.url).pathname,ke.signal,D);if(ct.type==="aborted")return;if(ct.type==="error"){dt(D,$,ct.error,{flushSync:Ce});return}else if(ct.matches)oe=ct.matches;else{dt(D,$,fr(404,{pathname:W}),{flushSync:Ce});return}}let We=Xc(oe,W);xe.set(D,Pe);let et=Te,It=Sa(s,a,ke,oe,We,r,le),mt=(await Xn(ke,It,le,D))[We.route.id];if(xe.get(D)===Pe&&xe.delete(D),!ke.signal.aborted){if(pe.has(D)){pt(D,Es(void 0));return}if(vo(mt))if(ne>et){pt(D,Es(void 0));return}else{ce.add(D),await Fn(ke,mt,!1,{preventScrollReset:_e});return}if(qn(mt)){dt(D,$,mt.error);return}pt(D,Es(mt.data))}}async function Fn(D,$,W,{submission:oe,fetcherSubmission:le,preventScrollReset:Se,replace:Ce}={}){$.response.headers.has("X-Remix-Revalidate")&&(ve=!0);let _e=$.response.headers.get("Location");Ke(_e,"Expected a Location header on the redirect Response"),_e=K0(_e,new URL(D.url),f);let we=Ql(F.location,_e,{_isRedirect:!0});if(t){let It=!1;if($.response.headers.has("X-Remix-Reload-Document"))It=!0;else if(Zp(_e)){const vt=mw(_e,!0);It=vt.origin!==e.location.origin||mr(vt.pathname,f)==null}if(It){Ce?e.location.replace(_e):e.location.assign(_e);return}}k=null;let De=Ce===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:ke,formEncType:We}=F.navigation;!oe&&!le&&Pe&&ke&&We&&(oe=tv(F.navigation));let et=oe||le;if(GS.has($.response.status)&&et&&Vn(et.formMethod))await vn(De,we,{submission:{...et,formAction:_e},preventScrollReset:Se||R,enableViewTransition:W?b:void 0});else{let It=Xf(we,oe);await vn(De,we,{overrideNavigation:It,fetcherSubmission:le,preventScrollReset:Se||R,enableViewTransition:W?b:void 0})}}async function Xn(D,$,W,oe){let le,Se={};try{le=await eI(p,D,$,oe,W,!1)}catch(Ce){return $.filter(_e=>_e.shouldLoad).forEach(_e=>{Se[_e.route.id]={type:"error",error:Ce}}),Se}if(D.signal.aborted)return Se;for(let[Ce,_e]of Object.entries(le))if(aI(_e)){let we=_e.result;Se[Ce]={type:"redirect",response:iI(we,D,Ce,$,f)}}else Se[Ce]=await rI(_e);return Se}async function pi(D,$,W,oe){let le=Xn(W,D,oe,null),Se=Promise.all($.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let Pe=(await Xn(we.request,we.matches,oe,we.key))[we.match.route.id];return{[we.key]:Pe}}else return Promise.resolve({[we.key]:{type:"error",error:fr(404,{pathname:we.path})}})})),Ce=await le,_e=(await Se).reduce((we,De)=>Object.assign(we,De),{});return{loaderResults:Ce,fetcherResults:_e}}function mi(){ve=!0,M.forEach((D,$)=>{xe.has($)&&He.add($),un($)})}function pt(D,$,W={}){F.fetchers.set(D,$),Xe({fetchers:new Map(F.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function dt(D,$,W,oe={}){let le=Ss(F.matches,$);gi(D),Xe({errors:{[le.route.id]:W},fetchers:new Map(F.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Zn(D){return X.set(D,(X.get(D)||0)+1),pe.has(D)&&pe.delete(D),F.fetchers.get(D)||HS}function gi(D){let $=F.fetchers.get(D);xe.has(D)&&!($&&$.state==="loading"&&me.has(D))&&un(D),M.delete(D),me.delete(D),ce.delete(D),pe.delete(D),He.delete(D),F.fetchers.delete(D)}function Ur(D){let $=(X.get(D)||0)-1;$<=0?(X.delete(D),pe.add(D)):X.set(D,$),Xe({fetchers:new Map(F.fetchers)})}function un(D){let $=xe.get(D);$&&($.abort(),xe.delete(D))}function jr(D){for(let $ of D){let W=Zn($),oe=Es(W.data);F.fetchers.set($,oe)}}function Ki(){let D=[],$=!1;for(let W of ce){let oe=F.fetchers.get(W);Ke(oe,`Expected fetcher: ${W}`),oe.state==="loading"&&(ce.delete(W),D.push(W),$=!0)}return jr(D),$}function Qi(D){let $=[];for(let[W,oe]of me)if(oe<D){let le=F.fetchers.get(W);Ke(le,`Expected fetcher: ${W}`),le.state==="loading"&&(un(W),me.delete(W),$.push(W))}return jr($),$.length>0}function Ks(D,$){let W=F.blockers.get(D)||bl;return Ne.get(D)!==$&&Ne.set(D,$),W}function Yi(D){F.blockers.delete(D),Ne.delete(D)}function zr(D,$){let W=F.blockers.get(D)||bl;Ke(W.state==="unblocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="proceeding"||W.state==="blocked"&&$.state==="unblocked"||W.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${$.state}`);let oe=new Map(F.blockers);oe.set(D,$),Xe({blockers:oe})}function $r({currentLocation:D,nextLocation:$,historyAction:W}){if(Ne.size===0)return;Ne.size>1&&Nt(!1,"A router only supports one blocker at a time");let oe=Array.from(Ne.entries()),[le,Se]=oe[oe.length-1],Ce=F.blockers.get(le);if(!(Ce&&Ce.state==="proceeding")&&Se({currentLocation:D,nextLocation:$,historyAction:W}))return le}function Br(D){let $=fr(404,{pathname:D}),W=d||u,{matches:oe,route:le}=Z0(W);return{notFoundMatches:oe,route:le,error:$}}function Ji(D,$,W){if(I=D,z=$,P=W||null,!U&&F.navigation===Jf){U=!0;let oe=yi(F.location,F.matches);oe!=null&&Xe({restoreScrollPosition:oe})}return()=>{I=null,z=null,P=null}}function _n(D,$){return P&&P(D,$.map(oe=>ES(oe,F.loaderData)))||D.key}function er(D,$){if(I&&z){let W=_n(D,$);I[W]=z()}}function yi(D,$){if(I){let W=_n(D,$),oe=I[W];if(typeof oe=="number")return oe}return null}function wn(D,$,W){if(n.patchRoutesOnNavigation)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Jc($,W,f,!0)}}else return{active:!0,matches:Jc($,W,f,!0)||[]};return{active:!1,matches:null}}async function Gr(D,$,W,oe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:D};let le=D;for(;;){let Se=d==null,Ce=d||u,_e=a;try{await n.patchRoutesOnNavigation({signal:W,path:$,matches:le,fetcherKey:oe,patch:(Pe,ke)=>{W.aborted||G0(Pe,ke,Ce,_e,s,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:le}}finally{Se&&!W.aborted&&(u=[...u])}if(W.aborted)return{type:"aborted"};let we=Ts(Ce,$,f);if(we)return{type:"success",matches:we};let De=Jc(Ce,$,f,!0);if(!De||le.length===De.length&&le.every((Pe,ke)=>Pe.route.id===De[ke].route.id))return{type:"success",matches:null};le=De}}function vi(D){a={},d=Yl(D,s,void 0,a)}function Qs(D,$,W=!1){let oe=d==null;G0(D,$,d||u,a,s,W),oe&&(u=[...u],Xe({}))}return he={get basename(){return f},get future(){return v},get state(){return F},get routes(){return u},get window(){return e},initialize:it,subscribe:ft,enableScrollRestoration:Ji,navigate:fi,fetch:qi,revalidate:Fr,createHref:D=>n.history.createHref(D),encodeLocation:D=>n.history.encodeLocation(D),getFetcher:Zn,deleteFetcher:Ur,dispose:st,getBlocker:Ks,deleteBlocker:Yi,patchRoutes:Qs,_internalFetchControllers:xe,_internalSetRoutes:vi,_internalSetStateDoNotUseOrYouWillBreakYourApp(D){Xe(D)}},he}function QS(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function yp(n,e,t,r,s,a){let u,d;if(s){u=[];for(let p of e)if(u.push(p),p.route.id===s){d=p;break}}else u=e,d=e[e.length-1];let f=jd(r||".",Ud(u),mr(n.pathname,t)||n.pathname,a==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&d){let p=em(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let v=new URLSearchParams(f.search),w=v.getAll("index");v.delete("index"),w.filter(I=>I).forEach(I=>v.append("index",I));let E=v.toString();f.search=E?`?${E}`:""}}return t!=="/"&&(f.pathname=LS({basename:t,pathname:f.pathname})),Vs(f)}function $0(n,e,t){if(!t||!QS(t))return{path:e};if(t.formMethod&&!lI(t.formMethod))return{path:e,error:fr(405,{method:t.formMethod})};let r=()=>({path:e,error:fr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=xw(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Vn(a))return r();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((E,[I,P])=>`${E}${I}=${P}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!Vn(a))return r();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}Ke(typeof FormData=="function","FormData is not available in this environment");let d,f;if(t.formData)d=wp(t.formData),f=t.formData;else if(t.body instanceof FormData)d=wp(t.body),f=t.body;else if(t.body instanceof URLSearchParams)d=t.body,f=Q0(d);else if(t.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(t.body),f=Q0(d)}catch{return r()}let p={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Vn(p.formMethod))return{path:e,submission:p};let v=Gs(e);return n&&v.search&&em(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Vs(v),submission:p}}function B0(n,e,t,r,s,a,u,d,f,p,v,w,E,I,P,z,U,H,J,Z){let se=Z?qn(Z[1])?Z[1].error:Z[1].data:void 0,he=s.createURL(a.location),F=s.createURL(f),A;if(v&&a.errors){let C=Object.keys(a.errors)[0];A=u.findIndex(ve=>ve.route.id===C)}else if(Z&&qn(Z[1])){let C=Z[0];A=u.findIndex(ve=>ve.route.id===C)-1}let R=Z?Z[1].statusCode:void 0,k=R&&R>=400,b={currentUrl:he,currentParams:a.matches[0]?.params||{},nextUrl:F,nextParams:u[0].params,...d,actionResult:se,actionStatus:R},L=u.map((C,ve)=>{let{route:He}=C,xe=null;if(A!=null&&ve>A?xe=!1:He.lazy?xe=!0:He.loader==null?xe=!1:v?xe=vp(He,a.loaderData,a.errors):YS(a.loaderData,a.matches[ve],C)&&(xe=!0),xe!==null)return _p(t,r,n,C,p,e,xe);let Te=k?!1:w||he.pathname+he.search===F.pathname+F.search||he.search!==F.search||JS(a.matches[ve],C),ne={...b,defaultShouldRevalidate:Te},me=fd(C,ne);return _p(t,r,n,C,p,e,me,ne)}),j=[];return P.forEach((C,ve)=>{if(v||!u.some(X=>X.route.id===C.routeId)||I.has(ve))return;let He=a.fetchers.get(ve),xe=He&&He.state!=="idle"&&He.data===void 0,Te=Ts(U,C.path,H);if(!Te){if(J&&xe)return;j.push({key:ve,routeId:C.routeId,path:C.path,matches:null,match:null,request:null,controller:null});return}if(z.has(ve))return;let ne=Xc(Te,C.path),me=new AbortController,ce=ma(s,C.path,me.signal),M=null;if(E.has(ve))E.delete(ve),M=Sa(t,r,ce,Te,ne,p,e);else if(xe)w&&(M=Sa(t,r,ce,Te,ne,p,e));else{let X={...b,defaultShouldRevalidate:k?!1:w};fd(ne,X)&&(M=Sa(t,r,ce,Te,ne,p,e,X))}M&&j.push({key:ve,routeId:C.routeId,path:C.path,matches:M,match:ne,request:ce,controller:me})}),{dsMatches:L,revalidatingFetchers:j}}function vp(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function YS(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function JS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function fd(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function G0(n,e,t,r,s,a){let u;if(n){let p=r[n];Ke(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),u=p.children}else u=t;let d=[],f=[];if(e.forEach(p=>{let v=u.find(w=>Tw(p,w));v?f.push({existingRoute:v,newRoute:p}):d.push(p)}),d.length>0){let p=Yl(d,s,[n||"_","patch",String(u?.length||"0")],r);u.push(...p)}if(a&&f.length>0)for(let p=0;p<f.length;p++){let{existingRoute:v,newRoute:w}=f[p],E=v,[I]=Yl([w],s,[],{},!0);Object.assign(E,{element:I.element?I.element:E.element,errorElement:I.errorElement?I.errorElement:E.errorElement,hydrateFallbackElement:I.hydrateFallbackElement?I.hydrateFallbackElement:E.hydrateFallbackElement})}}function Tw(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>e.children?.some(s=>Tw(t,s))):!1}var H0=new WeakMap,Sw=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(Ke(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[n];if(!a)return;let u=H0.get(s);u||(u={},H0.set(s,u));let d=u[n];if(d)return d;let f=(async()=>{let p=yS(n),w=s[n]!==void 0&&n!=="hasErrorBoundary";if(p)Nt(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(w)Nt(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let E=await a();E!=null&&(Object.assign(s,{[n]:E}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[n]=f,f},W0=new WeakMap;function XS(n,e,t,r,s){let a=t[n.id];if(Ke(a,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let v=W0.get(a);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let w=(async()=>{Ke(typeof n.lazy=="function","No lazy route function found");let E=await n.lazy(),I={};for(let P in E){let z=E[P];if(z===void 0)continue;let U=_S(P),J=a[P]!==void 0&&P!=="hasErrorBoundary";U?Nt(!U,"Route property "+P+" is not a supported property to be returned from a lazy route function. This property will be ignored."):J?Nt(!J,`Route "${a.id}" has a static property "${P}" defined but its lazy function is also returning a value for this property. The lazy route property "${P}" will be ignored.`):I[P]=z}Object.assign(a,I),Object.assign(a,{...r(a),lazy:void 0})})();return W0.set(a,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(n.lazy),d=[],f;for(let v of u){if(s&&s.includes(v))continue;let w=Sw({key:v,route:n,manifest:t,mapRouteProperties:r});w&&(d.push(w),v===e&&(f=w))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function q0(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{t[e[a].route.id]=s}),t}async function ZS(n){if(!n.matches.some(t=>t.route.unstable_middleware))return q0(n);let e=!1;return Cw(n,()=>(e=!0,q0(n)),(t,r)=>Iw(t,r,n.matches,e))}function Iw(n,e,t,r){if(r)return{[e]:{type:"error",result:n}};{let s=Math.min(t.findIndex(u=>u.route.id===e)||0,t.findIndex(u=>u.unstable_shouldCallHandler())||0);return{[Ss(t,t[s].route.id).route.id]:{type:"error",result:n}}}}async function Cw(n,e,t){let{matches:r,request:s,params:a,context:u}=n,d=r.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(v=>[p.route.id,v]):[]),f={};return await Rw({request:s,params:a,context:u},d,e,t,f),f}async function Rw(n,e,t,r,s={},a=0){let{request:u}=n;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=e[a];if(!d){let E=await t();Object.assign(s,E);return}let[f,p]=d,v=!1,w=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");v=!0;try{let E=await Rw(n,e,t,r,s,a+1);Object.assign(s,E)}catch(E){let I=await r(E,f);Object.assign(s,I)}};try{let E=await p({request:n.request,params:n.params,context:n.context},w);typeof E<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",E),v||await w()}catch(E){let I=await r(E,f);Object.assign(s,I)}}function kw(n,e,t,r,s){let a=Sw({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=XS(r.route,Vn(t.method)?"action":"loader",e,n,s);return{middleware:a,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function _p(n,e,t,r,s,a,u,d=null){let f=!1,p=kw(n,e,t,r,s);return{...r,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(v){return f=!0,d?typeof v=="boolean"?fd(r,{...d,defaultShouldRevalidate:v}):fd(r,d):u},resolve(v){return f||u||v&&!Vn(t.method)&&(r.route.lazy||r.route.loader)?tI({request:t,match:r,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:v,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function Sa(n,e,t,r,s,a,u,d=null){return r.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:kw(n,e,t,f,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:_p(n,e,t,f,a,u,!0,d))}async function eI(n,e,t,r,s,a){t.some(p=>p._lazyPromises?.middleware)&&await Promise.all(t.map(p=>p._lazyPromises?.middleware));let u={request:e,params:t[0].params,context:s,matches:t},f=await n({...u,fetcherKey:r,unstable_runClientMiddleware:p=>{let v=u,w=!1;return Cw(v,()=>(w=!0,p({...v,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(E,I)=>Iw(E,I,t,w))}});try{await Promise.all(t.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return f}async function tI({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:r,handlerOverride:s,scopedContext:a}){let u,d,f=Vn(n.method),p=f?"action":"loader",v=w=>{let E,I=new Promise((U,H)=>E=H);d=()=>E(),n.signal.addEventListener("abort",d);let P=U=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):w({request:n,params:e.params,context:a},...U!==void 0?[U]:[]),z=(async()=>{try{return{type:"data",result:await(s?s(H=>P(H)):P())}}catch(U){return{type:"error",result:U}}})();return Promise.race([z,I])};try{let w=f?e.route.action:e.route.loader;if(t||r)if(w){let E,[I]=await Promise.all([v(w).catch(P=>{E=P}),t,r]);if(E!==void 0)throw E;u=I}else{await t;let E=f?e.route.action:e.route.loader;if(E)[u]=await Promise.all([v(E),r]);else if(p==="action"){let I=new URL(n.url),P=I.pathname+I.search;throw fr(405,{method:n.method,pathname:P,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)u=await v(w);else{let E=new URL(n.url),I=E.pathname+E.search;throw fr(404,{pathname:I})}}catch(w){return{type:"error",result:w}}finally{d&&n.signal.removeEventListener("abort",d)}return u}async function nI(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function rI(n){let{result:e,type:t}=n;if(Aw(e)){let r;try{r=await nI(e)}catch(s){return{type:"error",error:s}}return t==="error"?{type:"error",error:new hd(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return t==="error"?ev(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new hd(e.init?.status||500,void 0,e.data),statusCode:xa(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:xa(e)?e.status:void 0}:ev(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function iI(n,e,t,r,s){let a=n.headers.get("Location");if(Ke(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zp(a)){let u=r.slice(0,r.findIndex(d=>d.route.id===t)+1);a=yp(new URL(e.url),u,s,a),n.headers.set("Location",a)}return n}function K0(n,e,t){if(Zp(n)){let r=n,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=mr(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function ma(n,e,t,r){let s=n.createURL(xw(e)).toString(),a={signal:t};if(r&&Vn(r.formMethod)){let{formMethod:u,formEncType:d}=r;a.method=u.toUpperCase(),d==="application/json"?(a.headers=new Headers({"Content-Type":d}),a.body=JSON.stringify(r.json)):d==="text/plain"?a.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?a.body=wp(r.formData):a.body=r.formData}return new Request(s,a)}function wp(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function Q0(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function sI(n,e,t,r=!1,s=!1){let a={},u=null,d,f=!1,p={},v=t&&qn(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let E=w.route.id,I=e[E];if(Ke(!vo(I),"Cannot handle redirect results in processLoaderData"),qn(I)){let P=I.error;if(v!==void 0&&(P=v,v=void 0),u=u||{},s)u[E]=P;else{let z=Ss(n,E);u[z.route.id]==null&&(u[z.route.id]=P)}r||(a[E]=Ew),f||(f=!0,d=xa(I.error)?I.error.status:500),I.headers&&(p[E]=I.headers)}else a[E]=I.data,I.statusCode&&I.statusCode!==200&&!f&&(d=I.statusCode),I.headers&&(p[E]=I.headers)}),v!==void 0&&t&&(u={[t[0]]:v},t[2]&&(a[t[2]]=void 0)),{loaderData:a,errors:u,statusCode:d||200,loaderHeaders:p}}function Y0(n,e,t,r,s,a){let{loaderData:u,errors:d}=sI(e,t,r);return s.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:v,controller:w}=f;if(w&&w.signal.aborted)return;let E=a[p];if(Ke(E,"Did not find corresponding fetcher result"),qn(E)){let I=Ss(n.matches,v?.route.id);d&&d[I.route.id]||(d={...d,[I.route.id]:E.error}),n.fetchers.delete(p)}else if(vo(E))Ke(!1,"Unhandled fetcher revalidation redirect");else{let I=Es(E.data);n.fetchers.set(p,I)}}),{loaderData:u,errors:d}}function J0(n,e,t,r){let s=Object.entries(e).filter(([,a])=>a!==Ew).reduce((a,[u,d])=>(a[u]=d,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function X0(n){return n?qn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ss(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Z0(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(n,{pathname:e,routeId:t,method:r,type:s,message:a}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(u="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",d=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new hd(n||500,u,new Error(d),!0)}function jc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(vo(s))return{key:r,result:s}}}function xw(n){let e=typeof n=="string"?Gs(n):n;return Vs({...e,hash:""})}function oI(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function aI(n){return Aw(n.result)&&BS.has(n.result.status)}function qn(n){return n.type==="error"}function vo(n){return(n&&n.type)==="redirect"}function ev(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Aw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function lI(n){return $S.has(n.toUpperCase())}function Vn(n){return jS.has(n.toUpperCase())}function em(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Xc(n,e){let t=typeof e=="string"?Gs(e).search:e.search;if(n[n.length-1].route.index&&em(t||""))return n[n.length-1];let r=vw(n);return r[r.length-1]}function tv(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:a,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Xf(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function uI(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Dl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function cI(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Es(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function dI(n,e){try{let t=n.sessionStorage.getItem(ww);if(t){let r=JSON.parse(t);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function hI(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(ww,JSON.stringify(t))}catch(r){Nt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function fI(){let n,e,t=new Promise((r,s)=>{n=async a=>{r(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Ao=O.createContext(null);Ao.displayName="DataRouter";var hu=O.createContext(null);hu.displayName="DataRouterState";O.createContext(!1);var tm=O.createContext({isTransitioning:!1});tm.displayName="ViewTransition";var Pw=O.createContext(new Map);Pw.displayName="Fetchers";var pI=O.createContext(null);pI.displayName="Await";var Mr=O.createContext(null);Mr.displayName="Navigation";var zd=O.createContext(null);zd.displayName="Location";var Or=O.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var nm=O.createContext(null);nm.displayName="RouteError";function mI(n,{relative:e}={}){Ke(Ua(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Mr),{hash:s,pathname:a,search:u}=fu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:ii([t,a])),r.createHref({pathname:d,search:u,hash:s})}function Ua(){return O.useContext(zd)!=null}function hi(){return Ke(Ua(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(zd).location}var bw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Dw(n){O.useContext(Mr).static||O.useLayoutEffect(n)}function rm(){let{isDataRoute:n}=O.useContext(Or);return n?kI():gI()}function gI(){Ke(Ua(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(Ao),{basename:e,navigator:t}=O.useContext(Mr),{matches:r}=O.useContext(Or),{pathname:s}=hi(),a=JSON.stringify(Ud(r)),u=O.useRef(!1);return Dw(()=>{u.current=!0}),O.useCallback((f,p={})=>{if(Nt(u.current,bw),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=jd(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ii([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}O.createContext(null);function im(){let{matches:n}=O.useContext(Or),e=n[n.length-1];return e?e.params:{}}function fu(n,{relative:e}={}){let{matches:t}=O.useContext(Or),{pathname:r}=hi(),s=JSON.stringify(Ud(t));return O.useMemo(()=>jd(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function yI(n,e){return Nw(n)}function Nw(n,e,t,r){Ke(Ua(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Mr),{matches:a}=O.useContext(Or),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let H=v&&v.path||"";Mw(f,!v||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let w=hi(),E;E=w;let I=E.pathname||"/",P=I;if(p!=="/"){let H=p.replace(/^\//,"").split("/");P="/"+I.replace(/^\//,"").split("/").slice(H.length).join("/")}let z=Ts(n,{pathname:P});return Nt(v||z!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Nt(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),TI(z&&z.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:ii([p,s.encodeLocation?s.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?p:ii([p,s.encodeLocation?s.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),a,t,r)}function vI(){let n=Lw(),e=xa(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,u)}var _I=O.createElement(vI,null),wI=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(Or.Provider,{value:this.props.routeContext},O.createElement(nm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EI({routeContext:n,match:e,children:t}){let r=O.useContext(Ao);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Or.Provider,{value:n},t)}function TI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);Ke(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:v,errors:w}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let w,E=!1,I=null,P=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||_I,u&&(d<0&&v===0?(Mw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):d===v&&(E=!0,P=p.route.hydrateFallbackElement||null)));let z=e.concat(s.slice(0,v+1)),U=()=>{let H;return w?H=I:E?H=P:p.route.Component?H=O.createElement(p.route.Component,null):p.route.element?H=p.route.element:H=f,O.createElement(EI,{match:p,routeContext:{outlet:f,matches:z,isDataRoute:t!=null},children:H})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?O.createElement(wI,{location:t.location,revalidation:t.revalidation,component:I,error:w,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):U()},null)}function sm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SI(n){let e=O.useContext(Ao);return Ke(e,sm(n)),e}function II(n){let e=O.useContext(hu);return Ke(e,sm(n)),e}function CI(n){let e=O.useContext(Or);return Ke(e,sm(n)),e}function om(n){let e=CI(n),t=e.matches[e.matches.length-1];return Ke(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function RI(){return om("useRouteId")}function Lw(){let n=O.useContext(nm),e=II("useRouteError"),t=om("useRouteError");return n!==void 0?n:e.errors?.[t]}function kI(){let{router:n}=SI("useNavigate"),e=om("useNavigate"),t=O.useRef(!1);return Dw(()=>{t.current=!0}),O.useCallback(async(s,a={})=>{Nt(t.current,bw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var nv={};function Mw(n,e,t){!e&&!nv[n]&&(nv[n]=!0,Nt(!1,t))}var rv={};function iv(n,e){!n&&!rv[e]&&(rv[e]=!0,console.warn(e))}function xI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Nt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:O.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Nt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:O.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Nt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:O.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var AI=["HydrateFallback","hydrateFallbackElement"],PI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function bI({router:n,flushSync:e}){let[t,r]=O.useState(n.state),[s,a]=O.useState(),[u,d]=O.useState({isTransitioning:!1}),[f,p]=O.useState(),[v,w]=O.useState(),[E,I]=O.useState(),P=O.useRef(new Map),z=O.useCallback((Z,{deletedFetchers:se,flushSync:he,viewTransitionOpts:F})=>{Z.fetchers.forEach((R,k)=>{R.data!==void 0&&P.current.set(k,R.data)}),se.forEach(R=>P.current.delete(R)),iv(he===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(iv(F==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!A){e&&he?e(()=>r(Z)):O.startTransition(()=>r(Z));return}if(e&&he){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let R=n.window.document.startViewTransition(()=>{e(()=>r(Z))});R.finished.finally(()=>{e(()=>{p(void 0),w(void 0),a(void 0),d({isTransitioning:!1})})}),e(()=>w(R));return}v?(f&&f.resolve(),v.skipTransition(),I({state:Z,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(a(Z),d({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,e,v,f]);O.useLayoutEffect(()=>n.subscribe(z),[n,z]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new PI)},[u]),O.useEffect(()=>{if(f&&s&&n.window){let Z=s,se=f.promise,he=n.window.document.startViewTransition(async()=>{O.startTransition(()=>r(Z)),await se});he.finished.finally(()=>{p(void 0),w(void 0),a(void 0),d({isTransitioning:!1})}),w(he)}},[s,f,n.window]),O.useEffect(()=>{f&&s&&t.location.key===s.location.key&&f.resolve()},[f,v,t.location,s]),O.useEffect(()=>{!u.isTransitioning&&E&&(a(E.state),d({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),I(void 0))},[u.isTransitioning,E]);let U=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Z=>n.navigate(Z),push:(Z,se,he)=>n.navigate(Z,{state:se,preventScrollReset:he?.preventScrollReset}),replace:(Z,se,he)=>n.navigate(Z,{replace:!0,state:se,preventScrollReset:he?.preventScrollReset})}),[n]),H=n.basename||"/",J=O.useMemo(()=>({router:n,navigator:U,static:!1,basename:H}),[n,U,H]);return O.createElement(O.Fragment,null,O.createElement(Ao.Provider,{value:J},O.createElement(hu.Provider,{value:t},O.createElement(Pw.Provider,{value:P.current},O.createElement(tm.Provider,{value:u},O.createElement(LI,{basename:H,location:t.location,navigationType:t.historyAction,navigator:U},O.createElement(DI,{routes:n.routes,future:n.future,state:t})))))),null)}var DI=O.memo(NI);function NI({routes:n,future:e,state:t}){return Nw(n,void 0,t,e)}function pd({to:n,replace:e,state:t,relative:r}){Ke(Ua(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Mr);Nt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Or),{pathname:u}=hi(),d=rm(),f=jd(n,Ud(a),u,r==="path"),p=JSON.stringify(f);return O.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function LI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){Ke(!Ua(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Gs(t));let{pathname:f="/",search:p="",hash:v="",state:w=null,key:E="default"}=t,I=O.useMemo(()=>{let P=mr(f,u);return P==null?null:{location:{pathname:P,search:p,hash:v,state:w,key:E},navigationType:r}},[u,f,p,v,w,E,r]);return Nt(I!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(Mr.Provider,{value:d},O.createElement(zd.Provider,{children:e,value:I}))}var Zc="get",ed="application/x-www-form-urlencoded";function $d(n){return n!=null&&typeof n.tagName=="string"}function MI(n){return $d(n)&&n.tagName.toLowerCase()==="button"}function OI(n){return $d(n)&&n.tagName.toLowerCase()==="form"}function VI(n){return $d(n)&&n.tagName.toLowerCase()==="input"}function FI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UI(n,e){return n.button===0&&(!e||e==="_self")&&!FI(n)}function Ep(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function jI(n,e){let t=Ep(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(a=>{t.append(s,a)})}),t}var zc=null;function zI(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var $I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zf(n){return n!=null&&!$I.has(n)?(Nt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ed}"`),null):n}function BI(n,e){let t,r,s,a,u;if(OI(n)){let d=n.getAttribute("action");r=d?mr(d,e):null,t=n.getAttribute("method")||Zc,s=Zf(n.getAttribute("enctype"))||ed,a=new FormData(n)}else if(MI(n)||VI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?mr(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Zc,s=Zf(n.getAttribute("formenctype"))||Zf(d.getAttribute("enctype"))||ed,a=new FormData(d,n),!zI()){let{name:p,type:v,value:w}=n;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if($d(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zc,r=null,s=ed,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function am(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function GI(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&mr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function HI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function qI(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await HI(a,t);return u.links?u.links():[]}return[]}));return JI(r.flat(1).filter(WI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sv(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function KI(n,e,{includeHydrateFallback:t}={}){return QI(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function QI(n){return[...new Set(n)]}function YI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function JI(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(YI(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function Ow(){let n=O.useContext(Ao);return am(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XI(){let n=O.useContext(hu);return am(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var lm=O.createContext(void 0);lm.displayName="FrameworkContext";function Vw(){let n=O.useContext(lm);return am(n,"You must render this element inside a <HydratedRouter> element"),n}function ZI(n,e){let t=O.useContext(lm),[r,s]=O.useState(!1),[a,u]=O.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,E=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let z=H=>{H.forEach(J=>{u(J.isIntersecting)})},U=new IntersectionObserver(z,{threshold:.5});return E.current&&U.observe(E.current),()=>{U.disconnect()}}},[n]),O.useEffect(()=>{if(r){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[r]);let I=()=>{s(!0)},P=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Nl(d,I),onBlur:Nl(f,P),onMouseEnter:Nl(p,I),onMouseLeave:Nl(v,P),onTouchStart:Nl(w,I)}]:[!1,E,{}]}function Nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eC({page:n,...e}){let{router:t}=Ow(),r=O.useMemo(()=>Ts(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(nC,{page:n,matches:r,...e}):null}function tC(n){let{manifest:e,routeModules:t}=Vw(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return qI(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function nC({page:n,matches:e,...t}){let r=hi(),{manifest:s,routeModules:a}=Vw(),{basename:u}=Ow(),{loaderData:d,matches:f}=XI(),p=O.useMemo(()=>sv(n,e,f,s,r,"data"),[n,e,f,s,r]),v=O.useMemo(()=>sv(n,e,f,s,r,"assets"),[n,e,f,s,r]),w=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let P=new Set,z=!1;if(e.forEach(H=>{let J=s.routes[H.route.id];!J||!J.hasLoader||(!p.some(Z=>Z.route.id===H.route.id)&&H.route.id in d&&a[H.route.id]?.shouldRevalidate||J.hasClientLoader?z=!0:P.add(H.route.id))}),P.size===0)return[];let U=GI(n,u,"data");return z&&P.size>0&&U.searchParams.set("_routes",e.filter(H=>P.has(H.route.id)).map(H=>H.route.id).join(",")),[U.pathname+U.search]},[u,d,r,s,p,e,n,a]),E=O.useMemo(()=>KI(v,s),[v,s]),I=tC(v);return O.createElement(O.Fragment,null,w.map(P=>O.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),E.map(P=>O.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),I.map(({key:P,link:z})=>O.createElement("link",{key:P,nonce:t.nonce,...z})))}function rC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fw&&(window.__reactRouterVersion="7.8.1")}catch{}function ov(n,e){return KS({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:fS({window:e?.window}),hydrationData:iC(),routes:n,mapRouteProperties:xI,hydrationRouteProperties:AI,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function iC(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:sC(n.errors)}),n}function sC(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new hd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let u=new a(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(s.message);a.stack="",t[r]=a}}else t[r]=s;return t}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mi=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:v,viewTransition:w,...E},I){let{basename:P}=O.useContext(Mr),z=typeof p=="string"&&Uw.test(p),U,H=!1;if(typeof p=="string"&&z&&(U=p,Fw))try{let k=new URL(window.location.href),b=p.startsWith("//")?new URL(k.protocol+p):new URL(p),L=mr(b.pathname,P);b.origin===k.origin&&L!=null?p=L+b.search+b.hash:H=!0}catch{Nt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=mI(p,{relative:s}),[Z,se,he]=ZI(r,E),F=uC(p,{replace:u,state:d,target:f,preventScrollReset:v,relative:s,viewTransition:w});function A(k){e&&e(k),k.defaultPrevented||F(k)}let R=O.createElement("a",{...E,...he,href:U||J,onClick:H||a?e:A,ref:rC(I,se),target:f,"data-discover":!z&&t==="render"?"true":void 0});return Z&&!z?O.createElement(O.Fragment,null,R,O.createElement(eC,{page:J})):R});Mi.displayName="Link";var oC=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...p},v){let w=fu(u,{relative:p.relative}),E=hi(),I=O.useContext(hu),{navigator:P,basename:z}=O.useContext(Mr),U=I!=null&&pC(w)&&d===!0,H=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,J=E.pathname,Z=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(J=J.toLowerCase(),Z=Z?Z.toLowerCase():null,H=H.toLowerCase()),Z&&z&&(Z=mr(Z,z)||Z);const se=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let he=J===H||!s&&J.startsWith(H)&&J.charAt(se)==="/",F=Z!=null&&(Z===H||!s&&Z.startsWith(H)&&Z.charAt(H.length)==="/"),A={isActive:he,isPending:F,isTransitioning:U},R=he?e:void 0,k;typeof r=="function"?k=r(A):k=[r,he?"active":null,F?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(A):a;return O.createElement(Mi,{...p,"aria-current":R,className:k,ref:v,style:b,to:u,viewTransition:d},typeof f=="function"?f(A):f)});oC.displayName="NavLink";var aC=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Zc,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:w,...E},I)=>{let P=hC(),z=fC(d,{relative:p}),U=u.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&Uw.test(d),J=Z=>{if(f&&f(Z),Z.defaultPrevented)return;Z.preventDefault();let se=Z.nativeEvent.submitter,he=se?.getAttribute("formmethod")||u;P(se||Z.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return O.createElement("form",{ref:I,method:U,action:z,onSubmit:r?f:J,...E,"data-discover":!H&&n==="render"?"true":void 0})});aC.displayName="Form";function lC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jw(n){let e=O.useContext(Ao);return Ke(e,lC(n)),e}function uC(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=rm(),f=hi(),p=fu(n,{relative:a});return O.useCallback(v=>{if(UI(v,e)){v.preventDefault();let w=t!==void 0?t:Vs(f)===Vs(p);d(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,p,t,r,e,n,s,a,u])}function j4(n){Nt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(Ep(n)),t=O.useRef(!1),r=hi(),s=O.useMemo(()=>jI(r.search,t.current?null:e.current),[r.search]),a=rm(),u=O.useCallback((d,f)=>{const p=Ep(typeof d=="function"?d(new URLSearchParams(s)):d);t.current=!0,a("?"+p,f)},[a,s]);return[s,u]}var cC=0,dC=()=>`__${String(++cC)}__`;function hC(){let{router:n}=jw("useSubmit"),{basename:e}=O.useContext(Mr),t=RI();return O.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=BI(r,e);if(s.navigate===!1){let v=s.fetcherKey||dC();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function fC(n,{relative:e}={}){let{basename:t}=O.useContext(Mr),r=O.useContext(Or);Ke(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...fu(n||".",{relative:e})},u=hi();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ii([t,a.pathname])),Vs(a)}function pC(n,{relative:e}={}){let t=O.useContext(tm);Ke(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jw("useViewTransitionState"),s=fu(n,{relative:e});if(!t.isTransitioning)return!1;let a=mr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=mr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return dd(s.pathname,u)!=null||dd(s.pathname,a)!=null}var mC=ow();function av(n){return O.createElement(bI,{flushSync:mC.flushSync,...n})}const So=["zh-TW","en-US","es-MX","pt-BR","ja-JP","ko-KR","fr-FR","de-DE","it-IT","id-ID","vi-VN","th-TH","ru-RU","ar-SA","fil-PH","nl-NL","pl-PL","sv-SE","nb-NO","da-DK","fi-FI","ro-RO","el-GR","cs-CZ","hu-HU","uk-UA","ms-MY","hi-IN","bn-BD","he-IL","fa-IR","ur-PK","tr-TR","zh-CN"],Oi="zh-TW";function gC(n){const e=String(n||"").toLowerCase();return e.startsWith("ar")||e.startsWith("he")||e.startsWith("fa")||e.startsWith("ur")}const yC=(n,e,t,r)=>{const s=[t,{code:e,...r||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);Eo(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...s):console?.warn&&console.warn(...s)},lv={},Tp=(n,e,t,r)=>{Eo(t)&&lv[t]||(Eo(t)&&(lv[t]=new Date),yC(n,e,t,r))},zw=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Sp=(n,e,t)=>{n.loadNamespaces(e,zw(n,t))},uv=(n,e,t,r)=>{if(Eo(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Sp(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,zw(n,r))},vC=(n,e,t={})=>!e.languages||!e.languages.length?(Tp(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),Eo=n=>typeof n=="string",_C=n=>typeof n=="object"&&n!==null,wC=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,EC={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},TC=n=>EC[n],SC=n=>n.replace(wC,TC);let Ip={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:SC};const IC=(n={})=>{Ip={...Ip,...n}},CC=()=>Ip;let $w;const RC=n=>{$w=n},kC=()=>$w,xC={type:"3rdParty",init(n){IC(n.options.react),RC(n)}},AC=O.createContext();class PC{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const bC=(n,e)=>{const t=O.useRef();return O.useEffect(()=>{t.current=n},[n,e]),t.current},Bw=(n,e,t,r)=>n.getFixedT(e,t,r),DC=(n,e,t,r)=>O.useCallback(Bw(n,e,t,r),[n,e,t,r]),pu=(n,e={})=>{const{i18n:t}=e,{i18n:r,defaultNS:s}=O.useContext(AC)||{},a=t||r||kC();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new PC),!a){Tp(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const se=(F,A)=>Eo(A)?A:_C(A)&&Eo(A.defaultValue)?A.defaultValue:Array.isArray(F)?F[F.length-1]:F,he=[se,{},!1];return he.t=se,he.i18n={},he.ready=!1,he}a.options.react?.wait&&Tp(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...CC(),...a.options.react,...e},{useSuspense:d,keyPrefix:f}=u;let p=s||a.options?.defaultNS;p=Eo(p)?[p]:p||["translation"],a.reportNamespaces.addUsedNamespaces?.(p);const v=(a.isInitialized||a.initializedStoreOnce)&&p.every(se=>vC(se,a,u)),w=DC(a,e.lng||null,u.nsMode==="fallback"?p:p[0],f),E=()=>w,I=()=>Bw(a,e.lng||null,u.nsMode==="fallback"?p:p[0],f),[P,z]=O.useState(E);let U=p.join();e.lng&&(U=`${e.lng}${U}`);const H=bC(U),J=O.useRef(!0);O.useEffect(()=>{const{bindI18n:se,bindI18nStore:he}=u;J.current=!0,!v&&!d&&(e.lng?uv(a,e.lng,p,()=>{J.current&&z(I)}):Sp(a,p,()=>{J.current&&z(I)})),v&&H&&H!==U&&J.current&&z(I);const F=()=>{J.current&&z(I)};return se&&a?.on(se,F),he&&a?.store.on(he,F),()=>{J.current=!1,a&&se&&se?.split(" ").forEach(A=>a.off(A,F)),he&&a&&he.split(" ").forEach(A=>a.store.off(A,F))}},[a,U]),O.useEffect(()=>{J.current&&v&&z(E)},[a,f,v]);const Z=[P,a,v];if(Z.t=P,Z.i18n=a,Z.ready=v,v||!v&&!d)return Z;throw new Promise(se=>{e.lng?uv(a,e.lng,p,()=>se()):Sp(a,p,()=>se())})},NC={sm:{height:36,padding:"0 12px",fontSize:14,borderRadius:8},md:{height:44,padding:"0 16px",fontSize:16,borderRadius:12},lg:{height:52,padding:"0 20px",fontSize:18,borderRadius:16}};function Cp({children:n,variant:e="primary",size:t="md",disabled:r,className:s,style:a,...u}){const d={display:"inline-flex",alignItems:"center",justifyContent:"center",borderWidth:1,borderStyle:"solid",borderColor:"transparent",cursor:r?"not-allowed":"pointer",opacity:r?.5:1,boxShadow:"0 1px 2px rgba(0,0,0,.06), 0 2px 8px rgba(0,0,0,.04)",...NC[t]},f={background:"#15803d",color:"#fff",fontWeight:600},p={background:"#fff",color:"#15803d",borderColor:"#15803d"};return Q.jsx("button",{...u,className:(s?s+" ":"")+"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400 rounded-[12px] hover:brightness-110 active:brightness-95",style:{...d,...e==="primary"?f:p,...a||{}},children:n})}const LC=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},MC=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,I=p&63;f||(I=64,u||(E=64)),r.push(t[v],t[w],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Gw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||w==null)throw new OC;const E=a<<2|d>>4;if(r.push(E),p!==64){const I=d<<4&240|p>>2;if(r.push(I),w!==64){const P=p<<6&192|w;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VC=function(n){const e=Gw(n);return Hw.encodeByteArray(e,!0)},md=function(n){return VC(n).replace(/\./g,"")},Ww=function(n){try{return Hw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=()=>FC().__FIREBASE_DEFAULTS__,jC=()=>{if(typeof process>"u"||typeof cv>"u")return;const n=cv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ww(n[1]);return e&&JSON.parse(e)},Bd=()=>{try{return LC()||UC()||jC()||zC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qw=n=>Bd()?.emulatorHosts?.[n],$C=n=>{const e=qw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Kw=()=>Bd()?.config,Qw=n=>Bd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Yw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[md(JSON.stringify(t)),md(JSON.stringify(u)),""].join(".")}const jl={};function HC(){const n={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?n.emulator.push(e):n.prod.push(e);return n}function WC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dv=!1;function Jw(n,e){if(typeof window>"u"||typeof document>"u"||!ja(window.location.host)||jl[n]===e||jl[n]||dv)return;jl[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=HC().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{dv=!0,u()},E}function v(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=WC(r),I=t("text"),P=document.getElementById(I)||document.createElement("span"),z=t("learnmore"),U=document.getElementById(z)||document.createElement("a"),H=t("preprendIcon"),J=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Z=E.element;d(Z),v(U,z);const se=p();f(J,H),Z.append(J,P,U,se),document.body.appendChild(Z)}a?(P.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function KC(){const n=Bd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XC(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZC(){return!KC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eR(){try{return typeof indexedDB=="object"}catch{return!1}}function tR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FirebaseError";class Bi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nR,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?rR(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Bi(s,d,r)}}function rR(n,e){return n.replace(iR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iR=/\{\$([^}]+)}/g;function sR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Io(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(hv(a)&&hv(u)){if(!Io(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function hv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oR(n,e){const t=new aR(n,e);return t.subscribe.bind(t)}class aR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lR(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ep),s.error===void 0&&(s.error=ep),s.complete===void 0&&(s.complete=ep);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n){return n&&n._delegate?n._delegate:n}class Co{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new BC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dR(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(n){return n===yo?void 0:n}function dR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const fR={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},pR=Qe.INFO,mR={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},gR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=mR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let um=class{constructor(e){this.name=e,this._logLevel=pR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}};const yR=(n,e)=>e.some(t=>n instanceof t);let fv,pv;function vR(){return fv||(fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xw=new WeakMap,Rp=new WeakMap,Zw=new WeakMap,tp=new WeakMap,cm=new WeakMap;function wR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ps(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Xw.set(t,n)}).catch(()=>{}),cm.set(e,n),e}function ER(n){if(Rp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Rp.set(n,e)}let kp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Zw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function TR(n){kp=n(kp)}function SR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(np(this),e,...t);return Zw.set(r,e.sort?e.sort():[e]),Ps(r)}:_R().includes(n)?function(...e){return n.apply(np(this),e),Ps(Xw.get(this))}:function(...e){return Ps(n.apply(np(this),e))}}function IR(n){return typeof n=="function"?SR(n):(n instanceof IDBTransaction&&ER(n),yR(n,vR())?new Proxy(n,kp):n)}function Ps(n){if(n instanceof IDBRequest)return wR(n);if(tp.has(n))return tp.get(n);const e=IR(n);return e!==n&&(tp.set(n,e),cm.set(e,n)),e}const np=n=>cm.get(n);function CR(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Ps(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ps(u.result),f.oldVersion,f.newVersion,Ps(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const RR=["get","getKey","getAll","getAllKeys","count"],kR=["put","add","delete","clear"],rp=new Map;function mv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=kR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RR.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return rp.set(e,a),a}TR(n=>({...n,get:(e,t,r)=>mv(e,t)||n.get(e,t,r),has:(e,t)=>!!mv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function AR(n){return n.getComponent()?.type==="VERSION"}const xp="@firebase/app",gv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new um("@firebase/app"),PR="@firebase/app-compat",bR="@firebase/analytics-compat",DR="@firebase/analytics",NR="@firebase/app-check-compat",LR="@firebase/app-check",MR="@firebase/auth",OR="@firebase/auth-compat",VR="@firebase/database",FR="@firebase/data-connect",UR="@firebase/database-compat",jR="@firebase/functions",zR="@firebase/functions-compat",$R="@firebase/installations",BR="@firebase/installations-compat",GR="@firebase/messaging",HR="@firebase/messaging-compat",WR="@firebase/performance",qR="@firebase/performance-compat",KR="@firebase/remote-config",QR="@firebase/remote-config-compat",YR="@firebase/storage",JR="@firebase/storage-compat",XR="@firebase/firestore",ZR="@firebase/ai",ek="@firebase/firestore-compat",tk="firebase",nk="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",rk={[xp]:"fire-core",[PR]:"fire-core-compat",[DR]:"fire-analytics",[bR]:"fire-analytics-compat",[LR]:"fire-app-check",[NR]:"fire-app-check-compat",[MR]:"fire-auth",[OR]:"fire-auth-compat",[VR]:"fire-rtdb",[FR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[jR]:"fire-fn",[zR]:"fire-fn-compat",[$R]:"fire-iid",[BR]:"fire-iid-compat",[GR]:"fire-fcm",[HR]:"fire-fcm-compat",[WR]:"fire-perf",[qR]:"fire-perf-compat",[KR]:"fire-rc",[QR]:"fire-rc-compat",[YR]:"fire-gcs",[JR]:"fire-gcs-compat",[XR]:"fire-fst",[ek]:"fire-fst-compat",[ZR]:"fire-vertex","fire-js":"fire-js",[tk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=new Map,ik=new Map,Pp=new Map;function yv(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Aa(n){const e=n.name;if(Pp.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,n);for(const t of Jl.values())yv(t,n);for(const t of ik.values())yv(t,n);return!0}function dm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new mu("app","Firebase",sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=nk;function e1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ap,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw bs.create("bad-app-name",{appName:String(s)});if(t||(t=Kw()),!t)throw bs.create("no-options");const a=Jl.get(s);if(a){if(Io(t,a.options)&&Io(r,a.config))return a;throw bs.create("duplicate-app",{appName:s})}const u=new hR(s);for(const f of Pp.values())u.addComponent(f);const d=new ok(t,r,u);return Jl.set(s,d),d}function hm(n=Ap){const e=Jl.get(n);if(!e&&n===Ap&&Kw())return e1();if(!e)throw bs.create("no-app",{appName:n});return e}function ak(){return Array.from(Jl.values())}function Ds(n,e,t){let r=rk[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(u.join(" "));return}Aa(new Co(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="firebase-heartbeat-database",uk=1,Xl="firebase-heartbeat-store";let ip=null;function t1(){return ip||(ip=CR(lk,uk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),ip}async function ck(n){try{const t=(await t1()).transaction(Xl),r=await t.objectStore(Xl).get(n1(n));return await t.done,r}catch(e){if(e instanceof Bi)Ui.warn(e.message);else{const t=bs.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}}async function vv(n,e){try{const r=(await t1()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,n1(n)),await r.done}catch(t){if(t instanceof Bi)Ui.warn(t.message);else{const r=bs.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(r.message)}}}function n1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=1024,hk=30;class fk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>hk){const s=gk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_v(),{heartbeatsToSend:t,unsentEntries:r}=pk(this._heartbeatsCache.heartbeats),s=md(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ui.warn(e),""}}}function _v(){return new Date().toISOString().substring(0,10)}function pk(n,e=dk){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),wv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),wv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class mk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eR()?tR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ck(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wv(n){return md(JSON.stringify({version:2,heartbeats:n})).length}function gk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(n){Aa(new Co("platform-logger",e=>new xR(e),"PRIVATE")),Aa(new Co("heartbeat",e=>new fk(e),"PRIVATE")),Ds(xp,gv,n),Ds(xp,gv,"esm2020"),Ds("fire-js","")}yk("");function r1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vk=r1,i1=new mu("auth","Firebase",r1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new um("@firebase/auth");function _k(n,...e){gd.logLevel<=Qe.WARN&&gd.warn(`Auth (${za}): ${n}`,...e)}function td(n,...e){gd.logLevel<=Qe.ERROR&&gd.error(`Auth (${za}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(n,...e){throw pm(n,...e)}function br(n,...e){return pm(n,...e)}function fm(n,e,t){const r={...vk(),[e]:t};return new mu("auth","Firebase",r).create(e,{appName:n.name})}function Ns(n){return fm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s1(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ci(n,"argument-error"),fm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return i1.create(n,...e)}function Ue(n,e,...t){if(!n)throw pm(e,...t)}function Vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw td(e),new Error(e)}function ji(n,e){n||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(){return typeof self<"u"&&self.location?.href||""}function wk(){return Ev()==="http:"||Ev()==="https:"}function Ev(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wk()||YC()||"connection"in navigator)?navigator.onLine:!0}function Tk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ji(t>e,"Short delay should be less than long delay!"),this.isMobile=qC()||JC()}get(){return Ek()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(n,e){ji(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ck=new yu(3e4,6e4);function gm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $a(n,e,t,r,s={}){return a1(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=gu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return QC()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&ja(n.emulatorConfig.host)&&(p.credentials="include"),o1.fetch()(await l1(n,n.config.apiHost,t,d),p)})}async function a1(n,e,t){n._canInitEmulator=!1;const r={...Sk,...e};try{const s=new kk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw $c(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw $c(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw $c(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw fm(n,v,p);ci(n,v)}}catch(s){if(s instanceof Bi)throw s;ci(n,"network-request-failed",{message:String(s)})}}async function Rk(n,e,t,r,s={}){const a=await $a(n,e,t,r,s);return"mfaPendingCredential"in a&&ci(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function l1(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?mm(n.config,s):`${n.config.apiScheme}://${s}`;return Ik.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class kk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),Ck.get())})}}function $c(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=br(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(n,e){return $a(n,"POST","/v1/accounts:delete",e)}async function yd(n,e){return $a(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ak(n,e=!1){const t=Lt(n),r=await t.getIdToken(e),s=ym(r);Ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:zl(sp(s.auth_time)),issuedAtTime:zl(sp(s.iat)),expirationTime:zl(sp(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function sp(n){return Number(n)*1e3}function ym(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ww(t);return s?JSON.parse(s):(td("Failed to decode base64 JWT payload"),null)}catch(s){return td("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Tv(n){const e=ym(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Bi&&Pk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Pk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(n){const e=n.auth,t=await n.getIdToken(),r=await Zl(n,yd(e,{idToken:t}));Ue(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?u1(s.providerUserInfo):[],u=Nk(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,p=d?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Dp(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function Dk(n){const e=Lt(n);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function u1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(n,e){const t=await a1(n,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await l1(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&ja(n.emulatorConfig.host)&&(f.credentials="include"),o1.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Mk(n,e){return $a(n,"POST","/v2/accounts:revokeToken",gm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=Tv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await Lk(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new Ia;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ia,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Pr{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new bk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Dp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ak(this,e)}reload(){return Dk(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Zl(this,xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:I,providerData:P,stsTokenManager:z}=t;Ue(w&&z,e,"internal-error");const U=Ia.fromJSON(this.name,z);Ue(typeof w=="string",e,"internal-error"),ws(r,e.name),ws(s,e.name),Ue(typeof E=="boolean",e,"internal-error"),Ue(typeof I=="boolean",e,"internal-error"),ws(a,e.name),ws(u,e.name),ws(d,e.name),ws(f,e.name),ws(p,e.name),ws(v,e.name);const H=new Pr({uid:w,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:I,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:U,createdAt:p,lastLoginAt:v});return P&&Array.isArray(P)&&(H.providerData=P.map(J=>({...J}))),f&&(H._redirectEventId=f),H}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ia;s.updateFromServerResponse(t);const a=new Pr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ue(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?u1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,d=new Ia;d.updateFromIdToken(r);const f=new Pr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Dp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;function Fi(n){ji(n instanceof Function,"Expected a class definition");let e=Sv.get(n);return e?(ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Sv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}c1.type="NONE";const Iv=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ca{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=nd(this.userKey,s.apiKey,a),this.fullPersistenceKey=nd("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yd(this.auth,{idToken:e}).catch(()=>{});return t?Pr._fromGetAccountInfoResponse(this.auth,t,e):null}return Pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ca(Fi(Iv),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Fi(Iv);const u=nd(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(u);if(v){let w;if(typeof v=="string"){const E=await yd(e,{idToken:v}).catch(()=>{});if(!E)break;w=await Pr._fromGetAccountInfoResponse(e,E,v)}else w=Pr._fromJSON(e,v);p!==a&&(d=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ca(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Ca(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(p1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g1(e))return"Blackberry";if(y1(e))return"Webos";if(h1(e))return"Safari";if((e.includes("chrome/")||f1(e))&&!e.includes("edge/"))return"Chrome";if(m1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function d1(n=yn()){return/firefox\//i.test(n)}function h1(n=yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f1(n=yn()){return/crios\//i.test(n)}function p1(n=yn()){return/iemobile/i.test(n)}function m1(n=yn()){return/android/i.test(n)}function g1(n=yn()){return/blackberry/i.test(n)}function y1(n=yn()){return/webos/i.test(n)}function vm(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ok(n=yn()){return vm(n)&&!!window.navigator?.standalone}function Vk(){return XC()&&document.documentMode===10}function v1(n=yn()){return vm(n)||m1(n)||y1(n)||g1(n)||/windows phone/i.test(n)||p1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(n,e=[]){let t;switch(n){case"Browser":t=Cv(yn());break;case"Worker":t=`${Cv(yn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${za}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(n,e={}){return $a(n,"GET","/v2/passwordPolicy",gm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=6;class zk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??jk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rv(this),this.idTokenSubscription=new Rv(this),this.beforeStateQueue=new Fk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yd(this,{idToken:e}),r=await Pr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(Ns(this));const t=e?Lt(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Uk(this),t=new zk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Mk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fi(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[Fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_k(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ba(n){return Lt(n)}class Rv{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bk(n){_m=n}function Gk(n){return _m.loadJS(n)}function Hk(){return _m.gapiScript}function Wk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n,e){const t=dm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Io(a,e??{}))return s;ci(s,"already-initialized")}return t.initialize({options:e})}function Kk(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Fi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Qk(n,e,t){const r=Ba(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=w1(e),{host:u,port:d}=Yk(e),f=d===null?"":`:${d}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Io(p,r.config.emulator)&&Io(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ja(u)?(Yw(`${a}//${u}${f}`),Jw("Auth",!0)):Jk()}function w1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Yk(n){const e=w1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:kv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:kv(u)}}}function kv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Jk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(n,e){return Rk(n,"POST","/v1/accounts:signInWithIdp",gm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="http://localhost";class Ro extends E1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new Ro(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}buildRequest(){const e={requestUri:Xk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Gd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends vu{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ro._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends vu{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends vu{constructor(){super("twitter.com")}static credential(e,t){return Ro._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Rs.credential(t,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Pr._fromIdTokenResponse(e,r,s),u=xv(r);return new Pa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=xv(r);return new Pa({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function xv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends Bi{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new _d(e,t,r,s)}}function T1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(n,a,e,r):a})}async function Zk(n,e,t=!1){const r=await Zl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(n,e,t=!1){const{auth:r}=n;if(pr(r.app))return Promise.reject(Ns(r));const s="reauthenticate";try{const a=await Zl(n,T1(r,s,e,n),t);Ue(a.idToken,r,"internal-error");const u=ym(a.idToken);Ue(u,r,"internal-error");const{sub:d}=u;return Ue(n.uid===d,r,"user-mismatch"),Pa._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ci(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(n,e,t=!1){if(pr(n.app))return Promise.reject(Ns(n));const r="signIn",s=await T1(n,r,e),a=await Pa._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(n,e){return Lt(n).setPersistence(e)}function nx(n,e,t,r){return Lt(n).onIdTokenChanged(e,t,r)}function rx(n,e,t){return Lt(n).beforeAuthStateChanged(e,t)}function ix(n,e,t,r){return Lt(n).onAuthStateChanged(e,t,r)}function sx(n){return Lt(n).signOut()}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=1e3,ax=10;class C1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=v1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Vk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ax):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ox)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}C1.type="LOCAL";const wm=C1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}R1.type="SESSION";const k1=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await lx(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=Em("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function cx(n){si().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function dx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hx(){return navigator?.serviceWorker?.controller||null}function fx(){return x1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebaseLocalStorageDb",px=1,Ed="firebaseLocalStorage",P1="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wd(n,e){return n.transaction([Ed],e?"readwrite":"readonly").objectStore(Ed)}function mx(){const n=indexedDB.deleteDatabase(A1);return new _u(n).toPromise()}function Np(){const n=indexedDB.open(A1,px);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ed,{keyPath:P1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ed)?e(r):(r.close(),await mx(),e(await Np()))})})}async function Av(n,e,t){const r=Wd(n,!0).put({[P1]:e,value:t});return new _u(r).toPromise()}async function gx(n,e){const t=Wd(n,!1).get(e),r=await new _u(t).toPromise();return r===void 0?null:r.value}function Pv(n,e){const t=Wd(n,!0).delete(e);return new _u(t).toPromise()}const yx=800,vx=3;class b1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>vx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hd._getInstance(fx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dx(),!this.activeServiceWorker)return;this.sender=new ux(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await Av(e,wd,"1"),await Pv(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Av(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>gx(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Pv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Wd(s,!1).getAll();return new _u(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b1.type="LOCAL";const _x=b1;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){return e?Fi(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends E1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wx(n){return tx(n.auth,new Sm(n),n.bypassAuthState)}function Ex(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),ex(t,new Sm(n),n.bypassAuthState)}async function Tx(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),Zk(t,new Sm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wx;case"linkViaPopup":case"linkViaRedirect":return Tx;case"reauthViaPopup":case"reauthViaRedirect":return Ex;default:ci(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new yu(2e3,1e4);async function N1(n,e,t){if(pr(n.app))return Promise.reject(br(n,"operation-not-supported-in-this-environment"));const r=Ba(n);s1(n,e,Gd);const s=Tm(r,t);return new _o(r,"signInViaPopup",e,s).executeNotNull()}class _o extends D1{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sx.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="pendingRedirect",rd=new Map;class Cx extends D1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=rd.get(this.auth._key());if(!e){try{const r=await Rx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rx(n,e){const t=M1(e),r=L1(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function kx(n,e){return L1(n)._set(M1(e),"true")}function xx(n,e){rd.set(n._key(),e)}function L1(n){return Fi(n._redirectPersistence)}function M1(n){return nd(Ix,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n,e,t){return Ax(n,e,t)}async function Ax(n,e,t){if(pr(n.app))return Promise.reject(Ns(n));const r=Ba(n);s1(n,e,Gd),await r._initializationPromise;const s=Tm(r,t);return await kx(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function Px(n,e){return await Ba(n)._initializationPromise,V1(n,e,!1)}async function V1(n,e,t=!1){if(pr(n.app))return Promise.reject(Ns(n));const r=Ba(n),s=Tm(r,e),u=await new Cx(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=600*1e3;class Dx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!F1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(br(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bx&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function F1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Nx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(n,e={}){return $a(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ox=/^https?/;async function Vx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Lx(n);for(const t of e)try{if(Fx(t))return}catch{}ci(n,"unauthorized-domain")}function Fx(n){const e=bp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Ox.test(t))return!1;if(Mx.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new yu(3e4,6e4);function Dv(){const n=si().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jx(n){return new Promise((e,t)=>{function r(){Dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dv(),t(br(n,"network-request-failed"))},timeout:Ux.get()})}if(si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(si().gapi?.load)r();else{const s=Wk("iframefcb");return si()[s]=()=>{gapi.load?r():t(br(n,"network-request-failed"))},Gk(`${Hk()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw id=null,e})}let id=null;function zx(n){return id=id||jx(n),id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new yu(5e3,15e3),Bx="__/auth/iframe",Gx="emulator/auth/iframe",Hx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qx(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mm(e,Gx):`https://${n.config.authDomain}/${Bx}`,r={apiKey:e.apiKey,appName:n.name,v:za},s=Wx.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${gu(r).slice(1)}`}async function Kx(n){const e=await zx(n),t=si().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:qx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hx,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=br(n,"network-request-failed"),d=si().setTimeout(()=>{a(u)},$x.get());function f(){si().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yx=500,Jx=600,Xx="_blank",Zx="http://localhost";class Nv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eA(n,e,t,r=Yx,s=Jx){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Qx,width:r.toString(),height:s.toString(),top:a,left:u},p=yn().toLowerCase();t&&(d=f1(p)?Xx:t),d1(p)&&(e=e||Zx,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[I,P])=>`${E}${I}=${P},`,"");if(Ok(p)&&d!=="_self")return tA(e||"",d),new Nv(null);const w=window.open(e||"",d,v);Ue(w,n,"popup-blocked");try{w.focus()}catch{}return new Nv(w)}function tA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="__/auth/handler",rA="emulator/auth/handler",iA=encodeURIComponent("fac");async function Lv(n,e,t,r,s,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:za,eventId:s};if(e instanceof Gd){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",sR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof vu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),p=f?`#${iA}=${encodeURIComponent(f)}`:"";return`${sA(n)}?${gu(d).slice(1)}${p}`}function sA({config:n}){return n.emulator?mm(n,rA):`https://${n.authDomain}/${nA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="webStorageSupport";class oA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k1,this._completeRedirectFn=V1,this._overrideRedirectResult=xx}async _openPopup(e,t,r,s){ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Lv(e,t,r,bp(),s);return eA(e,a,Em())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Lv(e,t,r,bp(),s);return cx(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ji(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Kx(e),r=new Dx(e);return t.register("authEvent",s=>(Ue(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(op,{type:op},s=>{const a=s?.[0]?.[op];a!==void 0&&t(!!a),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return v1()||h1()||vm()}}const aA=oA;var Mv="@firebase/auth",Ov="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cA(n){Aa(new Co("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_1(n)},p=new $k(r,s,a,f);return Kk(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Aa(new Co("auth-internal",e=>{const t=Ba(e.getProvider("auth").getImmediate());return(r=>new lA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(Mv,Ov,uA(n)),Ds(Mv,Ov,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=300,hA=Qw("authIdTokenMaxAge")||dA;let Vv=null;const fA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>hA)return;const s=t?.token;Vv!==s&&(Vv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pA(n=hm()){const e=dm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qk(n,{popupRedirectResolver:aA,persistence:[_x,wm,k1]}),r=Qw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=fA(a.toString());rx(t,u,()=>u(t.currentUser)),nx(t,d=>u(d))}}const s=qw("auth");return s&&Qk(t,`http://${s}`),t}function mA(){return document.getElementsByTagName("head")?.[0]??document}Bk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=br("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",mA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cA("Browser");var gA="firebase",yA="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(gA,yA,"app");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,U1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function k(){}k.prototype=R.prototype,A.D=R.prototype,A.prototype=new k,A.prototype.constructor=A,A.C=function(b,L,j){for(var C=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)C[ve-2]=arguments[ve];return R.prototype[L].apply(b,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,R,k){k||(k=0);var b=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)b[L]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(L=0;16>L;++L)b[L]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=A.g[0],k=A.g[1],L=A.g[2];var j=A.g[3],C=R+(j^k&(L^j))+b[0]+3614090360&4294967295;R=k+(C<<7&4294967295|C>>>25),C=j+(L^R&(k^L))+b[1]+3905402710&4294967295,j=R+(C<<12&4294967295|C>>>20),C=L+(k^j&(R^k))+b[2]+606105819&4294967295,L=j+(C<<17&4294967295|C>>>15),C=k+(R^L&(j^R))+b[3]+3250441966&4294967295,k=L+(C<<22&4294967295|C>>>10),C=R+(j^k&(L^j))+b[4]+4118548399&4294967295,R=k+(C<<7&4294967295|C>>>25),C=j+(L^R&(k^L))+b[5]+1200080426&4294967295,j=R+(C<<12&4294967295|C>>>20),C=L+(k^j&(R^k))+b[6]+2821735955&4294967295,L=j+(C<<17&4294967295|C>>>15),C=k+(R^L&(j^R))+b[7]+4249261313&4294967295,k=L+(C<<22&4294967295|C>>>10),C=R+(j^k&(L^j))+b[8]+1770035416&4294967295,R=k+(C<<7&4294967295|C>>>25),C=j+(L^R&(k^L))+b[9]+2336552879&4294967295,j=R+(C<<12&4294967295|C>>>20),C=L+(k^j&(R^k))+b[10]+4294925233&4294967295,L=j+(C<<17&4294967295|C>>>15),C=k+(R^L&(j^R))+b[11]+2304563134&4294967295,k=L+(C<<22&4294967295|C>>>10),C=R+(j^k&(L^j))+b[12]+1804603682&4294967295,R=k+(C<<7&4294967295|C>>>25),C=j+(L^R&(k^L))+b[13]+4254626195&4294967295,j=R+(C<<12&4294967295|C>>>20),C=L+(k^j&(R^k))+b[14]+2792965006&4294967295,L=j+(C<<17&4294967295|C>>>15),C=k+(R^L&(j^R))+b[15]+1236535329&4294967295,k=L+(C<<22&4294967295|C>>>10),C=R+(L^j&(k^L))+b[1]+4129170786&4294967295,R=k+(C<<5&4294967295|C>>>27),C=j+(k^L&(R^k))+b[6]+3225465664&4294967295,j=R+(C<<9&4294967295|C>>>23),C=L+(R^k&(j^R))+b[11]+643717713&4294967295,L=j+(C<<14&4294967295|C>>>18),C=k+(j^R&(L^j))+b[0]+3921069994&4294967295,k=L+(C<<20&4294967295|C>>>12),C=R+(L^j&(k^L))+b[5]+3593408605&4294967295,R=k+(C<<5&4294967295|C>>>27),C=j+(k^L&(R^k))+b[10]+38016083&4294967295,j=R+(C<<9&4294967295|C>>>23),C=L+(R^k&(j^R))+b[15]+3634488961&4294967295,L=j+(C<<14&4294967295|C>>>18),C=k+(j^R&(L^j))+b[4]+3889429448&4294967295,k=L+(C<<20&4294967295|C>>>12),C=R+(L^j&(k^L))+b[9]+568446438&4294967295,R=k+(C<<5&4294967295|C>>>27),C=j+(k^L&(R^k))+b[14]+3275163606&4294967295,j=R+(C<<9&4294967295|C>>>23),C=L+(R^k&(j^R))+b[3]+4107603335&4294967295,L=j+(C<<14&4294967295|C>>>18),C=k+(j^R&(L^j))+b[8]+1163531501&4294967295,k=L+(C<<20&4294967295|C>>>12),C=R+(L^j&(k^L))+b[13]+2850285829&4294967295,R=k+(C<<5&4294967295|C>>>27),C=j+(k^L&(R^k))+b[2]+4243563512&4294967295,j=R+(C<<9&4294967295|C>>>23),C=L+(R^k&(j^R))+b[7]+1735328473&4294967295,L=j+(C<<14&4294967295|C>>>18),C=k+(j^R&(L^j))+b[12]+2368359562&4294967295,k=L+(C<<20&4294967295|C>>>12),C=R+(k^L^j)+b[5]+4294588738&4294967295,R=k+(C<<4&4294967295|C>>>28),C=j+(R^k^L)+b[8]+2272392833&4294967295,j=R+(C<<11&4294967295|C>>>21),C=L+(j^R^k)+b[11]+1839030562&4294967295,L=j+(C<<16&4294967295|C>>>16),C=k+(L^j^R)+b[14]+4259657740&4294967295,k=L+(C<<23&4294967295|C>>>9),C=R+(k^L^j)+b[1]+2763975236&4294967295,R=k+(C<<4&4294967295|C>>>28),C=j+(R^k^L)+b[4]+1272893353&4294967295,j=R+(C<<11&4294967295|C>>>21),C=L+(j^R^k)+b[7]+4139469664&4294967295,L=j+(C<<16&4294967295|C>>>16),C=k+(L^j^R)+b[10]+3200236656&4294967295,k=L+(C<<23&4294967295|C>>>9),C=R+(k^L^j)+b[13]+681279174&4294967295,R=k+(C<<4&4294967295|C>>>28),C=j+(R^k^L)+b[0]+3936430074&4294967295,j=R+(C<<11&4294967295|C>>>21),C=L+(j^R^k)+b[3]+3572445317&4294967295,L=j+(C<<16&4294967295|C>>>16),C=k+(L^j^R)+b[6]+76029189&4294967295,k=L+(C<<23&4294967295|C>>>9),C=R+(k^L^j)+b[9]+3654602809&4294967295,R=k+(C<<4&4294967295|C>>>28),C=j+(R^k^L)+b[12]+3873151461&4294967295,j=R+(C<<11&4294967295|C>>>21),C=L+(j^R^k)+b[15]+530742520&4294967295,L=j+(C<<16&4294967295|C>>>16),C=k+(L^j^R)+b[2]+3299628645&4294967295,k=L+(C<<23&4294967295|C>>>9),C=R+(L^(k|~j))+b[0]+4096336452&4294967295,R=k+(C<<6&4294967295|C>>>26),C=j+(k^(R|~L))+b[7]+1126891415&4294967295,j=R+(C<<10&4294967295|C>>>22),C=L+(R^(j|~k))+b[14]+2878612391&4294967295,L=j+(C<<15&4294967295|C>>>17),C=k+(j^(L|~R))+b[5]+4237533241&4294967295,k=L+(C<<21&4294967295|C>>>11),C=R+(L^(k|~j))+b[12]+1700485571&4294967295,R=k+(C<<6&4294967295|C>>>26),C=j+(k^(R|~L))+b[3]+2399980690&4294967295,j=R+(C<<10&4294967295|C>>>22),C=L+(R^(j|~k))+b[10]+4293915773&4294967295,L=j+(C<<15&4294967295|C>>>17),C=k+(j^(L|~R))+b[1]+2240044497&4294967295,k=L+(C<<21&4294967295|C>>>11),C=R+(L^(k|~j))+b[8]+1873313359&4294967295,R=k+(C<<6&4294967295|C>>>26),C=j+(k^(R|~L))+b[15]+4264355552&4294967295,j=R+(C<<10&4294967295|C>>>22),C=L+(R^(j|~k))+b[6]+2734768916&4294967295,L=j+(C<<15&4294967295|C>>>17),C=k+(j^(L|~R))+b[13]+1309151649&4294967295,k=L+(C<<21&4294967295|C>>>11),C=R+(L^(k|~j))+b[4]+4149444226&4294967295,R=k+(C<<6&4294967295|C>>>26),C=j+(k^(R|~L))+b[11]+3174756917&4294967295,j=R+(C<<10&4294967295|C>>>22),C=L+(R^(j|~k))+b[2]+718787259&4294967295,L=j+(C<<15&4294967295|C>>>17),C=k+(j^(L|~R))+b[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(L+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+j&4294967295}r.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var k=R-this.blockSize,b=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=k;)s(this,A,j),j+=this.blockSize;if(typeof A=="string"){for(;j<R;)if(b[L++]=A.charCodeAt(j++),L==this.blockSize){s(this,b),L=0;break}}else for(;j<R;)if(b[L++]=A[j++],L==this.blockSize){s(this,b),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var k=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=k&255,k/=256;for(this.u(A),A=Array(16),R=k=0;4>R;++R)for(var b=0;32>b;b+=8)A[k++]=this.g[R]>>>b&255;return A};function a(A,R){var k=d;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=R(A)}function u(A,R){this.h=R;for(var k=[],b=!0,L=A.length-1;0<=L;L--){var j=A[L]|0;b&&j==R||(k[L]=j,b=!1)}this.g=k}var d={};function f(A){return-128<=A&&128>A?a(A,function(R){return new u([R|0],0>R?-1:0)}):new u([A|0],0>A?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return w;if(0>A)return U(p(-A));for(var R=[],k=1,b=0;A>=k;b++)R[b]=A/k|0,k*=4294967296;return new u(R,0)}function v(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return U(v(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(R,8)),b=w,L=0;L<A.length;L+=8){var j=Math.min(8,A.length-L),C=parseInt(A.substring(L,L+j),R);8>j?(j=p(Math.pow(R,j)),b=b.j(j).add(p(C))):(b=b.j(k),b=b.add(p(C)))}return b}var w=f(0),E=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(z(this))return-U(this).m();for(var A=0,R=1,k=0;k<this.g.length;k++){var b=this.i(k);A+=(0<=b?b:4294967296+b)*R,R*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P(this))return"0";if(z(this))return"-"+U(this).toString(A);for(var R=p(Math.pow(A,6)),k=this,b="";;){var L=se(k,R).g;k=H(k,L.j(R));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(A);if(k=L,P(k))return j+b;for(;6>j.length;)j="0"+j;b=j+b}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function P(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function z(A){return A.h==-1}n.l=function(A){return A=H(this,A),z(A)?-1:P(A)?0:1};function U(A){for(var R=A.g.length,k=[],b=0;b<R;b++)k[b]=~A.g[b];return new u(k,~A.h).add(E)}n.abs=function(){return z(this)?U(this):this},n.add=function(A){for(var R=Math.max(this.g.length,A.g.length),k=[],b=0,L=0;L<=R;L++){var j=b+(this.i(L)&65535)+(A.i(L)&65535),C=(j>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);b=C>>>16,j&=65535,C&=65535,k[L]=C<<16|j}return new u(k,k[k.length-1]&-2147483648?-1:0)};function H(A,R){return A.add(U(R))}n.j=function(A){if(P(this)||P(A))return w;if(z(this))return z(A)?U(this).j(U(A)):U(U(this).j(A));if(z(A))return U(this.j(U(A)));if(0>this.l(I)&&0>A.l(I))return p(this.m()*A.m());for(var R=this.g.length+A.g.length,k=[],b=0;b<2*R;b++)k[b]=0;for(b=0;b<this.g.length;b++)for(var L=0;L<A.g.length;L++){var j=this.i(b)>>>16,C=this.i(b)&65535,ve=A.i(L)>>>16,He=A.i(L)&65535;k[2*b+2*L]+=C*He,J(k,2*b+2*L),k[2*b+2*L+1]+=j*He,J(k,2*b+2*L+1),k[2*b+2*L+1]+=C*ve,J(k,2*b+2*L+1),k[2*b+2*L+2]+=j*ve,J(k,2*b+2*L+2)}for(b=0;b<R;b++)k[b]=k[2*b+1]<<16|k[2*b];for(b=R;b<2*R;b++)k[b]=0;return new u(k,0)};function J(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function Z(A,R){this.g=A,this.h=R}function se(A,R){if(P(R))throw Error("division by zero");if(P(A))return new Z(w,w);if(z(A))return R=se(U(A),R),new Z(U(R.g),U(R.h));if(z(R))return R=se(A,U(R)),new Z(U(R.g),R.h);if(30<A.g.length){if(z(A)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var k=E,b=R;0>=b.l(A);)k=he(k),b=he(b);var L=F(k,1),j=F(b,1);for(b=F(b,2),k=F(k,2);!P(b);){var C=j.add(b);0>=C.l(A)&&(L=L.add(k),j=C),b=F(b,1),k=F(k,1)}return R=H(A,L.j(R)),new Z(L,R)}for(L=w;0<=A.l(R);){for(k=Math.max(1,Math.floor(A.m()/R.m())),b=Math.ceil(Math.log(k)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),j=p(k),C=j.j(R);z(C)||0<C.l(A);)k-=b,j=p(k),C=j.j(R);P(j)&&(j=E),L=L.add(j),A=H(A,C)}return new Z(L,A)}n.A=function(A){return se(this,A).h},n.and=function(A){for(var R=Math.max(this.g.length,A.g.length),k=[],b=0;b<R;b++)k[b]=this.i(b)&A.i(b);return new u(k,this.h&A.h)},n.or=function(A){for(var R=Math.max(this.g.length,A.g.length),k=[],b=0;b<R;b++)k[b]=this.i(b)|A.i(b);return new u(k,this.h|A.h)},n.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),k=[],b=0;b<R;b++)k[b]=this.i(b)^A.i(b);return new u(k,this.h^A.h)};function he(A){for(var R=A.g.length+1,k=[],b=0;b<R;b++)k[b]=A.i(b)<<1|A.i(b-1)>>>31;return new u(k,A.h)}function F(A,R){var k=R>>5;R%=32;for(var b=A.g.length-k,L=[],j=0;j<b;j++)L[j]=0<R?A.i(j+k)>>>R|A.i(j+k+1)<<32-R:A.i(j+k);return new u(L,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,U1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ls=u}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,Vl,z1,sd,Lp,$1,B1,G1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,B={next:function(){if(!S&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function I(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function P(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,B,Y){for(var de=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)de[ht-2]=arguments[ht];return g.prototype[B].apply(S,de)}}function z(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function U(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const B=c.length||0,Y=S.length||0;c.length=B+Y;for(let de=0;de<Y;de++)c[B+de]=S[de]}else c.push(S)}}class H{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var he=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function F(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function A(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,g){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let Y=0;Y<k.length;Y++)_=k[Y],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function C(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ve{constructor(){this.h=this.g=null}add(g,_){const S=He.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var He=new H(()=>new xe,c=>c.reset());class xe{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ne=!1,me=new ve,ce=()=>{const c=d.Promise.resolve(void 0);Te=()=>{c.then(M)}};var M=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){j(_)}var g=He;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ne=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c})();function $e(c,g){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(he){e:{try{se(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$e.aa.h.call(this)}}P($e,pe);var Ge={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),st=0;function ft(c,g,_,S,B){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=B,this.key=++st,this.da=this.fa=!1}function Xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ln(c){this.src=c,this.g={},this.h=0}ln.prototype.add=function(c,g,_,S,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var de=Fr(c,g,S,B);return-1<de?(g=c[de],_||(g.fa=!1)):(g=new ft(g,this.src,Y,!!S,B),g.fa=_,c.push(g)),g};function fi(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,g,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(S,B,1),Y&&(Xe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Fr(c,g,_,S){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==S)return B}return-1}var vn="closure_lm_"+(1e6*Math.random()|0),Hi={};function qs(c,g,_,S,B){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)qs(c,g[Y],_,S,B);return null}return _=mi(_),c&&c[it]?c.K(g,_,p(S)?!!S.capture:!1,B):Wi(c,g,_,!1,S,B)}function Wi(c,g,_,S,B,Y){if(!g)throw Error("Invalid event type");var de=p(B)?!!B.capture:!!B,ht=Xn(c);if(ht||(c[vn]=ht=new ln(c)),_=ht.add(g,_,S,de,Y),_.proxy)return _;if(S=Do(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ne||(B=de),B===void 0&&(B=!1),c.addEventListener(g.toString(),S,B);else if(c.attachEvent)c.attachEvent(yr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Do(){function c(_){return g.call(c.src,c.listener,_)}const g=Fn;return c}function qi(c,g,_,S,B){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)qi(c,g[Y],_,S,B);else S=p(S)?!!S.capture:!!S,_=mi(_),c&&c[it]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=Fr(Y,_,S,B),-1<_&&(Xe(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Xn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Fr(g,_,S,B)),(_=-1<c?g[c]:null)&&gr(_))}function gr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[it])fi(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(yr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Xn(g))?(fi(_,c),_.h==0&&(_.src=null,g[vn]=null)):Xe(c)}}}function yr(c){return c in Hi?Hi[c]:Hi[c]="on"+c}function Fn(c,g){if(c.da)c=!0;else{g=new $e(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&gr(c),c=_.call(S,g)}return c}function Xn(c){return c=c[vn],c instanceof ln?c:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function mi(c){return typeof c=="function"?c:(c[pi]||(c[pi]=function(g){return c.handleEvent(g)}),c[pi])}function pt(){X.call(this),this.i=new ln(this),this.M=this,this.F=null}P(pt,X),pt.prototype[it]=!0,pt.prototype.removeEventListener=function(c,g,_,S){qi(this,c,g,_,S)};function dt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new pe(g,c);else if(g instanceof pe)g.target=g.target||c;else{var B=g;g=new pe(S,c),b(g,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var de=g.g=_[Y];B=Zn(de,S,!0,g)&&B}if(de=g.g=c,B=Zn(de,S,!0,g)&&B,B=Zn(de,S,!1,g)&&B,_)for(Y=0;Y<_.length;Y++)de=g.g=_[Y],B=Zn(de,S,!1,g)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Xe(_[S]);delete c.g[g],c.h--}}this.F=null},pt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},pt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function Zn(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,Y=0;Y<g.length;++Y){var de=g[Y];if(de&&!de.da&&de.capture==_){var ht=de.listener,Bt=de.ha||de.src;de.fa&&fi(c.i,de),B=ht.call(Bt,S)!==!1&&B}}return B&&!S.defaultPrevented}function gi(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function Ur(c){c.g=gi(()=>{c.g=null,c.i&&(c.i=!1,Ur(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class un extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ur(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(c){X.call(this),this.h=c,this.g={}}P(jr,X);var Ki=[];function Qi(c){F(c.g,function(g,_){this.g.hasOwnProperty(_)&&gr(g)},c),c.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Qi(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=d.JSON.stringify,Yi=d.JSON.parse,zr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function $r(){}$r.prototype.h=null;function Br(c){return c.h||(c.h=c.i())}function Ji(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){pe.call(this,"d")}P(er,pe);function yi(){pe.call(this,"c")}P(yi,pe);var wn={},Gr=null;function vi(){return Gr=Gr||new pt}wn.La="serverreachability";function Qs(c){pe.call(this,wn.La,c)}P(Qs,pe);function D(c){const g=vi();dt(g,new Qs(g))}wn.STAT_EVENT="statevent";function $(c,g){pe.call(this,wn.STAT_EVENT,c),this.stat=g}P($,pe);function W(c){const g=vi();dt(g,new $(g,c))}wn.Ma="timingevent";function oe(c,g){pe.call(this,wn.Ma,c),this.size=g}P(oe,pe);function le(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function Ce(c,g,_,S,B,Y){c.info(function(){if(c.g)if(Y)for(var de="",ht=Y.split("&"),Bt=0;Bt<ht.length;Bt++){var tt=ht[Bt].split("=");if(1<tt.length){var Kt=tt[0];tt=tt[1];var Vt=Kt.split("_");de=2<=Vt.length&&Vt[1]=="type"?de+(Kt+"="+tt+"&"):de+(Kt+"=redacted&")}}else de=null;else de=Y;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+_+`
`+de})}function _e(c,g,_,S,B,Y,de){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+_+`
`+Y+" "+de})}function we(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Pe(c,_)+(S?" "+S:"")})}function De(c,g){c.info(function(){return"TIMEOUT: "+g})}Se.prototype.info=function(){};function Pe(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var de=1;de<B.length;de++)B[de]=""}}}}return Ks(_)}catch{return g}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},We={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},et;function It(){}P(It,$r),It.prototype.g=function(){return new XMLHttpRequest},It.prototype.i=function(){return{}},et=new It;function vt(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var ct={},Rn={};function tr(c,g,_){c.L=1,c.v=ts(zn(g)),c.m=_,c.P=!0,kn(c,null)}function kn(c,g){c.F=Date.now(),lt(c),c.A=zn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),rs(_.i,"t",S),c.C=0,_=c.j.J,c.h=new mt,c.g=Bu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new un(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ki[0]=B.toString()),B=Ki);for(var Y=0;Y<B.length;Y++){var de=qs(_,B[Y],S||g.handleEvent,!1,g.h||g);if(!de)break;g.g[de.key]=de}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),D(),Ce(c.i,c.u,c.A,c.l,c.R,c.m)}vt.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},vt.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=An(this.g);var g=this.g.Ba();const sr=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Vt!=4||g==7||(g==8||0>=sr?D(3):D(2)),rr(this);var _=this.g.Z();this.X=_;t:if(En(this)){var S=tl(this.g);c="";var B=S.length,Y=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Be(this),Un(this);var de="";break t}this.h.i=new d.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Y&&g==B-1)});S.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=_==200,_e(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,Bt=this.g;if((ht=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(ht)){var tt=ht;break t}}tt=null}if(_=tt)we(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bt(this,_);else{this.o=!1,this.s=3,W(12),Be(this),Un(this);break e}}if(this.P){_=!0;let Bn;for(;!this.J&&this.C<de.length;)if(Bn=Ys(this,de),Bn==Rn){Vt==4&&(this.s=4,W(14),_=!1),we(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==ct){this.s=4,W(15),we(this.i,this.l,de,"[Invalid Chunk]"),_=!1;break}else we(this.i,this.l,Bn,null),bt(this,Bn);if(En(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||de.length!=0||this.h.h||(this.s=1,W(16),_=!1),this.o=this.o&&_,!_)we(this.i,this.l,de,"[Invalid Chunked Response]"),Be(this),Un(this);else if(0<de.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),rl(Kt),Kt.M=!0,W(11))}}else we(this.i,this.l,de,null),bt(this,de);Vt==4&&Be(this),this.o&&!this.J&&(Vt==4?Bo(this.j,this):(this.o=!1,lt(this)))}else Fo(this.g),_==400&&0<de.indexOf("Unknown SID")?(this.s=3,W(12)):(this.s=0,W(13)),Be(this),Un(this)}}}catch{}finally{}};function En(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ys(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?Rn:(_=Number(g.substring(_,S)),isNaN(_)?ct:(S+=1,S+_>g.length?Rn:(g=g.slice(S,S+_),c.C=S+_,g)))}vt.prototype.cancel=function(){this.J=!0,Be(this)};function lt(c){c.S=Date.now()+c.I,nr(c,c.I)}function nr(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=le(E(c.ba,c),g)}function rr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}vt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(De(this.i,this.A),this.L!=2&&(D(),W(17)),Be(this),this.s=2,Un(this)):nr(this,this.S-c)};function Un(c){c.j.G==0||c.J||Bo(c.j,c)}function Be(c){rr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Qi(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function bt(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||qt(_.h,c))){if(!c.K&&qt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)$o(_),Tr(_);else break e;zo(_),W(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=le(E(_.Za,_),6e3));if(1>=wi(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&$o(_),!J(g))for(B=_.Da.g.parse(g),g=0;g<B.length;g++){let tt=B[g];if(_.T=tt[0],tt=tt[1],_.G==2)if(tt[0]=="c"){_.K=tt[1],_.ia=tt[2];const Kt=tt[3];Kt!=null&&(_.la=Kt,_.j.info("VER="+_.la));const Vt=tt[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const sr=tt[5];sr!=null&&typeof sr=="number"&&0<sr&&(S=1.5*sr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Bn=c.g;if(Bn){const ro=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ro){var Y=S.h;Y.g||ro.indexOf("spdy")==-1&&ro.indexOf("quic")==-1&&ro.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Js(Y,Y.h),Y.h=null))}if(S.D){const Ho=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(S.ya=Ho,_t(S.I,S.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var de=c;if(S.qa=$u(S,S.J?S.ia:null,S.W),de.K){Pu(S.h,de);var ht=de,Bt=S.L;Bt&&(ht.I=Bt),ht.B&&(rr(ht),lt(ht)),S.g=de}else no(S);0<_.i.length&&Kr(_)}else tt[0]!="stop"&&tt[0]!="close"||Ci(_,7);else _.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ci(_,7):tn(_):tt[0]!="noop"&&_.l&&_.l.ta(tt),_.v=0)}}D(4)}catch{}}var _i=class{constructor(c,g){this.g=c,this.map=g}};function jn(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ot(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wi(c){return c.h?1:c.g?c.g.size:0}function qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Js(c,g){c.g?c.g.add(g):c.h=g}function Pu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}jn.prototype.cancel=function(){if(this.i=bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return z(c.i)}function No(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Lo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function Xi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Lo(c),S=No(c),B=S.length,Y=0;Y<B;Y++)g.call(void 0,S[Y],_&&_[Y],c)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),B=null;if(0<=S){var Y=c[_].substring(0,S);B=c[_].substring(S+1)}else Y=c[_];g(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ei){this.h=c.h,Zs(this,c.j),this.o=c.o,this.g=c.g,Zi(this,c.s),this.l=c.l;var g=c.i,_=new Hr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),es(this,_),this.m=c.m}else c&&(g=String(c).match(Xs))?(this.h=!1,Zs(this,g[1]||"",!0),this.o=Ze(g[2]||""),this.g=Ze(g[3]||"",!0),Zi(this,g[4]),this.l=Ze(g[5]||"",!0),es(this,g[6]||"",!0),this.m=Ze(g[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}Ei.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ns(g,Mo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ns(g,Mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ns(_,_.charAt(0)=="/"?Lu:Nu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ns(_,Xa)),c.join("")};function zn(c){return new Ei(c)}function Zs(c,g,_){c.j=_?Ze(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Zi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function es(c,g,_){g instanceof Hr?(c.i=g,Wr(c.i,c.h)):(_||(g=ns(g,Mu)),c.i=new Hr(g,c.h))}function _t(c,g,_){c.i.set(g,_)}function ts(c){return _t(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ze(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ns(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,Nu=/[#\?:]/g,Lu=/[#\?]/g,Mu=/[#\?@]/g,Xa=/#/g;function Hr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function en(c){c.g||(c.g=new Map,c.h=0,c.i&&fh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Hr.prototype,n.add=function(c,g){en(this),this.i=null,c=ir(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function vr(c,g){en(c),g=ir(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function _r(c,g){return en(c),g=ir(c,g),c.g.has(g)}n.forEach=function(c,g){en(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(g,B,S,this)},this)},this)},n.na=function(){en(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const B=c[S];for(let Y=0;Y<B.length;Y++)_.push(g[S])}return _},n.V=function(c){en(this);let g=[];if(typeof c=="string")_r(this,c)&&(g=g.concat(this.g.get(ir(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return en(this),this.i=null,c=ir(this,c),_r(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function rs(c,g,_){vr(c,g),0<_.length&&(c.i=null,c.g.set(ir(c,g),z(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const Y=encodeURIComponent(String(S)),de=this.V(S);for(S=0;S<de.length;S++){var B=Y;de[S]!==""&&(B+="="+encodeURIComponent(String(de[S]))),c.push(B)}}return this.i=c.join("&")};function ir(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Wr(c,g){g&&!c.j&&(en(c),c.i=null,c.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(vr(this,S),rs(this,B,_))},c)),c.j=g}function ph(c,g){const _=new Se;if(d.Image){const S=new Image;S.onload=I(xn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=I(xn,_,"TestLoadImage: error",!1,g,S),S.onabort=I(xn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=I(xn,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Ou(c,g){const _=new Se,S=new AbortController,B=setTimeout(()=>{S.abort(),xn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(B),Y.ok?xn(_,"TestPingServer: ok",!0,g):xn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),xn(_,"TestPingServer: error",!1,g)})}function xn(c,g,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function mh(){this.g=new zr}function Vu(c,g,_){const S=_||"";try{Xi(c,function(B,Y){let de=B;p(B)&&(de=Ks(B)),g.push(S+Y+"="+encodeURIComponent(de))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function Ti(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Ti,$r),Ti.prototype.g=function(){return new eo(this.l,this.j)},Ti.prototype.i=(function(c){return function(){return c}})({});function eo(c,g){pt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(eo,pt),n=eo.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Er(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?wr(this):Er(this),this.readyState==3&&Fu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,wr(this))},n.Qa=function(c){this.g&&(this.response=c,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(eo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Si(c){let g="";return F(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function is(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Si(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):_t(c,g,_))}function Ct(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ct,pt);var gh=/^https?$/i,Za=["POST","PUT"];n=Ct.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():et.g(),this.v=this.o?Br(this.o):Br(et),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){to(this,Y);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Za,g,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of _)this.g.setRequestHeader(Y,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){to(this,Y)}};function to(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Oo(c),$n(c)}function Oo(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),$n(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(c){if(c.h&&typeof u<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)gi(c.Ea,0,c);else if(dt(c,"readystatechange"),An(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=de===0){var B=String(c.D).match(Xs)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!gh.test(B?B.toLowerCase():"")}_=S}if(_)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var Y=2<An(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Oo(c)}}finally{$n(c)}}}}function $n(c,g){if(c.g){Vo(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||dt(c,"ready");try{_.onreadystatechange=S}catch{}}}function Vo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yi(g)}};function tl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fo(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(J(c[S]))continue;var _=L(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[B]||[];g[B]=Y,Y.push(_)}A(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function nl(c){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,c),this.cb=qr("retryDelaySeedMs",1e4,c),this.Wa=qr("forwardChannelMaxRetries",2,c),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jn(c&&c.concurrentRequestLimit),this.Da=new mh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){W(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=$u(this,null,this.W),Kr(this)};function tn(c){if(Uo(c),c.G==3){var g=c.U++,_=zn(c.I);if(_t(_,"SID",c.K),_t(_,"RID",g),_t(_,"TYPE","terminate"),Ii(c,_),g=new vt(c,c.j,g),g.L=2,g.v=ts(zn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Bu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),lt(g)}zu(c)}function Tr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function Uo(c){Tr(c),c.u&&(d.clearTimeout(c.u),c.u=null),$o(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Kr(c){if(!ot(c.h)&&!c.s){c.s=!0;var g=c.Ga;Te||ce(),ne||(Te(),ne=!0),me.add(g,c),c.B=0}}function yh(c,g){return wi(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=le(E(c.Ga,c,g),ju(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new vt(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),b(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ss(this,B,g),_=zn(this.I),_t(_,"RID",c),_t(_,"CVER",22),this.D&&_t(_,"X-HTTP-Session-Id",this.D),Ii(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(Si(Y)))+"&"+g:this.m&&is(_,this.m,Y)),Js(this.h,B),this.Ua&&_t(_,"TYPE","init"),this.P?(_t(_,"$req",g),_t(_,"SID","null"),B.T=!0,tr(B,_,null)):tr(B,_,g),this.G=2}}else this.G==3&&(c?jo(this,c):this.i.length==0||ot(this.h)||jo(this))};function jo(c,g){var _;g?_=g.l:_=c.U++;const S=zn(c.I);_t(S,"SID",c.K),_t(S,"RID",_),_t(S,"AID",c.T),Ii(c,S),c.m&&c.o&&is(S,c.m,c.o),_=new vt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ss(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Js(c.h,_),tr(_,S,g)}function Ii(c,g){c.H&&F(c.H,function(_,S){_t(g,S,_)}),c.l&&Xi({},function(_,S){_t(g,S,_)})}function ss(c,g,_){_=Math.min(c.i.length,_);var S=c.l?E(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const de=["count="+_];Y==-1?0<_?(Y=B[0].g,de.push("ofs="+Y)):Y=0:de.push("ofs="+Y);let ht=!0;for(let Bt=0;Bt<_;Bt++){let tt=B[Bt].g;const Kt=B[Bt].map;if(tt-=Y,0>tt)Y=Math.max(0,B[Bt].g-100),ht=!1;else try{Vu(Kt,de,"req"+tt+"_")}catch{S&&S(Kt)}}if(ht){S=de.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function no(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Te||ce(),ne||(Te(),ne=!0),me.add(g,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=le(E(c.Fa,c),ju(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=le(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,W(10),Tr(this),Uu(this))};function rl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new vt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=zn(c.qa);_t(g,"RID","rpc"),_t(g,"SID",c.K),_t(g,"AID",c.T),_t(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&_t(g,"TO",c.ja),_t(g,"TYPE","xmlhttp"),Ii(c,g),c.m&&c.o&&is(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ts(zn(g)),_.m=null,_.P=!0,kn(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),zo(this),W(19))};function $o(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Bo(c,g){var _=null;if(c.g==g){$o(c),rl(c),c.g=null;var S=2}else if(qt(c.h,g))_=g.D,Pu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;S=vi(),dt(S,new oe(S,_)),Kr(c)}else no(c);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&yh(c,g)||S==2&&zo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),B){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function ju(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ci(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),S=c.Xa;const B=!S;S=new Ei(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Zs(S,"https"),ts(S),B?ph(S.toString(),_):Ou(S.toString(),_)}else W(2);c.G=0,c.l&&c.l.sa(g),zu(c),Uo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),W(2)):(this.j.info("Failed to ping google.com"),W(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const g=bu(c.h);(g.length!=0||c.i.length!=0)&&(U(c.ka,g),U(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function $u(c,g,_){var S=_ instanceof Ei?zn(_):new Ei(_);if(S.g!="")g&&(S.g=g+"."+S.g),Zi(S,S.s);else{var B=d.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var Y=new Ei(null);S&&Zs(Y,S),g&&(Y.g=g),B&&Zi(Y,B),_&&(Y.l=_),S=Y}return _=c.D,g=c.ya,_&&g&&_t(S,_,g),_t(S,"VER",c.la),Ii(c,S),S}function Bu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ct(new Ti({eb:_})):new Ct(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}n=il.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Go(){}Go.prototype.g=function(c,g){return new Tn(c,g)};function Tn(c,g){pt.call(this),this.g=new nl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!J(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Qr(this)}P(Tn,pt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){tn(this.g)},Tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ks(c),c=_);g.i.push(new _i(g.Ya++,c)),g.G==3&&Kr(g)},Tn.prototype.N=function(){this.g.l=null,delete this.j,tn(this.g),delete this.g,Tn.aa.N.call(this)};function Gu(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(Gu,er);function Hu(){yi.call(this),this.status=1}P(Hu,yi);function Qr(c){this.g=c}P(Qr,il),Qr.prototype.ua=function(){dt(this.g,"a")},Qr.prototype.ta=function(c){dt(this.g,new Gu(c))},Qr.prototype.sa=function(c){dt(this.g,new Hu)},Qr.prototype.ra=function(){dt(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,G1=function(){return new Go},B1=function(){return vi()},$1=wn,Lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,sd=ke,We.COMPLETE="complete",z1=We,Ji.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Vl=Ji,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,j1=Ct}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const Uv="@firebase/firestore",jv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new um("@firebase/firestore");function ga(){return ko.logLevel}function ye(n,...e){if(ko.logLevel<=Qe.DEBUG){const t=e.map(Im);ko.debug(`Firestore (${Ga}): ${n}`,...t)}}function zi(n,...e){if(ko.logLevel<=Qe.ERROR){const t=e.map(Im);ko.error(`Firestore (${Ga}): ${n}`,...t)}}function ba(n,...e){if(ko.logLevel<=Qe.WARN){const t=e.map(Im);ko.warn(`Firestore (${Ga}): ${n}`,...t)}}function Im(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,H1(n,r,t)}function H1(n,e,t){let r=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zi(r),new Error(r)}function rt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||H1(e,s,r)}function ze(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(mn.UNAUTHENTICATED)))}shutdown(){}}class _A{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wA{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oi,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string",31837,{l:r}),new W1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class EA{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TA{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new EA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=IA(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function Mp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return ap(s)===ap(a)?Ye(s,a):ap(s)?1:-1}return Ye(n.length,e.length)}const CA=55296,RA=57343;function ap(n){const e=n.charCodeAt(0);return e>=CA&&e<=RA}function Da(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="__name__";class ti{constructor(e,t,r){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Le(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=ti.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ye(e.length,t.length)}static compareSegments(e,t){const r=ti.isNumericId(e),s=ti.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ti.extractNumericId(e).compare(ti.extractNumericId(t)):Mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class gt extends ti{construct(e,t,r){return new gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new gt(t)}static emptyPath(){return new gt([])}}const kA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ti{construct(e,t,r){return new on(e,t,r)}static isValidIdentifier(e){return kA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new on([$v])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(gt.fromString(e))}static fromName(e){return new be(gt.fromString(e).popFirst(5))}static empty(){return new be(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xA(n,e,t,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bv(n){if(!be.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gv(n){if(be.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function K1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function qd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le(12329,{type:typeof n})}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qd(n);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function AA(n,e){if(e<=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n,e){const t={typeString:n};return e&&(t.value=e),t}function wu(n,e){if(!K1(n))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new fe(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-62135596800,Wv=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Wv);return new yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Hv)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:$t("string",yt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new yt(0,0))}static max(){return new Ve(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function PA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new Fs(s,be.empty(),e)}function bA(n){return new Fs(n.readTime,n.key,eu)}class Fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fs(Ve.min(),be.empty(),eu)}static max(){return new Fs(Ve.max(),be.empty(),eu)}}function DA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==NA)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let s=0,a=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++a,u&&a===s&&t()}),(f=>r(f)))})),u=!0,a===s&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((s=>s?te.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((v=>{u[p]=v,++d,d===a&&r(u)}),(v=>s(v)))}}))}static doWhile(e,t){return new te(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function MA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=-1;function Eu(n){return n==null}function Td(n){return n===0&&1/n==-1/0}function OA(n){return typeof n=="number"&&Number.isInteger(n)&&!Td(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="";function VA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qv(e)),e=FA(n.get(t),e);return qv(e)}function FA(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case Q1:t+="";break;default:t+=a}}return t}function qv(n){return n+Q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Y1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??sn.RED,this.left=s??sn.EMPTY,this.right=a??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new sn(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(e){return new Qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class Qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Wt(on.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new J1("Invalid base64 string: "+a):a}})(e);return new an(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const UA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(rt(!!n,39018),typeof n=="string"){let e=0;const t=UA.exec(n);if(rt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function js(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="server_timestamp",Z1="__type__",eE="__previous_value__",tE="__local_write_time__";function km(n){return(n?.mapValue?.fields||{})[Z1]?.stringValue===X1}function Qd(n){const e=n.mapValue.fields[eE];return km(e)?Qd(e):e}function tu(n){const e=Us(n.mapValue.fields[tE].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,r,s,a,u,d,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const Sd="(default)";class nu{constructor(e,t){this.projectId=e,this.database=t||Sd}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Sd}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__type__",zA="__max__",Hc={mapValue:{}},rE="__vector__",Id="value";function zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?km(n)?4:BA(n)?9007199254740991:$A(n)?10:11:Le(28295,{value:n})}function di(n,e){if(n===e)return!0;const t=zs(n);if(t!==zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tu(n).isEqual(tu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Us(s.timestampValue),d=Us(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return js(s.bytesValue).isEqual(js(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Ot(s.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Ot(s.integerValue)===Ot(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Ot(s.doubleValue),d=Ot(a.doubleValue);return u===d?Td(u)===Td(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return Da(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Kv(u)!==Kv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!di(u[f],d[f])))return!1;return!0})(n,e);default:return Le(52216,{left:n})}}function ru(n,e){return(n.values||[]).find((t=>di(t,e)))!==void 0}function Na(n,e){if(n===e)return 0;const t=zs(n),r=zs(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=Ot(a.integerValue||a.doubleValue),f=Ot(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return Yv(n.timestampValue,e.timestampValue);case 4:return Yv(tu(n),tu(e));case 5:return Mp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=js(a),f=js(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=Ye(d[p],f[p]);if(v!==0)return v}return Ye(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ye(Ot(a.latitude),Ot(u.latitude));return d!==0?d:Ye(Ot(a.longitude),Ot(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Jv(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},p=d[Id]?.arrayValue,v=f[Id]?.arrayValue,w=Ye(p?.values?.length||0,v?.values?.length||0);return w!==0?w:Jv(p,v)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Hc.mapValue&&u===Hc.mapValue)return 0;if(a===Hc.mapValue)return 1;if(u===Hc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=Mp(f[w],v[w]);if(E!==0)return E;const I=Na(d[f[w]],p[v[w]]);if(I!==0)return I}return Ye(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Le(23264,{he:t})}}function Yv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=Us(n),r=Us(e),s=Ye(t.seconds,r.seconds);return s!==0?s:Ye(t.nanos,r.nanos)}function Jv(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Na(t[s],r[s]);if(a)return a}return Ye(t.length,r.length)}function La(n){return Op(n)}function Op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Us(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return js(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Op(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Op(t.fields[u])}`;return s+"}"})(n.mapValue):Le(61005,{value:n})}function od(n){switch(zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qd(n);return e?16+od(e):16;case 5:return 2*n.stringValue.length;case 6:return js(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+od(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Hs(r.fields,((a,u)=>{s+=a.length+od(u)})),s})(n.mapValue);default:throw Le(13486,{value:n})}}function Xv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vp(n){return!!n&&"integerValue"in n}function xm(n){return!!n&&"arrayValue"in n}function Zv(n){return!!n&&"nullValue"in n}function e_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ad(n){return!!n&&"mapValue"in n}function $A(n){return(n?.mapValue?.fields||{})[nE]?.stringValue===rE}function $l(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Hs(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=$l(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(n.arrayValue.values[t]);return e}return{...n}}function BA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ad(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=on.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=$l(u):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());ad(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];ad(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Hs(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Cn($l(this.value))}}function iE(n){const e=[];return Hs(n.fields,((t,r)=>{const s=new on([t]);if(ad(r)){const a=iE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,Ve.min(),Ve.min(),Ve.min(),Cn.empty(),0)}static newFoundDocument(e,t,r,s){return new Zt(e,1,t,Ve.min(),r,s,0)}static newNoDocument(e,t){return new Zt(e,2,t,Ve.min(),Ve.min(),Cn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Ve.min(),Ve.min(),Cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t){this.position=e,this.inclusive=t}}function t_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=be.comparator(be.fromName(u.referenceValue),t.key):r=Na(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function n_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function GA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{}class jt extends sE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new WA(e,t,r):t==="array-contains"?new QA(e,r):t==="in"?new YA(e,r):t==="not-in"?new JA(e,r):t==="array-contains-any"?new XA(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new qA(e,r):new KA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Na(t,this.value)):t!==null&&zs(this.value)===zs(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends sE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Nr(e,t)}matches(e){return oE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oE(n){return n.op==="and"}function aE(n){return HA(n)&&oE(n)}function HA(n){for(const e of n.filters)if(e instanceof Nr)return!1;return!0}function Fp(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+La(n.value);if(aE(n))return n.filters.map((e=>Fp(e))).join(",");{const e=n.filters.map((t=>Fp(t))).join(",");return`${n.op}(${e})`}}function lE(n,e){return n instanceof jt?(function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&di(r.value,s.value)})(n,e):n instanceof Nr?(function(r,s){return s instanceof Nr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,d)=>a&&lE(u,s.filters[d])),!0):!1})(n,e):void Le(19439)}function uE(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${La(t.value)}`})(n):n instanceof Nr?(function(t){return t.op.toString()+" {"+t.getFilters().map(uE).join(" ,")+"}"})(n):"Filter"}class WA extends jt{constructor(e,t,r){super(e,t,r),this.key=be.fromName(r.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class qA extends jt{constructor(e,t){super(e,"in",t),this.keys=cE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class KA extends jt{constructor(e,t){super(e,"not-in",t),this.keys=cE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function cE(n,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class QA extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xm(t)&&ru(t.arrayValue,this.value)}}class YA extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ru(this.value.arrayValue,t)}}class JA extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ru(this.value.arrayValue,t)}}class XA extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ru(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function r_(n,e=null,t=[],r=[],s=null,a=null,u=null){return new ZA(n,e,t,r,s,a,u)}function Am(n){const e=ze(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Fp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Eu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>La(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>La(r))).join(",")),e.Te=t}return e.Te}function Pm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!n_(n.startAt,e.startAt)&&n_(n.endAt,e.endAt)}function Up(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function e3(n,e,t,r,s,a,u,d){return new qa(n,e,t,r,s,a,u,d)}function Yd(n){return new qa(n)}function i_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dE(n){return n.collectionGroup!==null}function Bl(n){const e=ze(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Wt(on.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new iu(a,r))})),t.has(on.keyField().canonicalString())||e.Ie.push(new iu(on.keyField(),r))}return e.Ie}function ai(n){const e=ze(n);return e.Ee||(e.Ee=t3(e,Bl(n))),e.Ee}function t3(n,e){if(n.limitType==="F")return r_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new iu(s.field,a)}));const t=n.endAt?new Cd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cd(n.startAt.position,n.startAt.inclusive):null;return r_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jp(n,e){const t=n.filters.concat([e]);return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Rd(n,e,t){return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Jd(n,e){return Pm(ai(n),ai(e))&&n.limitType===e.limitType}function hE(n){return`${Am(ai(n))}|lt:${n.limitType}`}function ya(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>uE(s))).join(", ")}]`),Eu(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>La(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>La(s))).join(",")),`Target(${r})`})(ai(n))}; limitType=${n.limitType})`}function Xd(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Bl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const p=t_(u,d,f);return u.inclusive?p<=0:p<0})(r.startAt,Bl(r),s)||r.endAt&&!(function(u,d,f){const p=t_(u,d,f);return u.inclusive?p>=0:p>0})(r.endAt,Bl(r),s))})(n,e)}function n3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fE(n){return(e,t)=>{let r=!1;for(const s of Bl(n)){const a=r3(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function r3(n,e,t){const r=n.field.isKeyField()?be.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?Na(f,p):Le(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return Y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new Pt(be.comparator);function $i(){return i3}const pE=new Pt(be.comparator);function Fl(...n){let e=pE;for(const t of n)e=e.insert(t.key,t);return e}function mE(n){let e=pE;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function wo(){return Gl()}function gE(){return Gl()}function Gl(){return new Po((n=>n.toString()),((n,e)=>n.isEqual(e)))}const s3=new Pt(be.comparator),o3=new Wt(be.comparator);function Je(...n){let e=o3;for(const t of n)e=e.add(t);return e}const a3=new Wt(Ye);function l3(){return a3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function yE(n){return{integerValue:""+n}}function vE(n,e){return OA(e)?yE(e):bm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this._=void 0}}function u3(n,e,t){return n instanceof su?(function(s,a){const u={fields:{[Z1]:{stringValue:X1},[tE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&km(a)&&(a=Qd(a)),a&&(u.fields[eE]=a),{mapValue:u}})(t,e):n instanceof ou?wE(n,e):n instanceof au?EE(n,e):(function(s,a){const u=_E(s,a),d=s_(u)+s_(s.Ae);return Vp(u)&&Vp(s.Ae)?yE(d):bm(s.serializer,d)})(n,e)}function c3(n,e,t){return n instanceof ou?wE(n,e):n instanceof au?EE(n,e):t}function _E(n,e){return n instanceof lu?(function(r){return Vp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class su extends Zd{}class ou extends Zd{constructor(e){super(),this.elements=e}}function wE(n,e){const t=TE(e);for(const r of n.elements)t.some((s=>di(s,r)))||t.push(r);return{arrayValue:{values:t}}}class au extends Zd{constructor(e){super(),this.elements=e}}function EE(n,e){let t=TE(e);for(const r of n.elements)t=t.filter((s=>!di(s,r)));return{arrayValue:{values:t}}}class lu extends Zd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function s_(n){return Ot(n.integerValue||n.doubleValue)}function TE(n){return xm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t){this.field=e,this.transform=t}}function d3(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof ou&&s instanceof ou||r instanceof au&&s instanceof au?Da(r.elements,s.elements,di):r instanceof lu&&s instanceof lu?di(r.Ae,s.Ae):r instanceof su&&s instanceof su})(n.transform,e.transform)}class h3{constructor(e,t){this.version=e,this.transformResults=t}}class zt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zt}static exists(e){return new zt(void 0,e)}static updateTime(e){return new zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class eh{}function IE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Su(n.key,zt.none()):new Tu(n.key,n.data,zt.none());{const t=n.data,r=Cn.empty();let s=new Wt(on.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Ws(n.key,r,new Yn(s.toArray()),zt.none())}}function f3(n,e,t){n instanceof Tu?(function(s,a,u){const d=s.value.clone(),f=a_(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Ws?(function(s,a,u){if(!ld(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=a_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(CE(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Hl(n,e,t,r){return n instanceof Tu?(function(a,u,d,f){if(!ld(a.precondition,u))return d;const p=a.value.clone(),v=l_(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ws?(function(a,u,d,f){if(!ld(a.precondition,u))return d;const p=l_(a.fieldTransforms,f,u),v=u.data;return v.setAll(CE(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return ld(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function p3(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=_E(r.transform,s||null);a!=null&&(t===null&&(t=Cn.empty()),t.set(r.field,a))}return t||null}function o_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Da(r,s,((a,u)=>d3(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tu extends eh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ws extends eh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function CE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function a_(n,e,t){const r=new Map;rt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,c3(u,d,t[s]))}return r}function l_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,u3(a,u,e))}return r}class Su extends eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RE extends eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&f3(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Hl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gE();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=IE(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,((t,r)=>o_(t,r)))&&Da(this.baseMutations,e.baseMutations,((t,r)=>o_(t,r)))}}class Dm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return s3})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Dm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,nt;function kE(n){switch(n){case ee.OK:return Le(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Le(15467,{code:n})}}function xE(n){if(n===void 0)return zi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Ut.OK:return ee.OK;case Ut.CANCELLED:return ee.CANCELLED;case Ut.UNKNOWN:return ee.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ee.INTERNAL;case Ut.UNAVAILABLE:return ee.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ee.NOT_FOUND;case Ut.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ut.ABORTED:return ee.ABORTED;case Ut.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ut.DATA_LOSS:return ee.DATA_LOSS;default:return Le(39323,{code:n})}}(nt=Ut||(Ut={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Ls([4294967295,4294967295],0);function u_(n){const e=v3().encode(n),t=new U1;return t.update(e),new Uint8Array(t.digest())}function c_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ls([t,r],0),new Ls([s,a],0)]}class Nm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ul(`Invalid padding: ${t}`);if(r<0)throw new Ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ls.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Ls.fromNumber(r)));return s.compare(_3)===1&&(s=new Ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=u_(e),[r,s]=c_(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Nm(a,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=u_(e),[r,s]=c_(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new th(Ve.min(),s,new Pt(Ye),$i(),Je())}}class Iu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Iu(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class AE{constructor(e,t){this.targetId=e,this.Ce=t}}class PE{constructor(e,t,r=an.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class d_{constructor(){this.ve=0,this.Fe=h_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),r=Je();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Le(38017,{changeType:a})}})),new Iu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=h_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class w3{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.Je=Wc(),this.He=Wc(),this.Ye=new Pt(Ye)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(Up(a))if(r===0){const u=new be(a.path);this.et(t,u,Zt.newNoDocument(u,Ve.min()))}else rt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=js(r).toUint8Array()}catch(f){if(f instanceof J1)return ba("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Nm(u,s,a)}catch(f){return ba(f instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Up(d.target)){const f=new be(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Zt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=Je();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const s=new th(e,t,this.Ye,this.je,r);return this.je=$i(),this.Je=Wc(),this.He=Wc(),this.Ye=new Pt(Ye),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new d_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Wt(Ye),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Wt(Ye),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wc(){return new Pt(be.comparator)}function h_(){return new Pt(be.comparator)}const E3={asc:"ASCENDING",desc:"DESCENDING"},T3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S3={and:"AND",or:"OR"};class I3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zp(n,e){return n.useProto3Json||Eu(e)?e:{value:e}}function kd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C3(n,e){return kd(n,e.toTimestamp())}function Jn(n){return rt(!!n,49232),Ve.fromTimestamp((function(t){const r=Us(t);return new yt(r.seconds,r.nanos)})(n))}function Lm(n,e){return $p(n,e).canonicalString()}function $p(n,e){const t=(function(s){return new gt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function DE(n){const e=gt.fromString(n);return rt(FE(e),10190,{key:e.toString()}),e}function xd(n,e){return Lm(n.databaseId,e.path)}function Wl(n,e){const t=DE(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(LE(t))}function NE(n,e){return Lm(n.databaseId,e)}function R3(n){const e=DE(n);return e.length===4?gt.emptyPath():LE(e)}function Bp(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LE(n){return rt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function f_(n,e,t){return{name:xd(n,e),fields:t.value.mapValue.fields}}function k3(n,e){return"found"in e?(function(r,s){rt(!!s.found,43571),s.found.name,s.found.updateTime;const a=Wl(r,s.found.name),u=Jn(s.found.updateTime),d=s.found.createTime?Jn(s.found.createTime):Ve.min(),f=new Cn({mapValue:{fields:s.found.fields}});return Zt.newFoundDocument(a,u,d,f)})(n,e):"missing"in e?(function(r,s){rt(!!s.missing,3894),rt(!!s.readTime,22933);const a=Wl(r,s.missing),u=Jn(s.readTime);return Zt.newNoDocument(a,u)})(n,e):Le(7234,{result:e})}function x3(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,v){return p.useProto3Json?(rt(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const v=p.code===void 0?ee.UNKNOWN:xE(p.code);return new fe(v,p.message||"")})(u);t=new PE(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wl(n,r.document.name),a=Jn(r.document.updateTime),u=r.document.createTime?Jn(r.document.createTime):Ve.min(),d=new Cn({mapValue:{fields:r.document.fields}}),f=Zt.newFoundDocument(s,a,u,d),p=r.targetIds||[],v=r.removedTargetIds||[];t=new ud(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wl(n,r.document),a=r.readTime?Jn(r.readTime):Ve.min(),u=Zt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new ud([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wl(n,r.document),a=r.removedTargetIds||[];t=new ud([],a,s,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new y3(s,a),d=r.targetId;t=new AE(d,u)}}return t}function ME(n,e){let t;if(e instanceof Tu)t={update:f_(n,e.key,e.value)};else if(e instanceof Su)t={delete:xd(n,e.key)};else if(e instanceof Ws)t={update:f_(n,e.key,e.data),updateMask:V3(e.fieldMask)};else{if(!(e instanceof RE))return Le(16599,{Vt:e.type});t={verify:xd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ou)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof au)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof lu)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Le(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:C3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le(27497)})(n,e.precondition)),t}function A3(n,e){return n&&n.length>0?(rt(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?Jn(s.updateTime):Jn(a);return u.isEqual(Ve.min())&&(u=Jn(a)),new h3(u,s.transformResults||[])})(t,e)))):[]}function P3(n,e){return{documents:[NE(n,e.path)]}}function b3(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NE(n,s);const a=(function(p){if(p.length!==0)return VE(Nr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((v=>(function(E){return{field:va(E.field),direction:L3(E.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=zp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function D3(n){let e=R3(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){rt(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(w){const E=OE(w);return E instanceof Nr&&aE(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((E=>(function(P){return new iu(_a(P.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let E;return E=typeof w=="object"?w.value:w,Eu(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(w){const E=!!w.before,I=w.values||[];return new Cd(I,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(w){const E=!w.before,I=w.values||[];return new Cd(I,E)})(t.endAt)),e3(e,s,u,a,d,"F",f,p)}function N3(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_a(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_a(t.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_a(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_a(t.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(_a(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Nr.create(t.compositeFilter.filters.map((r=>OE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(t.compositeFilter.op))})(n):Le(30097,{filter:n})}function L3(n){return E3[n]}function M3(n){return T3[n]}function O3(n){return S3[n]}function va(n){return{fieldPath:n.canonicalString()}}function _a(n){return on.fromServerFormat(n.fieldPath)}function VE(n){return n instanceof jt?(function(t){if(t.op==="=="){if(e_(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NAN"}};if(Zv(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(e_(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NAN"}};if(Zv(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(t.field),op:M3(t.op),value:t.value}}})(n):n instanceof Nr?(function(t){const r=t.getFilters().map((s=>VE(s)));return r.length===1?r[0]:{compositeFilter:{op:O3(t.op),filters:r}}})(n):Le(54877,{filter:n})}function V3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function FE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r,s,a=Ve.min(),u=Ve.min(),d=an.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.yt=e}}function U3(n){const e=D3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.Cn=new z3}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Fs.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class z3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Wt(gt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Wt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(UE,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ma(0)}static cr(){return new Ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",$3=1048576;function g_([n,e],[t,r]){const s=Ye(n,t);return s===0?Ye(e,r):s}class B3{constructor(e){this.Ir=e,this.buffer=new Wt(g_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();g_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class G3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wa(t)?ye(m_,"Ignoring IndexedDB error during garbage collection: ",t):await Ha(t)}await this.Vr(3e5)}))}}class H3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Kd.ce);const r=new B3(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(p_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,u,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(p=Date.now(),ga()<=Qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w}))))}}function W3(n,e){return new H3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(){this.changes=new Po((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Hl(r.mutation,s,Yn.empty(),yt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Je()){const s=wo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=Fl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=wo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Je())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let a=$i();const u=Gl(),d=(function(){return Gl()})();return t.forEach(((f,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof Ws)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Hl(v.mutation,p,v.mutation.getFieldMask(),yt.now())):u.set(p.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,v)=>u.set(p,v))),t.forEach(((p,v)=>d.set(p,new K3(v,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Gl();let s=new Pt(((u,d)=>u-d)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||Yn.empty();v=d.applyToLocalView(p,v),r.set(f,v);const w=(s.get(d.batchId)||Je()).add(f);s=s.insert(d.batchId,w)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,w=gE();v.forEach((E=>{if(!a.has(E)){const I=IE(t.get(E),r.get(E));I!==null&&w.set(E,I),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return te.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):te.resolve(wo());let d=eu,f=a;return u.next((p=>te.forEach(p,((v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{f=f.insert(v,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Je()))).next((v=>({batchId:d,changes:mE(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((r=>{let s=Fl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Fl();return this.indexManager.getCollectionParents(e,a).next((d=>te.forEach(d,(f=>{const p=(function(w,E){return new qa(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((v=>{v.forEach(((w,E)=>{u=u.insert(w,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Zt.newInvalidDocument(v)))}));let d=Fl();return u.forEach(((f,p)=>{const v=a.get(f);v!==void 0&&Hl(v.mutation,p,Yn.empty(),yt.now()),Xd(t,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Jn(s.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:U3(s.bundledQuery),readTime:Jn(s.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.overlays=new Pt(be.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wo();return te.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const s=wo(),a=t.length+1,u=new be(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return te.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Pt(((p,v)=>p-v));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=wo(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=wo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=s)););return te.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new g3(t,r));let a=this.qr.get(t);a===void 0&&(a=Je(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Qr=new Wt(Xt.$r),this.Ur=new Wt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Xt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Xt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new be(new gt([])),r=new Xt(t,e),s=new Xt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new gt([])),r=new Xt(t,e),s=new Xt(t,e+1);let a=Je();return this.Ur.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Xt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Ye(e.Yr,t.Yr)}static Kr(e,t){return Ye(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(Xt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new m3(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Zr=this.Zr.add(new Xt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(u)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Rm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xt(t,0),s=new Xt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(u=>{const d=this.Xr(u.Yr);a.push(d)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Ye);return t.forEach((s=>{const a=new Xt(s,0),u=new Xt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;be.isDocumentKey(a)||(a=a.child(""));const u=new Xt(new be(a),0);let d=new Wt(Ye);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.Yr)),!0)}),u),te.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){rt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(t.mutations,(s=>{const a=new Xt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Xt(t,0),s=this.Zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.ri=e,this.docs=(function(){return new Pt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let r=$i();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zt.newInvalidDocument(s))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=$i();const u=t.path,d=new be(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||DA(bA(v),r)<=0||(s.has(v.key)||Xd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Le(9500)}ii(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new tP(this)}getSize(e){return te.resolve(this.size)}}class tP extends q3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.persistence=e,this.si=new Po((t=>Am(t)),Pm),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Mm,this.targetCount=0,this.ai=Ma.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ma(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),te.waitFor(a).next((()=>s))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Kd(0),this.li=!1,this.li=!0,this.hi=new X3,this.referenceDelegate=e(this),this.Pi=new nP(this),this.indexManager=new j3,this.remoteDocumentCache=(function(s){return new eP(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new F3(t),this.Ii=new Y3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new J3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Z3(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const s=new rP(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class rP extends LA{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.Ri=new Mm,this.Vi=null}static mi(e){return new Om(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const s=be.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ad{constructor(e,t){this.persistence=e,this.pi=new Po((r=>VA(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=W3(this,t)}static mi(e,t){return new Ad(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?te.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Ve.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=od(e.data.value)),t}br(e,t,r){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return te.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Je(),s=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Vm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZC()?8:MA(yn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new iP;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(ga()<=Qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(ga()<=Qe.DEBUG&&ye("QueryEngine","Query:",ya(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ga()<=Qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(t))):te.resolve())}ys(e,t){if(i_(t))return te.resolve(null);let r=ai(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Rd(t,null,"F"),r=ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Je(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,d);return this.Cs(t,p,u,f.readTime)?this.ys(e,Rd(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,s){return i_(t)||s.isEqual(Ve.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,s)?te.resolve(null):(ga()<=Qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ya(t)),this.vs(e,u,t,PA(s,eu)).next((d=>d)))}))}Ds(e,t){let r=new Wt(fE(e));return t.forEach(((s,a)=>{Xd(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return ga()<=Qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ya(t)),this.ps.getDocumentsMatchingQuery(e,t,Fs.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LocalStore",oP=3e8;class aP{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Pt(Ye),this.xs=new Po((a=>Am(a)),Pm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function lP(n,e,t,r){return new aP(n,e,t,r)}async function zE(n,e){const t=ze(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=Je();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function uP(n,e){const t=ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,v){const w=p.batch,E=w.keys();let I=te.resolve();return E.forEach((P=>{I=I.next((()=>v.getEntry(f,P))).next((z=>{const U=p.docVersions.get(P);rt(U!==null,48541),z.version.compareTo(U)<0&&(w.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),v.addEntry(z)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Je();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function $E(n){const e=ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function cP(n,e){const t=ze(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((v,w)=>{const E=s.get(w);if(!E)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w))));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(an.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),s=s.insert(w,I),(function(z,U,H){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=oP?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(E,I,v)&&d.push(t.Pi.updateTargetData(a,I))}));let f=$i(),p=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),d.push(dP(a,u,e.documentUpdates).next((v=>{f=v.ks,p=v.qs}))),!r.isEqual(Ve.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(v)}return te.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=s,a)))}function dP(n,e,t){let r=Je(),s=Je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=$i();return t.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ye(Fm,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function hP(n,e){const t=ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Rm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fP(n,e){const t=ze(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,te.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new xs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Gp(n,e,t){const r=ze(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Wa(u))throw u;ye(Fm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function y_(n,e,t){const r=ze(n);let s=Ve.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,v){const w=ze(f),E=w.xs.get(v);return E!==void 0?te.resolve(w.Ms.get(E)):w.Pi.getTargetData(p,v)})(r,u,ai(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Ve.min(),t?a:Je()))).next((d=>(pP(r,n3(e),d),{documents:d,Qs:a})))))}function pP(n,e,t){let r=n.Os.get(e)||Ve.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class v_{constructor(){this.activeTargetIds=l3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mP{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="ConnectivityMonitor";class w_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(__,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(__,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function Hp(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="RestConnection",yP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Sd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const u=Hp(),d=this.zo(e,t.toUriEncodedString());ye(lp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(d),v=ja(p);return this.Jo(e,d,f,r,v).then((w=>(ye(lp,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw ba(lp,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}Ho(e,t,r,s,a,u){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=yP[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class wP extends vP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const u=Hp();return new Promise(((d,f)=>{const p=new j1;p.setWithCredentials(!0),p.listenOnce(z1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case sd.NO_ERROR:const w=p.getResponseJson();ye(pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case sd.TIMEOUT:ye(pn,`RPC '${e}' ${u} timed out`),f(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const E=p.getStatus();if(ye(pn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I?.error;if(P&&P.status&&P.message){const z=(function(H){const J=H.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(J)>=0?J:ee.UNKNOWN})(P.status);f(new fe(z,P.message))}else f(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(pn,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(s);ye(pn,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=Hp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=G1(),d=B1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ye(pn,`Creating RPC '${e}' stream ${s}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let E=!1,I=!1;const P=new _P({Yo:U=>{I?ye(pn,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(E||(ye(pn,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),ye(pn,`RPC '${e}' stream ${s} sending:`,U),w.send(U))},Zo:()=>w.close()}),z=(U,H,J)=>{U.listen(H,(Z=>{try{J(Z)}catch(se){setTimeout((()=>{throw se}),0)}}))};return z(w,Vl.EventType.OPEN,(()=>{I||(ye(pn,`RPC '${e}' stream ${s} transport opened.`),P.o_())})),z(w,Vl.EventType.CLOSE,(()=>{I||(I=!0,ye(pn,`RPC '${e}' stream ${s} transport closed`),P.a_(),this.E_(w))})),z(w,Vl.EventType.ERROR,(U=>{I||(I=!0,ba(pn,`RPC '${e}' stream ${s} transport errored. Name:`,U.name,"Message:",U.message),P.a_(new fe(ee.UNAVAILABLE,"The operation could not be completed")))})),z(w,Vl.EventType.MESSAGE,(U=>{if(!I){const H=U.data[0];rt(!!H,16349);const J=H,Z=J?.error||J[0]?.error;if(Z){ye(pn,`RPC '${e}' stream ${s} received error:`,Z);const se=Z.status;let he=(function(R){const k=Ut[R];if(k!==void 0)return xE(k)})(se),F=Z.message;he===void 0&&(he=ee.INTERNAL,F="Unknown error status: "+se+" with message "+Z.message),I=!0,P.a_(new fe(he,F)),w.close()}else ye(pn,`RPC '${e}' stream ${s} received:`,H),P.u_(H)}})),z(d,$1.STAT_EVENT,(U=>{U.stat===Lp.PROXY?ye(pn,`RPC '${e}' stream ${s} detected buffering proxy`):U.stat===Lp.NOPROXY&&ye(pn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function up(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(n){return new I3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="PersistentStream";class BE{constructor(e,t,r,s,a,u,d,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Um(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(E_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(E_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EP extends BE{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=x3(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ve.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?Jn(u.readTime):Ve.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Bp(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=Up(f)?{documents:P3(a,f)}:{query:b3(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=bE(a,u.resumeToken);const p=zp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ve.min())>0){d.readTime=kd(a,u.snapshotVersion.toTimestamp());const p=zp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=N3(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Bp(this.serializer),t.removeTarget=e,this.q_(t)}}class TP extends BE{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=A3(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Bp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>ME(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{}class IP extends SP{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,$p(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ee.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,$p(t,r),s,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="RemoteStore";class RP{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{bo(this)&&(ye(xo,"Restarting streams for network reachability change."),await(async function(f){const p=ze(f);p.Ea.add(4),await Cu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await rh(p)})(this))}))})),this.Ra=new CP(r,s)}}async function rh(n){if(bo(n))for(const e of n.da)await e(!0)}async function Cu(n){for(const e of n.da)await e(!1)}function GE(n,e){const t=ze(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Bm(t)?$m(t):Ka(t).O_()&&zm(t,e))}function jm(n,e){const t=ze(n),r=Ka(t);t.Ia.delete(e),r.O_()&&HE(t,e),t.Ia.size===0&&(r.O_()?r.L_():bo(t)&&t.Ra.set("Unknown"))}function zm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ka(n).Y_(e)}function HE(n,e){n.Va.Ue(e),Ka(n).Z_(e)}function $m(n){n.Va=new w3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ka(n).start(),n.Ra.ua()}function Bm(n){return bo(n)&&!Ka(n).x_()&&n.Ia.size>0}function bo(n){return ze(n).Ea.size===0}function WE(n){n.Va=void 0}async function kP(n){n.Ra.set("Online")}async function xP(n){n.Ia.forEach(((e,t)=>{zm(n,e)}))}async function AP(n,e){WE(n),Bm(n)?(n.Ra.ha(e),$m(n)):n.Ra.set("Unknown")}async function PP(n,e,t){if(n.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(r){ye(xo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pd(n,r)}else if(e instanceof ud?n.Va.Ze(e):e instanceof AE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ve.min()))try{const r=await $E(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(p);v&&a.Ia.set(p,v.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),HE(a,f);const w=new xs(v.target,f,p,v.sequenceNumber);zm(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ye(xo,"Failed to raise snapshot:",r),await Pd(n,r)}}async function Pd(n,e,t){if(!Wa(e))throw e;n.Ea.add(1),await Cu(n),n.Ra.set("Offline"),t||(t=()=>$E(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(xo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rh(n)}))}function qE(n,e){return e().catch((t=>Pd(n,t,e)))}async function ih(n){const e=ze(n),t=$s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rm;for(;bP(e);)try{const s=await hP(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,DP(e,s)}catch(s){await Pd(e,s)}KE(e)&&QE(e)}function bP(n){return bo(n)&&n.Ta.length<10}function DP(n,e){n.Ta.push(e);const t=$s(n);t.O_()&&t.X_&&t.ea(e.mutations)}function KE(n){return bo(n)&&!$s(n).x_()&&n.Ta.length>0}function QE(n){$s(n).start()}async function NP(n){$s(n).ra()}async function LP(n){const e=$s(n);for(const t of n.Ta)e.ea(t.mutations)}async function MP(n,e,t){const r=n.Ta.shift(),s=Dm.from(r,e,t);await qE(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await ih(n)}async function OP(n,e){e&&$s(n).X_&&await(async function(r,s){if((function(u){return kE(u)&&u!==ee.ABORTED})(s.code)){const a=r.Ta.shift();$s(r).B_(),await qE(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await ih(r)}})(n,e),KE(n)&&QE(n)}async function T_(n,e){const t=ze(n);t.asyncQueue.verifyOperationInProgress(),ye(xo,"RemoteStore received new credentials");const r=bo(t);t.Ea.add(3),await Cu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rh(t)}async function VP(n,e){const t=ze(n);e?(t.Ea.delete(2),await rh(t)):e||(t.Ea.add(2),await Cu(t),t.Ra.set("Unknown"))}function Ka(n){return n.ma||(n.ma=(function(t,r,s){const a=ze(t);return a.sa(),new EP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:kP.bind(null,n),t_:xP.bind(null,n),r_:AP.bind(null,n),H_:PP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Bm(n)?$m(n):n.Ra.set("Unknown")):(await n.ma.stop(),WE(n))}))),n.ma}function $s(n){return n.fa||(n.fa=(function(t,r,s){const a=ze(t);return a.sa(),new TP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:NP.bind(null,n),r_:OP.bind(null,n),ta:LP.bind(null,n),na:MP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ih(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(xo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new Gm(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(n,e){if(zi("AsyncQueue",`${e}: ${n}`),Wa(n))return new fe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static emptySet(e){return new ka(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||be.comparator(t.key,r.key):(t,r)=>be.comparator(t.key,r.key),this.keyedMap=Fl(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ka)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.ga=new Pt(be.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Oa{constructor(e,t,r,s,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Oa(e,t,ka.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class UP{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=ze(t),a=s.queries;s.queries=I_(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function I_(){return new Po((n=>hE(n)),Jd)}async function Wm(n,e){const t=ze(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new FP,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Hm(u,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Km(t)}async function qm(n,e){const t=ze(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function jP(n,e){const t=ze(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(s)&&(r=!0);u.wa=s}}r&&Km(t)}function zP(n,e,t){const r=ze(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function Km(n){n.Ca.forEach((e=>{e.next()}))}var Wp,C_;(C_=Wp||(Wp={})).Ma="default",C_.Cache="cache";class Qm{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class $P{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=fE(e),this.tu=new ka(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new S_,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,w)=>{const E=s.get(v),I=Xd(this.query,w)?w:null,P=!!E&&this.mutatedKeys.has(E.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;E&&I?E.data.isEqual(I.data)?P!==z&&(r.track({type:3,doc:I}),U=!0):this.su(E,I)||(r.track({type:2,doc:I}),U=!0,(f&&this.eu(I,f)>0||p&&this.eu(I,p)<0)&&(d=!0)):!E&&I?(r.track({type:0,doc:I}),U=!0):E&&!I&&(r.track({type:1,doc:E}),U=!0,(f||p)&&(d=!0)),U&&(I?(u=u.add(I),a=z?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,w)=>(function(I,P){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:U})}};return z(I)-z(P)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Oa(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new JE(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new YE(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Oa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ym="SyncEngine";class BP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class GP{constructor(e){this.key=e,this.hu=!1}}class HP{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Po((d=>hE(d)),Jd),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(be.comparator),this.Au=new Map,this.Ru=new Mm,this.Vu={},this.mu=new Map,this.fu=Ma.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WP(n,e,t=!0){const r=rT(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await XE(r,e,t,!0),s}async function qP(n,e){const t=rT(n);await XE(t,e,!0,!1)}async function XE(n,e,t,r){const s=await fP(n.localStore,ai(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await KP(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&GE(n.remoteStore,s),d}async function KP(n,e,t,r,s){n.pu=(w,E,I)=>(async function(z,U,H,J){let Z=U.view.ru(H);Z.Cs&&(Z=await y_(z.localStore,U.query,!1).then((({documents:A})=>U.view.ru(A,Z))));const se=J&&J.targetChanges.get(U.targetId),he=J&&J.targetMismatches.get(U.targetId)!=null,F=U.view.applyChanges(Z,z.isPrimaryClient,se,he);return k_(z,U.targetId,F.au),F.snapshot})(n,w,E,I);const a=await y_(n.localStore,e,!0),u=new $P(e,a.Qs),d=u.ru(a.documents),f=Iu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,f);k_(n,t,p.au);const v=new BP(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function QP(n,e,t){const r=ze(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((u=>!Jd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Gp(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&jm(r.remoteStore,s.targetId),qp(r,s.targetId)})).catch(Ha)):(qp(r,s.targetId),await Gp(r.localStore,s.targetId,!0))}async function YP(n,e){const t=ze(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jm(t.remoteStore,r.targetId))}async function JP(n,e,t){const r=i5(n);try{const s=await(function(u,d){const f=ze(u),p=yt.now(),v=d.reduce(((I,P)=>I.add(P.key)),Je());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=$i(),z=Je();return f.Ns.getEntries(I,v).next((U=>{P=U,P.forEach(((H,J)=>{J.isValidDocument()||(z=z.add(H))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,P))).next((U=>{w=U;const H=[];for(const J of d){const Z=p3(J,w.get(J.key).overlayedDocument);Z!=null&&H.push(new Ws(J.key,Z,iE(Z.value.mapValue),zt.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,H,d)})).next((U=>{E=U;const H=U.applyToLocalDocumentSet(w,z);return f.documentOverlayCache.saveOverlays(I,U.batchId,H)}))})).then((()=>({batchId:E.batchId,changes:mE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new Pt(Ye)),p=p.insert(d,f),u.Vu[u.currentUser.toKey()]=p})(r,s.batchId,t),await Ru(r,s.changes),await ih(r.remoteStore)}catch(s){const a=Hm(s,"Failed to persist write");t.reject(a)}}async function ZE(n,e){const t=ze(n);try{const r=await cP(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Au.get(a);u&&(rt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?rt(u.hu,14607):s.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await Ru(t,r,e)}catch(r){await Ha(r)}}function R_(n,e,t){const r=ze(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=ze(u);f.onlineState=d;let p=!1;f.queries.forEach(((v,w)=>{for(const E of w.Sa)E.va(d)&&(p=!0)})),p&&Km(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XP(n,e,t){const r=ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new Pt(be.comparator);u=u.insert(a,Zt.newNoDocument(a,Ve.min()));const d=Je().add(a),f=new th(Ve.min(),new Map,new Pt(Ye),u,d);await ZE(r,f),r.du=r.du.remove(a),r.Au.delete(e),Jm(r)}else await Gp(r.localStore,e,!1).then((()=>qp(r,e,t))).catch(Ha)}async function ZP(n,e){const t=ze(n),r=e.batch.batchId;try{const s=await uP(t.localStore,e);tT(t,r,null),eT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ru(t,s)}catch(s){await Ha(s)}}async function e5(n,e,t){const r=ze(n);try{const s=await(function(u,d){const f=ze(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next((w=>(rt(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(p,w)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);tT(r,e,t),eT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ru(r,s)}catch(s){await Ha(s)}}function eT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function tT(n,e,t){const r=ze(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function qp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||nT(n,r)}))}function nT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(jm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Jm(n))}function k_(n,e,t){for(const r of t)r instanceof YE?(n.Ru.addReference(r.key,e),t5(n,r)):r instanceof JE?(ye(Ym,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||nT(n,r.key)):Le(19791,{wu:r})}function t5(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ye(Ym,"New document in limbo: "+t),n.Eu.add(r),Jm(n))}function Jm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(gt.fromString(e)),r=n.fu.next();n.Au.set(r,new GP(t)),n.du=n.du.insert(t,r),GE(n.remoteStore,new xs(ai(Yd(t.path)),r,"TargetPurposeLimboResolution",Kd.ce))}}async function Ru(n,e,t){const r=ze(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=Vm.As(f.targetId,p);a.push(v)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(f,p){const v=ze(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(p,(E=>te.forEach(E.Es,(I=>v.persistence.referenceDelegate.addReference(w,E.targetId,I))).next((()=>te.forEach(E.ds,(I=>v.persistence.referenceDelegate.removeReference(w,E.targetId,I)))))))))}catch(w){if(!Wa(w))throw w;ye(Fm,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const I=v.Ms.get(E),P=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(E,z)}}})(r.localStore,a))}async function n5(n,e){const t=ze(n);if(!t.currentUser.isEqual(e)){ye(Ym,"User change. New user:",e.toKey());const r=await zE(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new fe(ee.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ru(t,r.Ls)}}function r5(n,e){const t=ze(n),r=t.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let s=Je();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function rT(n){const e=ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XP.bind(null,e),e.Pu.H_=jP.bind(null,e.eventManager),e.Pu.yu=zP.bind(null,e.eventManager),e}function i5(n){const e=ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e5.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return lP(this.persistence,new sP,e.initialUser,this.serializer)}Cu(e){return new jE(Om.mi,this.serializer)}Du(e){return new mP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class s5 extends bd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){rt(this.persistence.referenceDelegate instanceof Ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new G3(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new jE((r=>Ad.mi(r,t)),this.serializer)}}class Kp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=n5.bind(null,this.syncEngine),await VP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new UP})()}createDatastore(e){const t=nh(e.databaseInfo.databaseId),r=(function(a){return new wP(a)})(e.databaseInfo);return(function(a,u,d,f){return new IP(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,d){return new RP(r,s,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>R_(this.syncEngine,t,0)),(function(){return w_.v()?new w_:new gP})())}createSyncEngine(e,t){return(function(s,a,u,d,f,p,v){const w=new HP(s,a,u,d,f,p);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ze(t);ye(xo,"RemoteStore shutting down."),r.Ea.add(5),await Cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kp.provider={build:()=>new Kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,a){const u=ze(s),d={documents:a.map((w=>xd(u.serializer,w)))},f=await u.Ho("BatchGetDocuments",u.serializer.databaseId,gt.emptyPath(),d,a.length),p=new Map;f.forEach((w=>{const E=k3(u.serializer,w);p.set(E.key.toString(),E)}));const v=[];return a.forEach((w=>{const E=p.get(w.toString());rt(!!E,55234,{key:w}),v.push(E)})),v})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Su(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=be.fromPath(r);this.mutations.push(new RE(s,this.precondition(s)))})),await(async function(r,s){const a=ze(r),u={writes:s.map((d=>ME(a.serializer,d)))};await a.Go("Commit",a.serializer.databaseId,gt.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Le(50498,{Gu:e.constructor.name});t=Ve.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ve.min())?zt.exists(!1):zt.updateTime(t):zt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ve.min()))throw new fe(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zt.updateTime(t)}return zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,t,r,s,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=a,this.zu=r.maxAttempts,this.M_=new Um(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new o5(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Eu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!kE(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class l5{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=mn.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ye(Bs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ye(Bs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Hm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function cp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Bs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await zE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function x_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await u5(n);ye(Bs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>T_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>T_(e.remoteStore,s))),n._onlineComponents=e}async function u5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Bs,"Using user provided OfflineComponentProvider");try{await cp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;ba("Error using user provided cache. Falling back to memory cache: "+t),await cp(n,new bd)}}else ye(Bs,"Using default OfflineComponentProvider"),await cp(n,new s5(void 0));return n._offlineComponents}async function Zm(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Bs,"Using user provided OnlineComponentProvider"),await x_(n,n._uninitializedComponentsProvider._online)):(ye(Bs,"Using default OnlineComponentProvider"),await x_(n,new Kp))),n._onlineComponents}function c5(n){return Zm(n).then((e=>e.syncEngine))}function d5(n){return Zm(n).then((e=>e.datastore))}async function Dd(n){const e=await Zm(n),t=e.eventManager;return t.onListen=WP.bind(null,e.syncEngine),t.onUnlisten=QP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YP.bind(null,e.syncEngine),t}function h5(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const v=new Xm({next:E=>{v.Nu(),u.enqueueAndForget((()=>qm(a,w)));const I=E.docs.has(d);!I&&E.fromCache?p.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new Qm(Yd(d.path),v,{includeMetadataChanges:!0,qa:!0});return Wm(a,w)})(await Dd(n),n.asyncQueue,e,t,r))),r.promise}function f5(n,e,t={}){const r=new oi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const v=new Xm({next:E=>{v.Nu(),u.enqueueAndForget((()=>qm(a,w))),E.fromCache&&f.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new Qm(d,v,{includeMetadataChanges:!0,qa:!0});return Wm(a,w)})(await Dd(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",P_=!0;class b_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$3)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new vA;switch(r.type){case"firstParty":return new TA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=A_.get(t);r&&(ye("ComponentProvider","Removing Datastore"),A_.delete(t),r.terminate())})(this),Promise.resolve()}}function p5(n,e,t,r={}){n=gn(n,sh);const s=ja(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(Yw(`https://${d}`),Jw("Firestore",!0)),a.host!==sT&&a.host!==d&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:s,emulatorOptions:r};if(!Io(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=mn.MOCK_USER;else{p=GC(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new mn(w)}n._authCredentials=new _A(new W1(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class At{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(wu(t,At._jsonSchema))return new At(e,r||null,new be(gt.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:$t("string",At._jsonSchemaVersion),referencePath:$t("string")};class Ms extends Gi{constructor(e,t,r){super(e,t,Yd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new be(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function D_(n,e,...t){if(n=Lt(n),q1("collection","path",e),n instanceof sh){const r=gt.fromString(e,...t);return Gv(r),new Ms(n,null,r)}{if(!(n instanceof At||n instanceof Ms))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return Gv(r),new Ms(n.firestore,null,r)}}function ni(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=Cm.newId()),q1("doc","path",e),n instanceof sh){const r=gt.fromString(e,...t);return Bv(r),new At(n,null,new be(r))}{if(!(n instanceof At||n instanceof Ms))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return Bv(r),new At(n.firestore,n instanceof Ms?n.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="AsyncQueue";class L_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Um(this,"async_queue_retry"),this._c=()=>{const r=up();r&&ye(N_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=up();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=up();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new oi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wa(e))throw e;ye(N_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",M_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Gm.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Le(47125,{Pc:M_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function M_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1})(n,["next","error","complete"])}class Lr extends sh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new L_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L_(e),this._firestoreClient=void 0,await e}}}function m5(n,e){const t=typeof n=="object"?n:hm(),r=typeof n=="string"?n:Sd,s=dm(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=$C("firestore");a&&p5(s,...a)}return s}function Qa(n){if(n._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||g5(n),n._firestoreClient}function g5(n){const e=n._freezeSettings(),t=(function(s,a,u,d){return new jA(s,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new l5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(an.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:$t("string",Kn._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(wu(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:$t("string",li._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ui(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:$t("string",ui._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=/^__.*__$/;class v5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tu(e,this.data,t,this.fieldTransforms)}}class oT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:n})}}class eg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aT(this.Ac)&&y5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nh(e)}Cc(e,t,r,s=!1){return new eg({Ac:e,methodName:t,Dc:r,path:on.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ja(n){const e=n._freezeSettings(),t=nh(n._databaseId);return new _5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oh(n,e,t,r,s,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);sg("Data must be an object, but it was:",u,r);const d=lT(r,u);let f,p;if(a.merge)f=new Yn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=Qp(e,w,t);if(!u.contains(E))throw new fe(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);cT(v,E)||v.push(E)}f=new Yn(v),p=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,p=u.fieldTransforms;return new v5(new Cn(d),f,p)}class ah extends ku{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ah}}class tg extends ku{_toFieldTransform(e){return new SE(e.path,new su)}isEqual(e){return e instanceof tg}}class ng extends ku{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new lu(e.serializer,vE(e.serializer,this.Fc));return new SE(e.path,t)}isEqual(e){return e instanceof ng&&this.Fc===e.Fc}}function rg(n,e,t,r){const s=n.Cc(1,e,t);sg("Data must be an object, but it was:",s,r);const a=[],u=Cn.empty();Hs(r,((f,p)=>{const v=og(e,f,t);p=Lt(p);const w=s.yc(v);if(p instanceof ah)a.push(v);else{const E=xu(p,w);E!=null&&(a.push(v),u.set(v,E))}}));const d=new Yn(a);return new oT(u,d,s.fieldTransforms)}function ig(n,e,t,r,s,a){const u=n.Cc(1,e,t),d=[Qp(e,r,t)],f=[s];if(a.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Qp(e,a[E])),f.push(a[E+1]);const p=[],v=Cn.empty();for(let E=d.length-1;E>=0;--E)if(!cT(p,d[E])){const I=d[E];let P=f[E];P=Lt(P);const z=u.yc(I);if(P instanceof ah)p.push(I);else{const U=xu(P,z);U!=null&&(p.push(I),v.set(I,U))}}const w=new Yn(p);return new oT(v,w,u.fieldTransforms)}function w5(n,e,t,r=!1){return xu(t,n.Cc(r?4:3,e))}function xu(n,e){if(uT(n=Lt(n)))return sg("Unsupported field value:",e,n),lT(n,e);if(n instanceof ku)return(function(r,s){if(!aT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const d of r){let f=xu(d,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vE(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=yt.fromDate(r);return{timestampValue:kd(s.serializer,a)}}if(r instanceof yt){const a=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kd(s.serializer,a)}}if(r instanceof li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:bE(s.serializer,r._byteString)};if(r instanceof At){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Lm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ui)return(function(u,d){return{mapValue:{fields:{[nE]:{stringValue:rE},[Id]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return bm(d.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${qd(r)}`)})(n,e)}function lT(n,e){const t={};return Y1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(n,((r,s)=>{const a=xu(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function uT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof li||n instanceof Kn||n instanceof At||n instanceof ku||n instanceof ui)}function sg(n,e,t){if(!uT(t)||!K1(t)){const r=qd(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Qp(n,e,t){if((e=Lt(e))instanceof Ya)return e._internalPath;if(typeof e=="string")return og(n,e);throw Nd("Field path arguments must be of type string or ",n,!1,void 0,t)}const E5=new RegExp("[~\\*/\\[\\]]");function og(n,e,t){if(e.search(E5)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ya(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nd(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new fe(ee.INVALID_ARGUMENT,d+n+f)}function cT(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class T5 extends Ld{data(){return super.data()}}function lh(n,e){return typeof e=="string"?og(n,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class lg extends ag{}function V_(n,e,...t){let r=[];e instanceof ag&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof ug)).length,d=a.filter((f=>f instanceof uh)).length;if(u>1||u>0&&d>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class uh extends lg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new uh(e,t,r)}_apply(e){const t=this._parse(e);return hT(e._query,t),new Gi(e.firestore,e.converter,jp(e._query,t))}_parse(e){const t=Ja(e.firestore);return(function(a,u,d,f,p,v,w){let E;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){j_(w,v);const P=[];for(const z of w)P.push(U_(f,a,z));E={arrayValue:{values:P}}}else E=U_(f,a,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||j_(w,v),E=w5(d,u,w,v==="in"||v==="not-in");return jt.create(p,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ll(n,e,t){const r=e,s=lh("where",n);return uh._create(s,r,t)}class ug extends ag{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ug(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let u=s;const d=a.getFlattenedFilters();for(const f of d)hT(u,f),u=jp(u,f)})(e._query,t),new Gi(e.firestore,e.converter,jp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends lg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cg(e,t)}_apply(e){const t=(function(s,a,u){if(s.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(a,u)})(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,(function(s,a){const u=s.explicitOrderBy.concat([a]);return new qa(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function F_(n,e="asc"){const t=e,r=lh("orderBy",n);return cg._create(r,t)}class dg extends lg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new dg(e,t,r)}_apply(e){return new Gi(e.firestore,e.converter,Rd(e._query,this._limit,this._limitType))}}function B4(n){return AA("limit",n),dg._create("limit",n,"F")}function U_(n,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dE(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gt.fromString(t));if(!be.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xv(n,new be(r))}if(t instanceof At)return Xv(n,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(t)}.`)}function j_(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hT(n,e){const t=(function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class fT{convertValue(e,t="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Hs(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Id].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new ui(t)}convertGeoPoint(e){return new li(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const t=Us(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gt.fromString(e);rt(FE(r),9688,{name:e});const s=new nu(r.get(1),r.get(3)),a=new be(r.popFirst(5));return s.isEqual(t)||zi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class S5 extends fT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}class wa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Os extends Ld{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Os._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Os._jsonSchemaVersion="firestore/documentSnapshot/1.0",Os._jsonSchema={type:$t("string",Os._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class cd extends Os{data(e={}){return super.data(e)}}class To{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new wa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new cd(this._firestore,this._userDataWriter,r.key,r,new wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new cd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new wa(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new cd(s._firestore,s._userDataWriter,d.doc.key,d.doc,new wa(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:I5(d.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=To._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(n){n=gn(n,At);const e=gn(n.firestore,Lr);return h5(Qa(e),n._key).then((t=>pT(e,n,t)))}To._jsonSchemaVersion="firestore/querySnapshot/1.0",To._jsonSchema={type:$t("string",To._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class dh extends fT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function C5(n){n=gn(n,Gi);const e=gn(n.firestore,Lr),t=Qa(e),r=new dh(e);return dT(n._query),f5(t,n._query).then((s=>new To(e,r,n,s)))}function Fa(n,e,t){n=gn(n,At);const r=gn(n.firestore,Lr),s=ch(n.converter,e,t);return Au(r,[oh(Ja(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,zt.none())])}function G4(n,e,t,...r){n=gn(n,At);const s=gn(n.firestore,Lr),a=Ja(s);let u;return u=typeof(e=Lt(e))=="string"||e instanceof Ya?ig(a,"updateDoc",n._key,e,t,r):rg(a,"updateDoc",n._key,e),Au(s,[u.toMutation(n._key,zt.exists(!0))])}function H4(n){return Au(gn(n.firestore,Lr),[new Su(n._key,zt.none())])}function W4(n,e){const t=gn(n.firestore,Lr),r=ni(n),s=ch(n.converter,e);return Au(t,[oh(Ja(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,zt.exists(!1))]).then((()=>r))}function R5(n,...e){n=Lt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||O_(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(O_(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,u,d;if(n instanceof At)u=gn(n.firestore,Lr),d=Yd(n._key.path),a={next:f=>{e[r]&&e[r](pT(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=gn(n,Gi);u=gn(f.firestore,Lr),d=f._query;const p=new dh(u);a={next:v=>{e[r]&&e[r](new To(u,p,f,v))},error:e[r+1],complete:e[r+2]},dT(n._query)}return(function(p,v,w,E){const I=new Xm(E),P=new Qm(v,I,w);return p.asyncQueue.enqueueAndForget((async()=>Wm(await Dd(p),P))),()=>{I.Nu(),p.asyncQueue.enqueueAndForget((async()=>qm(await Dd(p),P)))}})(Qa(u),d,s,a)}function Au(n,e){return(function(r,s){const a=new oi;return r.asyncQueue.enqueueAndForget((async()=>JP(await c5(r),s,a))),a.promise})(Qa(n),e)}function pT(n,e,t){const r=t.docs.get(e._key),s=new dh(n);return new Os(n,s,e._key,r,new wa(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ja(e)}set(e,t,r){this._verifyNotCommitted();const s=As(e,this._firestore),a=ch(s.converter,t,r),u=oh(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,zt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const a=As(e,this._firestore);let u;return u=typeof(t=Lt(t))=="string"||t instanceof Ya?ig(this._dataReader,"WriteBatch.update",a._key,t,r,s):rg(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,zt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=As(e,this._firestore);return this._mutations=this._mutations.concat(new Su(t._key,zt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function As(n,e){if((n=Lt(n)).firestore!==e)throw new fe(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ja(e)}get(e){const t=As(e,this._firestore),r=new S5(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return Le(24041);const a=s[0];if(a.isFoundDocument())return new Ld(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Ld(this._firestore,r,t._key,null,t.converter);throw Le(18433,{doc:a})}))}set(e,t,r){const s=As(e,this._firestore),a=ch(s.converter,t,r),u=oh(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const a=As(e,this._firestore);let u;return u=typeof(t=Lt(t))=="string"||t instanceof Ya?ig(this._dataReader,"Transaction.update",a._key,t,r,s):rg(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=As(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5 extends A5{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=As(e,this._firestore),r=new dh(this._firestore);return super.get(e).then((s=>new Os(this._firestore,r,t._key,s._document,new wa(!1,!1),t.converter)))}}function q4(n,e,t){n=gn(n,Lr);const r={...k5,...t};return(function(a){if(a.maxAttempts<1)throw new fe(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,u,d){const f=new oi;return a.asyncQueue.enqueueAndForget((async()=>{const p=await d5(a);new a5(a.asyncQueue,p,d,u,f).ju()})),f.promise})(Qa(n),(s=>e(new P5(n,s))),r)}function ql(){return new tg("serverTimestamp")}function z_(n){return new ng("increment",n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(n){return Qa(n=gn(n,Lr)),new x5(n,(e=>Au(n,e)))}(function(e,t=!0){(function(s){Ga=s})(za),Aa(new Co("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Lr(new wA(r.getProvider("auth-internal")),new SA(u,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(p.options.projectId,v)})(u,s),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Ds(Uv,jv,e),Ds(Uv,jv,"esm2020")})();const D5={apiKey:"AIzaSyAR_AY9733xRieLod3p-CKUFcPMCD2AXI4",authDomain:"typesprout.firebaseapp.com",projectId:"typesprout",storageBucket:"typesprout.firebasestorage.app",messagingSenderId:"970052811902",appId:"1:970052811902:web:0a4e9315eb614b1784ec2f",measurementId:"G-XXXXXXXXXX"},mT=ak().length?hm():e1(D5),Dr=pA(mT),uu=new Li,Qn=m5(mT),K4=Object.freeze(Object.defineProperty({__proto__:null,auth:Dr,db:Qn,googleProvider:uu},Symbol.toStringTag,{value:"Module"}));function N5(){try{const e=Intl.DateTimeFormat().resolvedOptions().locale.split("-")[1];if(e&&e.length===2)return e.toUpperCase()}catch{}return"US"}const Q4=[{code:"US",name:"United States"},{code:"TW",name:"Taiwan"},{code:"JP",name:"Japan"},{code:"CN",name:"China"},{code:"HK",name:"Hong Kong"},{code:"SG",name:"Singapore"},{code:"KR",name:"Korea"},{code:"GB",name:"United Kingdom"},{code:"FR",name:"France"},{code:"DE",name:"Germany"}],L5=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];function Y4(n){const e=n||(typeof navigator<"u"?navigator.language:"en");let t=null;try{t=new Intl.DisplayNames([e],{type:"region"})}catch{t=null}return L5.map(s=>{const a=t?.of(s)||s;return{code:s,name:a}}).sort((s,a)=>String(s.code).localeCompare(String(a.code)))}async function M5(n){try{const e=ni(Qn,"profiles",n),r=(await Va(e)).data()?.country;if(!r||typeof r!="string"||r.length!==2)return;const s=ni(Qn,"metrics_country_users",n),u=(await Va(s)).data()?.last;if(u===r)return;const d=b5(Qn);u&&u!==r&&d.set(ni(Qn,"metrics_country",u.toUpperCase()),{count:z_(-1)},{merge:!0}),d.set(ni(Qn,"metrics_country",r.toUpperCase()),{count:z_(1)},{merge:!0}),d.set(s,{last:r.toUpperCase()},{merge:!0}),await d.commit()}catch{}}function hg(){const[n,e]=O.useState(null),[t,r]=O.useState(!0);return O.useEffect(()=>{const s=ix(Dr,async a=>{e(a),r(!1);try{if(!a)return;const u=ni(Qn,"profiles",a.uid),d=await Va(u),f=N5();if(!d.exists()){await Fa(u,{createdAt:ql(),country:f},{merge:!0});return}const p=d.data();(!p?.country||p.country==="Auto")&&await Fa(u,{country:f,updatedAt:ql()},{merge:!0}),await M5(a.uid)}catch{}});return()=>s()},[]),{user:n,loading:t}}async function gT(n){const e=ni(Qn,"profiles",n.uid);(await Va(e)).exists()?await Fa(e,{email:n.email||"",updatedAt:ql()},{merge:!0}):await Fa(e,{displayName:n.displayName||"",email:n.email||"",xp:0,level:1,streakDays:0,langPref:"en-US",gender:"U",dobYM:"",role:"student",points:0,createdAt:ql(),updatedAt:ql()},{merge:!0})}async function O5(){const n=await Px(Dr).catch(()=>null);n?.user&&await gT(n.user)}async function V5(){try{await S1(Dr,wm)}catch{}try{const n=await N1(Dr,uu);n?.user&&await gT(n.user)}catch(n){const e=String(n&&n.code||"");if(/popup/i.test(e)){await O1(Dr,uu);return}throw n}}async function J4(){await sx(Dr)}function F5(){const{user:n,loading:e}=hg(),{t}=pu(),{lang:r}=im(),[s,a]=O.useState(!1);if(O.useEffect(()=>{O5()},[]),O.useEffect(()=>{a(!1)},[n?.uid,n?.photoURL]),e)return Q.jsx(Cp,{disabled:!0,children:t("auth.loading")});if(!n)return Q.jsx(Cp,{onClick:()=>void V5(),children:t("auth.signIn")});const u=n.photoURL||"",d=!s&&u?`${u}${u.includes("?")?"&":"?"}sz=64`:"",f=n.displayName||t("ui.loading");return Q.jsx(Mi,{to:`/${r||"en-US"}/profile`,className:"flex items-center gap-2",children:d?Q.jsx("img",{src:d,alt:f,width:36,height:36,className:"rounded-full border border-[var(--color-border,#e5e7eb)]",onError:()=>a(!0),loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"}):Q.jsx("div",{className:"w-9 h-9 rounded-full bg-[var(--color-primary,#16a34a)] text-white grid place-items-center font-semibold",children:f.slice(0,1)})})}const U5="modulepreload",j5=function(n){return"/"+n},$_={},Vr=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(t.map(p=>{if(p=j5(p),p in $_)return;$_[p]=!0;const v=p.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":U5,v||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),v)return new Promise((I,P)=>{E.addEventListener("load",I),E.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};async function z5(){await S1(Dr,wm);try{return await N1(Dr,uu)}catch{return await O1(Dr,uu)}}const $5=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="184.5" cy="789.1" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="694.4" cy="792.3" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="721.5" cy="799.1" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="648.9" cy="789.7" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="461.1" cy="785.0" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="628.3" cy="782.0" r="3.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="439.9" cy="782.0" r="5.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="696.2" cy="750.5" r="5.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="229.6" cy="801.5" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="433.6" cy="784.6" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="326.6" cy="766.5" r="5.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="621.8" cy="794.4" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="290.8" cy="761.4" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="299.4" cy="774.3" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="357.4" cy="783.4" r="4.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="655.5" cy="763.8" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="290.1" cy="785.7" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="340.0" cy="795.1" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="487.1" cy="752.0" r="4.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="531.8" cy="780.7" r="4.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="435.5" cy="790.8" r="4.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="290.2" cy="789.4" r="4.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="649.0" cy="803.4" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="373.7" cy="790.2" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="434.5" cy="784.2" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="546.7" cy="802.3" r="4.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="476.3" cy="792.8" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="239.3" cy="772.6" r="4.8" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 454,633 450,563" fill="none" stroke="#2f8f3e" stroke-width="14" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,603 Q 400.0,493 350,563" fill="none" stroke="#2f8f3e" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" style="display:none"/>
<path id="stem-2" d="M450,623 Q 505.0,513 560,583" fill="none" stroke="#2f8f3e" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" style="display:none"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-12 390 543)" filter="url(#leafShadow)">  <ellipse cx="390" cy="543" rx="85.0" ry="41.0" fill="url(#cotyledonGrad)" stroke="#2a7b3a" stroke-width="4"/>  <line x1="317.0" y1="543.0" x2="463.0" y2="543.0" stroke="#256d33" stroke-width="5" opacity="0.55"/></g><g id="leaf-2" transform="rotate(12 510 543)" filter="url(#leafShadow)">  <ellipse cx="510" cy="543" rx="85.0" ry="41.0" fill="url(#cotyledonGrad)" stroke="#2a7b3a" stroke-width="4"/>  <line x1="437.0" y1="543.0" x2="583.0" y2="543.0" stroke="#256d33" stroke-width="5" opacity="0.55"/></g><g id="leaf-3" transform="rotate(-18 340 568)" filter="url(#leafShadow)" style="display:none">  <path d="M 265.0,568.0 Q 340.0,498.0 415.0,568.0 Q 340.0,638.0 265.0,568.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="275.0" y1="568.0" x2="405.0" y2="568.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(18 565 573)" filter="url(#leafShadow)" style="display:none">  <path d="M 490.0,573.0 Q 565.0,503.0 640.0,573.0 Q 565.0,643.0 490.0,573.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="500.0" y1="573.0" x2="630.0" y2="573.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"></g>
<g id="fruits"></g>
</svg>`,B5=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="213.7" cy="784.5" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="250.2" cy="787.1" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="697.6" cy="771.6" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="589.5" cy="752.0" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="405.9" cy="757.2" r="4.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="559.0" cy="756.4" r="3.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="413.4" cy="800.2" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="727.7" cy="759.1" r="4.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="266.5" cy="792.8" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="395.3" cy="799.8" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="525.6" cy="753.6" r="6.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="716.7" cy="804.8" r="3.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="481.0" cy="772.2" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="273.4" cy="779.4" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="433.4" cy="780.3" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="729.0" cy="757.0" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="342.3" cy="787.1" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="533.8" cy="769.7" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="666.7" cy="791.1" r="4.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="658.8" cy="766.4" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="623.5" cy="760.0" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="490.8" cy="758.7" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="238.1" cy="771.3" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="326.1" cy="802.5" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="479.4" cy="752.0" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="648.8" cy="803.6" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="305.0" cy="768.4" r="5.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="261.3" cy="749.7" r="4.2" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 456,583 450,463" fill="none" stroke="#2f8f3e" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,533 Q 385.0,428 320,498" fill="none" stroke="#2f8f3e" stroke-width="11" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-2" d="M450,553 Q 520.0,448 590,518" fill="none" stroke="#2f8f3e" stroke-width="11" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-3" d="M450,583 Q 400.0,493 350,563" fill="none" stroke="#2f8f3e" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" style="display:none"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-20 310 483)" filter="url(#leafShadow)">  <path d="M 235.0,483.0 Q 310.0,411.0 385.0,483.0 Q 310.0,555.0 235.0,483.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="245.0" y1="483.0" x2="375.0" y2="483.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-2" transform="rotate(20 600 503)" filter="url(#leafShadow)">  <path d="M 525.0,503.0 Q 600.0,431.0 675.0,503.0 Q 600.0,575.0 525.0,503.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="535.0" y1="503.0" x2="665.0" y2="503.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-3" transform="rotate(-12 360 553)" filter="url(#leafShadow)">  <path d="M 290.0,553.0 Q 360.0,485.0 430.0,553.0 Q 360.0,621.0 290.0,553.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="300.0" y1="553.0" x2="420.0" y2="553.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(12 545 563)" filter="url(#leafShadow)" style="display:none">  <path d="M 475.0,563.0 Q 545.0,495.0 615.0,563.0 Q 545.0,631.0 475.0,563.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="485.0" y1="563.0" x2="605.0" y2="563.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"></g>
<g id="fruits"></g>
</svg>`,G5=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="241.6" cy="798.1" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="297.7" cy="789.0" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="264.4" cy="768.5" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="436.2" cy="789.2" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="688.8" cy="790.0" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="618.0" cy="750.6" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="374.8" cy="772.9" r="4.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="310.5" cy="786.5" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="363.9" cy="766.2" r="3.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="182.7" cy="769.8" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="598.3" cy="778.2" r="4.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="222.0" cy="763.2" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="336.8" cy="804.8" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="673.7" cy="754.4" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="363.1" cy="763.7" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="718.9" cy="750.7" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="635.2" cy="776.4" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="316.1" cy="759.3" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="510.4" cy="802.9" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="277.3" cy="766.1" r="3.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="574.5" cy="752.8" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="298.7" cy="786.9" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="282.1" cy="758.9" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="377.9" cy="797.0" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="622.7" cy="759.0" r="5.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="667.4" cy="795.7" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="494.4" cy="779.7" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="253.5" cy="788.0" r="5.4" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 460,528 450,353" fill="none" stroke="#2f8f3e" stroke-width="18" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,423 Q 360.0,333 270,403" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-2" d="M450,453 Q 545.0,363 640,433" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-3" d="M450,483 Q 370.0,403 290,473" fill="none" stroke="#2f8f3e" stroke-width="11" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-4" d="M450,513 Q 530.0,433 610,503" fill="none" stroke="#2f8f3e" stroke-width="11" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-22 250 388)" filter="url(#leafShadow)">  <path d="M 165.0,388.0 Q 250.0,310.0 335.0,388.0 Q 250.0,466.0 165.0,388.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="175.0" y1="388.0" x2="325.0" y2="388.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-2" transform="rotate(22 660 408)" filter="url(#leafShadow)">  <path d="M 575.0,408.0 Q 660.0,330.0 745.0,408.0 Q 660.0,486.0 575.0,408.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="585.0" y1="408.0" x2="735.0" y2="408.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-3" transform="rotate(-20 270 453)" filter="url(#leafShadow)">  <path d="M 190.0,453.0 Q 270.0,377.0 350.0,453.0 Q 270.0,529.0 190.0,453.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="200.0" y1="453.0" x2="340.0" y2="453.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(20 635 463)" filter="url(#leafShadow)">  <path d="M 555.0,463.0 Q 635.0,387.0 715.0,463.0 Q 635.0,539.0 555.0,463.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="565.0" y1="463.0" x2="705.0" y2="463.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-5" transform="rotate(-16 310 503)" filter="url(#leafShadow)">  <path d="M 235.0,503.0 Q 310.0,429.0 385.0,503.0 Q 310.0,577.0 235.0,503.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="245.0" y1="503.0" x2="375.0" y2="503.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-6" transform="rotate(16 595 513)" filter="url(#leafShadow)">  <path d="M 520.0,513.0 Q 595.0,439.0 670.0,513.0 Q 595.0,587.0 520.0,513.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="530.0" y1="513.0" x2="660.0" y2="513.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"><g id="flower-1" class="flower" style="display:none">  <path d="M410,313 C 406.4,306.764617092752 413.6,306.764617092752 410.0,293.0 M410,313 C 413.6,306.764617092752 417.2,313.0 427.3205080756888,303.0 M410,313 C 417.2,313.0 413.6,319.235382907248 427.3205080756888,323.0 M410,313 C 413.6,319.235382907248 406.4,319.235382907248 410.0,333.0 M410,313 C 406.4,319.235382907248 402.8,313.0 392.6794919243112,323.0 M410,313 C 402.8,313.0 406.4,306.764617092752 392.6794919243112,303.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="410" cy="313" r="4.4" fill="#f0a500"/></g><g id="flower-2" class="flower" style="display:none">  <path d="M460,318 C 456.4,311.764617092752 463.6,311.764617092752 460.0,298.0 M460,318 C 463.6,311.764617092752 467.2,318.0 477.3205080756888,308.0 M460,318 C 467.2,318.0 463.6,324.235382907248 477.3205080756888,328.0 M460,318 C 463.6,324.235382907248 456.4,324.235382907248 460.0,338.0 M460,318 C 456.4,324.235382907248 452.8,318.0 442.6794919243112,328.0 M460,318 C 452.8,318.0 456.4,311.764617092752 442.6794919243112,308.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="460" cy="318" r="4.4" fill="#f0a500"/></g><g id="flower-3" class="flower" style="display:none">  <path d="M510,311 C 506.4,304.764617092752 513.6,304.764617092752 510.0,291.0 M510,311 C 513.6,304.764617092752 517.2,311.0 527.3205080756887,301.0 M510,311 C 517.2,311.0 513.6,317.235382907248 527.3205080756887,321.0 M510,311 C 513.6,317.235382907248 506.4,317.235382907248 510.0,331.0 M510,311 C 506.4,317.235382907248 502.8,311.0 492.6794919243112,321.0 M510,311 C 502.8,311.0 506.4,304.764617092752 492.6794919243112,301.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="510" cy="311" r="4.4" fill="#f0a500"/></g></g>
<g id="fruits"></g>
</svg>`,H5=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="578.0" cy="757.6" r="3.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="257.1" cy="785.7" r="5.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="384.5" cy="802.2" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="356.6" cy="755.3" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="614.9" cy="781.7" r="4.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="713.2" cy="795.5" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="343.9" cy="784.2" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="392.8" cy="749.6" r="4.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="499.1" cy="801.7" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="189.7" cy="751.3" r="4.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="524.8" cy="756.2" r="4.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="711.5" cy="770.0" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="376.9" cy="785.6" r="3.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="489.4" cy="752.0" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="296.7" cy="782.7" r="4.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="251.4" cy="750.9" r="3.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="424.2" cy="776.4" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="720.8" cy="803.7" r="4.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="318.5" cy="779.5" r="5.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="663.1" cy="750.8" r="5.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="656.8" cy="753.2" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="683.1" cy="751.9" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="657.9" cy="749.0" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="359.6" cy="763.3" r="5.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="490.7" cy="800.6" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="223.2" cy="781.2" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="265.8" cy="780.6" r="4.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="433.2" cy="800.5" r="4.5" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 460,483 450,263" fill="none" stroke="#2f8f3e" stroke-width="20" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,333 Q 345.0,253 240,323" fill="none" stroke="#2f8f3e" stroke-width="13" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-2" d="M450,363 Q 560.0,283 670,353" fill="none" stroke="#2f8f3e" stroke-width="13" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-3" d="M450,403 Q 355.0,328 260,398" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-4" d="M450,443 Q 542.5,368 635,438" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-22 215 298)" filter="url(#leafShadow)">  <path d="M 127.5,298.0 Q 215.0,218.0 302.5,298.0 Q 215.0,378.0 127.5,298.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="137.5" y1="298.0" x2="292.5" y2="298.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-2" transform="rotate(22 695 318)" filter="url(#leafShadow)">  <path d="M 607.5,318.0 Q 695.0,238.0 782.5,318.0 Q 695.0,398.0 607.5,318.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="617.5" y1="318.0" x2="772.5" y2="318.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-3" transform="rotate(-20 245 383)" filter="url(#leafShadow)">  <path d="M 162.5,383.0 Q 245.0,305.0 327.5,383.0 Q 245.0,461.0 162.5,383.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="172.5" y1="383.0" x2="317.5" y2="383.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(20 660 393)" filter="url(#leafShadow)">  <path d="M 577.5,393.0 Q 660.0,315.0 742.5,393.0 Q 660.0,471.0 577.5,393.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="587.5" y1="393.0" x2="732.5" y2="393.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-5" transform="rotate(-16 280 438)" filter="url(#leafShadow)">  <path d="M 202.5,438.0 Q 280.0,362.0 357.5,438.0 Q 280.0,514.0 202.5,438.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="212.5" y1="438.0" x2="347.5" y2="438.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-6" transform="rotate(16 625 448)" filter="url(#leafShadow)">  <path d="M 547.5,448.0 Q 625.0,372.0 702.5,448.0 Q 625.0,524.0 547.5,448.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="557.5" y1="448.0" x2="692.5" y2="448.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"><g id="flower-1" class="flower">  <path d="M400,238 C 396.4,231.76461709275205 403.6,231.76461709275205 400.0,218.0 M400,238 C 403.6,231.76461709275205 407.2,238.0 417.3205080756888,228.0 M400,238 C 407.2,238.0 403.6,244.23538290724795 417.3205080756888,248.0 M400,238 C 403.6,244.23538290724795 396.4,244.23538290724795 400.0,258.0 M400,238 C 396.4,244.23538290724795 392.8,238.0 382.6794919243112,248.0 M400,238 C 392.8,238.0 396.4,231.76461709275205 382.6794919243112,228.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="400" cy="238" r="4.4" fill="#f0a500"/></g><g id="flower-2" class="flower">  <path d="M455,243 C 451.4,236.76461709275205 458.6,236.76461709275205 455.0,223.0 M455,243 C 458.6,236.76461709275205 462.2,243.0 472.3205080756888,233.0 M455,243 C 462.2,243.0 458.6,249.23538290724795 472.3205080756888,253.0 M455,243 C 458.6,249.23538290724795 451.4,249.23538290724795 455.0,263.0 M455,243 C 451.4,249.23538290724795 447.8,243.0 437.6794919243112,253.0 M455,243 C 447.8,243.0 451.4,236.76461709275205 437.6794919243112,233.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="455" cy="243" r="4.4" fill="#f0a500"/></g><g id="flower-3" class="flower">  <path d="M510,235 C 506.4,228.76461709275205 513.6,228.76461709275205 510.0,215.0 M510,235 C 513.6,228.76461709275205 517.2,235.0 527.3205080756887,225.0 M510,235 C 517.2,235.0 513.6,241.23538290724795 527.3205080756887,245.0 M510,235 C 513.6,241.23538290724795 506.4,241.23538290724795 510.0,255.0 M510,235 C 506.4,241.23538290724795 502.8,235.0 492.6794919243112,245.0 M510,235 C 502.8,235.0 506.4,228.76461709275205 492.6794919243112,225.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="510" cy="235" r="4.4" fill="#f0a500"/></g></g>
<g id="fruits"><g id="fruit-1" class="fruit" style="display:none">
  <circle cx="465" cy="248" r="22" fill="url(#fruitGradG)" stroke="#7a1717" stroke-width="4"/>
  <line x1="465" y1="248" x2="465.0" y2="229.3" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="465" y1="248" x2="482.7847568547194" y2="242.2213822051885" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="465" y1="248" x2="475.9915842178693" y2="263.12861779481153" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="465" y1="248" x2="454.0084157821308" y2="263.12861779481153" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="465" y1="248" x2="447.2152431452806" y2="242.2213822051885" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g></g>
</svg>`,W5=`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="900" viewBox="0 0 900 900">
<defs>
  <radialGradient id="soilGrad" cx="50%" cy="40%" r="65%">    <stop offset="0%" stop-color="#77533a"/>    <stop offset="100%" stop-color="#4e3627"/>  </radialGradient>
  <linearGradient id="cotyledonGrad" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#71d684"/>    <stop offset="100%" stop-color="#3aa557"/>  </linearGradient>
  <linearGradient id="leafGradMain" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#4fb866"/>    <stop offset="100%" stop-color="#2d8f40"/>  </linearGradient>
  <linearGradient id="leafGradDark" x1="0%" y1="0%" x2="0%" y2="100%">    <stop offset="0%" stop-color="#3ea659"/>    <stop offset="100%" stop-color="#1f6d31"/>  </linearGradient>
  <radialGradient id="fruitGradR" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ff7266"/>    <stop offset="100%" stop-color="#b81f21"/>  </radialGradient>
  <radialGradient id="fruitGradG" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#b5e27b"/>    <stop offset="100%" stop-color="#4f7f26"/>  </radialGradient>
  <radialGradient id="fruitGradO" cx="35%" cy="30%" r="70%">    <stop offset="0%" stop-color="#ffc27e"/>    <stop offset="100%" stop-color="#d26a1f"/>  </radialGradient>
  <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">    <feGaussianBlur stdDeviation="55"/>  </filter>
  <filter id="leafShadow" x="-50%" y="-50%" width="200%" height="200%">    <feDropShadow dx="0" dy="2" stdDeviation="1.5" flood-color="#194c26" flood-opacity="0.25"/>  </filter>
</defs>
<g id="glow" opacity="0.28" filter="url(#softGlow)">  <circle cx="450" cy="378.0" r="340" fill="#9de3a7"/></g>
<g id="lighting" opacity="0.18" filter="url(#softGlow)">  <ellipse cx="450" cy="162.0" rx="240" ry="160" fill="#e7ffe9"/></g>
<g id="soil">
<ellipse cx="450" cy="783" rx="330" ry="95" fill="url(#soilGrad)"/>
<circle cx="320.3" cy="764.9" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="340.2" cy="770.2" r="5.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="320.8" cy="765.4" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="214.8" cy="787.1" r="3.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="273.4" cy="792.6" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="509.0" cy="769.5" r="4.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="560.8" cy="768.2" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="554.5" cy="784.0" r="5.5" fill="#3d2a1f" opacity="0.5"/>
<circle cx="711.4" cy="793.7" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="299.5" cy="750.4" r="3.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="652.4" cy="776.4" r="5.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="666.8" cy="783.2" r="5.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="464.2" cy="785.7" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="655.4" cy="779.9" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="608.5" cy="798.9" r="3.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="612.8" cy="759.2" r="5.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="679.9" cy="781.7" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="704.2" cy="771.4" r="3.6" fill="#3d2a1f" opacity="0.5"/>
<circle cx="186.8" cy="790.5" r="4.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="214.0" cy="798.8" r="5.4" fill="#3d2a1f" opacity="0.5"/>
<circle cx="203.6" cy="785.9" r="4.7" fill="#3d2a1f" opacity="0.5"/>
<circle cx="700.8" cy="782.3" r="5.9" fill="#3d2a1f" opacity="0.5"/>
<circle cx="640.3" cy="793.5" r="5.8" fill="#3d2a1f" opacity="0.5"/>
<circle cx="350.1" cy="756.5" r="5.1" fill="#3d2a1f" opacity="0.5"/>
<circle cx="669.9" cy="789.1" r="3.0" fill="#3d2a1f" opacity="0.5"/>
<circle cx="367.9" cy="801.0" r="4.2" fill="#3d2a1f" opacity="0.5"/>
<circle cx="358.9" cy="788.1" r="4.3" fill="#3d2a1f" opacity="0.5"/>
<circle cx="528.4" cy="790.0" r="5.2" fill="#3d2a1f" opacity="0.5"/>
</g>
<g id="trunk"><path d="M 450,753 Q 458,463 450,223" fill="none" stroke="#2f8f3e" stroke-width="22" stroke-linecap="round" stroke-linejoin="round"/></g>
<g id="stem">
<path id="stem-1" d="M450,293 Q 330.0,213 210,283" fill="none" stroke="#2f8f3e" stroke-width="14" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-2" d="M450,323 Q 575.0,243 700,313" fill="none" stroke="#2f8f3e" stroke-width="14" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-3" d="M450,363 Q 345.0,288 240,358" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
<path id="stem-4" d="M450,403 Q 552.5,328 655,398" fill="none" stroke="#2f8f3e" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<g id="leaves"><g id="leaf-1" transform="rotate(-22 190 273)" filter="url(#leafShadow)">  <path d="M 100.0,273.0 Q 190.0,191.0 280.0,273.0 Q 190.0,355.0 100.0,273.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="110.0" y1="273.0" x2="270.0" y2="273.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-2" transform="rotate(22 715 293)" filter="url(#leafShadow)">  <path d="M 625.0,293.0 Q 715.0,211.0 805.0,293.0 Q 715.0,375.0 625.0,293.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="635.0" y1="293.0" x2="795.0" y2="293.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-3" transform="rotate(-20 225 353)" filter="url(#leafShadow)">  <path d="M 140.0,353.0 Q 225.0,273.0 310.0,353.0 Q 225.0,433.0 140.0,353.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="150.0" y1="353.0" x2="300.0" y2="353.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-4" transform="rotate(20 680 363)" filter="url(#leafShadow)">  <path d="M 595.0,363.0 Q 680.0,283.0 765.0,363.0 Q 680.0,443.0 595.0,363.0 Z" fill="url(#leafGradDark)" stroke="#206c30" stroke-width="4"/>  <line x1="605.0" y1="363.0" x2="755.0" y2="363.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-5" transform="rotate(-16 260 413)" filter="url(#leafShadow)">  <path d="M 180.0,413.0 Q 260.0,335.0 340.0,413.0 Q 260.0,491.0 180.0,413.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="190.0" y1="413.0" x2="330.0" y2="413.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g><g id="leaf-6" transform="rotate(16 645 423)" filter="url(#leafShadow)">  <path d="M 565.0,423.0 Q 645.0,345.0 725.0,423.0 Q 645.0,501.0 565.0,423.0 Z" fill="url(#leafGradMain)" stroke="#206c30" stroke-width="4"/>  <line x1="575.0" y1="423.0" x2="715.0" y2="423.0" stroke="#1c5a28" stroke-width="5" opacity="0.6"/></g></g>
<g id="flowers"><g id="flower-1" class="flower" style="display:none">  <path d="M400,238 C 396.4,231.76461709275205 403.6,231.76461709275205 400.0,218.0 M400,238 C 403.6,231.76461709275205 407.2,238.0 417.3205080756888,228.0 M400,238 C 407.2,238.0 403.6,244.23538290724795 417.3205080756888,248.0 M400,238 C 403.6,244.23538290724795 396.4,244.23538290724795 400.0,258.0 M400,238 C 396.4,244.23538290724795 392.8,238.0 382.6794919243112,248.0 M400,238 C 392.8,238.0 396.4,231.76461709275205 382.6794919243112,228.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="400" cy="238" r="4.4" fill="#f0a500"/></g><g id="flower-2" class="flower" style="display:none">  <path d="M455,243 C 451.4,236.76461709275205 458.6,236.76461709275205 455.0,223.0 M455,243 C 458.6,236.76461709275205 462.2,243.0 472.3205080756888,233.0 M455,243 C 462.2,243.0 458.6,249.23538290724795 472.3205080756888,253.0 M455,243 C 458.6,249.23538290724795 451.4,249.23538290724795 455.0,263.0 M455,243 C 451.4,249.23538290724795 447.8,243.0 437.6794919243112,253.0 M455,243 C 447.8,243.0 451.4,236.76461709275205 437.6794919243112,233.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="455" cy="243" r="4.4" fill="#f0a500"/></g><g id="flower-3" class="flower" style="display:none">  <path d="M510,235 C 506.4,228.76461709275205 513.6,228.76461709275205 510.0,215.0 M510,235 C 513.6,228.76461709275205 517.2,235.0 527.3205080756887,225.0 M510,235 C 517.2,235.0 513.6,241.23538290724795 527.3205080756887,245.0 M510,235 C 513.6,241.23538290724795 506.4,241.23538290724795 510.0,255.0 M510,235 C 506.4,241.23538290724795 502.8,235.0 492.6794919243112,245.0 M510,235 C 502.8,235.0 506.4,228.76461709275205 492.6794919243112,225.0" fill="none" stroke="#ffd84d" stroke-width="7" stroke-linecap="round"/>  <circle cx="510" cy="235" r="4.4" fill="#f0a500"/></g></g>
<g id="fruits"><g id="fruit-1" class="fruit">
  <circle cx="370" cy="328" r="36" fill="url(#fruitGradG)" stroke="#7a1717" stroke-width="4"/>
  <line x1="370" y1="328" x2="370.0" y2="297.4" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="370" y1="328" x2="399.1023293986317" y2="318.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="370" y1="328" x2="387.98622872014965" y2="352.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="370" y1="328" x2="352.01377127985035" y2="352.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="370" y1="328" x2="340.8976706013683" y2="318.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g><g id="fruit-2" class="fruit">
  <circle cx="420" cy="313" r="36" fill="url(#fruitGradO)" stroke="#7a1717" stroke-width="4"/>
  <line x1="420" y1="313" x2="420.0" y2="282.4" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="420" y1="313" x2="449.1023293986317" y2="303.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="420" y1="313" x2="437.98622872014965" y2="337.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="420" y1="313" x2="402.01377127985035" y2="337.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="420" y1="313" x2="390.8976706013683" y2="303.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g><g id="fruit-3" class="fruit">
  <circle cx="475" cy="328" r="36" fill="url(#fruitGradR)" stroke="#7a1717" stroke-width="4"/>
  <line x1="475" y1="328" x2="475.0" y2="297.4" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="475" y1="328" x2="504.1023293986317" y2="318.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="475" y1="328" x2="492.98622872014965" y2="352.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="475" y1="328" x2="457.01377127985035" y2="352.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="475" y1="328" x2="445.8976706013683" y2="318.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g><g id="fruit-4" class="fruit">
  <circle cx="530" cy="313" r="36" fill="url(#fruitGradR)" stroke="#7a1717" stroke-width="4"/>
  <line x1="530" y1="313" x2="530.0" y2="282.4" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="530" y1="313" x2="559.1023293986317" y2="303.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="530" y1="313" x2="547.9862287201497" y2="337.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="530" y1="313" x2="512.0137712798503" y2="337.7559200278734" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
  <line x1="530" y1="313" x2="500.8976706013683" y2="303.5440799721266" stroke="#2e7d32" stroke-width="3" stroke-linecap="round"/>
</g></g>
</svg>`;function B_({stage:n,className:e}){const t=O.useRef(null),r=O.useMemo(()=>[$5,B5,G5,H5,W5][Math.min(4,Math.max(0,n-1))],[n]);return O.useEffect(()=>{const s=t.current;if(!s)return;s.innerHTML=r;const a=s.querySelector("svg");if(!a)return;a.removeAttribute("width"),a.removeAttribute("height"),a.setAttribute("preserveAspectRatio","xMidYMid meet"),a.style.width="100%",a.style.height="100%",a.style.display="block";const u=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(a.classList.remove("boosted"),u)return;const d=a.querySelector("#leaves"),f=a.querySelector("#trunk")||a.querySelector("#stem"),p=a.querySelector("#glow")||a.querySelector("#lighting");d&&d.classList.add("wind"),f&&f.classList.add("wind-slow"),p&&p.classList.add("glow-pulse")},[r]),Q.jsx("div",{ref:t,className:(e?e+" ":"")+"seedling-host","aria-hidden":"true"})}function q5(n="default"){const[e,t]=O.useState({stage:1}),[r,s]=O.useState(!1),[a,u]=O.useState(null),d=Dr.currentUser?.uid,f=O.useCallback(async()=>{if(d){s(!0),u(null);try{const v=ni(Qn,"users",d,"plants",n),w=await Va(v);if(w.exists()){const E=w.data(),I=Number(E.stage)||1;t({stage:I})}else await Fa(v,{stage:1}),t({stage:1})}catch(v){u(v instanceof Error?v.message:"Failed to load plant")}finally{s(!1)}}},[d,n]),p=O.useCallback(async v=>{if(d){s(!0),u(null);try{const w=ni(Qn,"users",d,"plants",n),E={...e,...v};await Fa(w,E,{merge:!0}),t(E)}catch(w){u(w instanceof Error?w.message:"Failed to save plant")}finally{s(!1)}}},[d,n,e]);return O.useEffect(()=>{f()},[f]),{state:e,loading:r,error:a,load:f,save:p}}const K5=O.lazy(()=>Vr(()=>import("./Home-Bzc3IDBn.js"),__vite__mapDeps([0,1,2,3]))),Q5=O.lazy(()=>Vr(()=>import("./Test-lrGdWJgB.js"),__vite__mapDeps([4,5,1,6,7,3]))),Y5=O.lazy(()=>Vr(()=>import("./Result-B47avcVM.js"),__vite__mapDeps([8,5,1]))),J5=O.lazy(()=>Vr(()=>import("./Leaderboard-BNM-AxUu.js"),[])),X5=O.lazy(()=>Vr(()=>import("./Profile-Blp_X_hC.js"),__vite__mapDeps([9,5,1,6,7]))),Z5=O.lazy(()=>Vr(()=>import("./Garden-DeRJ5NVM.js"),__vite__mapDeps([10,2])));O.lazy(()=>Vr(()=>import("./Admin-fC7ukh7C.js"),__vite__mapDeps([11,7])));O.lazy(()=>Vr(()=>import("./AdminEmailList-B18ee-yS.js"),[]));const e4=O.lazy(()=>Vr(()=>import("./NotFound-C74uIS_a.js"),[])),t4=O.lazy(()=>Vr(()=>import("./Terms-BgYa_as3.js"),[])),n4=O.lazy(()=>Vr(()=>import("./Privacy-Cetp4EIk.js"),[])),r4=[{index:!0,element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(K5,{})}),errorElement:Q.jsx(ei,{})},{path:"test",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(Q5,{})}),errorElement:Q.jsx(ei,{})},{path:"result",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(Y5,{})}),errorElement:Q.jsx(ei,{})},{path:"leaderboard",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(J5,{})}),errorElement:Q.jsx(ei,{})},{path:"profile",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(X5,{})}),errorElement:Q.jsx(ei,{})},{path:"garden",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(Z5,{})}),errorElement:Q.jsx(ei,{})},{path:"terms",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(t4,{})}),errorElement:Q.jsx(ei,{})},{path:"privacy",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(n4,{})}),errorElement:Q.jsx(ei,{})},{path:"seedling",element:Q.jsx(i4,{}),errorElement:Q.jsx(ei,{})},{path:"*",element:Q.jsx(O.Suspense,{fallback:null,children:Q.jsx(e4,{})}),errorElement:Q.jsx(ei,{})}];function i4(){const{t:n}=pu(),{user:e,loading:t}=hg(),{state:r,save:s,loading:a}=q5("default");return t?null:e?Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4",children:[Q.jsx("h2",{className:"h2 mb-3",children:"Seedling"}),Q.jsx("div",{className:"w-64 h-64",children:Q.jsx(B_,{stage:r.stage,className:"w-full h-full"})}),Q.jsxs("div",{className:"mt-6",children:[Q.jsx("div",{className:"text-[var(--color-muted,#6b7280)] mb-2",children:n("dev.stageOverview")}),Q.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-3",children:[1,2,3,4,5].map(u=>Q.jsxs("div",{className:"p-3 border rounded-[12px] text-center",children:[Q.jsx("div",{className:"mx-auto w-32 h-32",children:Q.jsx(B_,{stage:u,className:"w-full h-full"})}),Q.jsxs("div",{className:"mt-1 text-sm",children:[n("dev.stage")," ",u]})]},u))})]}),Q.jsx("div",{className:"mt-3 flex items-center gap-2",children:Q.jsxs("label",{className:"flex items-center gap-2",children:[Q.jsx("span",{children:n("dev.stage")}),Q.jsxs("select",{className:"h-10 rounded-[10px] border px-2",value:r.stage,onChange:u=>{s({stage:Number(u.target.value)})},disabled:a,children:[Q.jsx("option",{value:1,children:"1"}),Q.jsx("option",{value:2,children:"2"}),Q.jsx("option",{value:3,children:"3"}),Q.jsx("option",{value:4,children:"4"}),Q.jsx("option",{value:5,children:"5"})]})]})}),Q.jsxs("div",{className:"mt-2 text-[var(--color-muted,#6b7280)] text-sm",children:[n("dev.savedToFirestore"),"","users/{uid}/plants/default"]})]}):Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4",children:[Q.jsx("h2",{className:"h2 mb-3",children:"Seedling"}),Q.jsx("p",{className:"mb-3",children:n("auth.pleaseSignIn")}),Q.jsx(Cp,{onClick:()=>{z5()},children:"Sign in with Google"})]})}function ei(){const{t:n}=pu(),e=Lw(),t=xa(e),r=(()=>{try{return t?`${e.status} ${e.statusText}`:e&&typeof e=="object"&&"message"in e?String(e.message):n("error.loadingError")}catch{return n("error.loadingError")}})();return Q.jsx("div",{className:"max-w-[960px] mx-auto px-4 py-6",children:Q.jsxs("div",{className:"p-4 border rounded-[12px] bg-red-50 border-red-200 text-red-700",children:[Q.jsx("div",{className:"font-semibold mb-1",children:n("error.errorOccurred")}),Q.jsx("div",{className:"text-sm mb-3",children:r}),Q.jsx(Mi,{to:"..",relative:"path",className:"inline-flex items-center px-3 h-10 rounded-[10px] border bg-white",children:n("error.goBack")}),Q.jsx("span",{className:"mx-2"}),Q.jsx(Mi,{to:"/",className:"inline-flex items-center px-3 h-10 rounded-[10px] border bg-white",children:n("error.goHome")})]})})}function s4({title:n,description:e,canonicalPath:t}){const r=typeof location<"u"?location.origin:"",s=t.split("/")[1]||"en-US",a=r?`${r}${t}`:t,u={"@context":"https://schema.org","@type":"SoftwareApplication",name:n,description:e,applicationCategory:"EducationalApplication",operatingSystem:"Web",url:a,inLanguage:s};return Q.jsxs(cS,{children:[Q.jsx("title",{children:n}),Q.jsx("meta",{name:"description",content:e}),r&&Q.jsx("link",{rel:"canonical",href:a}),r&&So.map(d=>Q.jsx("link",{rel:"alternate",hrefLang:d,href:`${r}/${d}${t.replace(`/${s}`,"")}`},d)),Q.jsx("script",{type:"application/ld+json",children:JSON.stringify(u)})]})}function o4({label:n,children:e=""}){const t=O.useId(),[r,s]=O.useState(!1);return Q.jsxs("span",{className:"relative inline-block align-middle",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[Q.jsx("span",{"aria-describedby":t,onFocus:()=>s(!0),onBlur:()=>s(!1),tabIndex:0,className:"inline-flex items-center justify-center w-4 h-4 rounded-full bg-sky-100 text-sky-700 text-[10px] font-bold cursor-help outline-none focus:ring-2 focus:ring-sky-300 ml-1 align-middle",children:e}),r&&Q.jsx("div",{role:"tooltip",id:t,className:"absolute z-10 mt-1 min-w-[180px] max-w-[260px] px-2 py-1 text-xs leading-5 rounded-md border border-[var(--color-border,#e5e7eb)] bg-white shadow-[0_2px_8px_rgba(0,0,0,.08)]",style:{left:"50%",transform:"translateX(-50%)"},children:n})]})}const fa={baseByLang:{"en-US":10,"zh-TW":10,"zh-CN":10},targetByGrade:{"en-US":{1:10,2:15,3:20,4:25,5:30,6:35},"zh-TW":{1:60,2:70,3:80,4:100,5:110,6:120},"zh-CN":{1:60,2:70,3:80,4:100,5:110,6:120}},dailyEpCap:100,extremes:{enWpm:200,zhCpm:400},humanMaxCpm:1e3};function yT({children:n,size:e="base",className:t=""}){const r={xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"};return Q.jsx("span",{className:`brand-title ${r[e]} ${t}`,style:{fontFamily:"var(--font-brand)",fontWeight:800,letterSpacing:"0.5px",color:"var(--color-primary, #16a34a)"},children:n})}const a4="typesprout_reminder_pref_v1",vT="typesprout_last_practice_v1";function fg(){try{const n=localStorage.getItem(a4);if(!n)return{enabled:!0,hour:19};const e=JSON.parse(n);return{enabled:e.enabled??!0,hour:Number.isFinite(e.hour)?e.hour:19}}catch{return{enabled:!0,hour:19}}}function l4(){try{localStorage.setItem(vT,String(Date.now()))}catch{}}function _T(){const n=localStorage.getItem(vT);if(!n)return null;const e=Number(n);return Number.isFinite(e)?e:null}function wT(n=Date.now()){const e=fg();if(!e.enabled)return!1;const t=_T();return t?(n-t)/36e5<24?!1:new Date(n).getHours()>=e.hour:!0}async function ET(){if(!("Notification"in window))return"denied";if(Notification.permission!=="default")return Notification.permission;try{return await Notification.requestPermission()}catch{return Notification.permission}}function TT(){if(!("Notification"in window)||Notification.permission!=="granted")return!1;try{return new Notification("",{body:"",badge:"/icons/badge-72.png",icon:"/icons/icon-192.png"}),!0}catch{return!1}}const X4=Object.freeze(Object.defineProperty({__proto__:null,getLastPracticeMs:_T,loadReminderPref:fg,markPracticedNow:l4,requestNotifyPermission:ET,shouldRemind:wT,showReminderNotification:TT},Symbol.toStringTag,{value:"Module"}));function u4({children:n}){const{t:e}=pu(),{user:t}=hg(),{lang:r}=im(),s=r||"en-US",{pathname:a}=hi(),u=a.split("/")[2]||"",f=(J=>{const Z="TypeSprout";switch(J){case"practice":return{title:`${e("nav.practice")}  ${Z}`,description:e("meta.practiceDescription")};case"test":return{title:`${e("nav.test")}  ${Z}`,description:e("meta.testDescription")};case"result":return{title:`${e("meta.result")}  ${Z}`,description:e("meta.resultDescription")};case"leaderboard":return{title:`${e("nav.leaderboard")}  ${Z}`,description:e("meta.leaderboardDescription")};case"profile":return{title:`${e("nav.profile")}  ${Z}`,description:e("meta.profileDescription")};case"garden":return{title:`${e("nav.garden")}  ${Z}`,description:e("meta.gardenDescription")};case"admin":return{title:`Admin  ${Z}`,description:"Administration placeholder."};default:return{title:`${Z}  ${e("nav.subtitle")}`,description:e("meta.homeDescription")}}})(u),p=a||`/${s}/`,[v,w]=O.useState(!1),[E,I]=O.useState(!1),[P,z]=O.useState(0),[U,H]=O.useState(null);return O.useEffect(()=>{if(!fg().enabled)return;(async()=>{wT()&&(await ET()==="granted"&&TT()||w(!0))})()},[]),O.useEffect(()=>{try{sessionStorage.getItem("hideLoginHint")==="1"&&I(!0)}catch{}},[]),O.useEffect(()=>{if(!t){z(0);return}try{const J=new Date,Z=J.toLocaleDateString("en-CA"),se=new Date(J.getFullYear(),J.getMonth(),J.getDate()),he=new Date(J.getFullYear(),J.getMonth(),J.getDate(),23,59,59,999),F=se,A=he;console.log("Debug: Time calculation",{now:J,nowLocal:J.toLocaleString(),nowUTC:J.toISOString(),todayLocal:se,todayLocalString:se.toLocaleString(),todayLocalUTC:se.toISOString(),todayEndLocal:he,todayEndLocalString:he.toLocaleString(),todayEndLocalUTC:he.toISOString(),start:F,startLocal:F.toLocaleString(),startUTC:F.toISOString(),end:A,endLocal:A.toLocaleString(),endUTC:A.toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timezoneOffset:J.getTimezoneOffset()}),console.log("Debug: Time calculation details",{now:J.toISOString(),nowLocal:J.toLocaleString(),todayLocal:se.toISOString(),todayLocalString:se.toLocaleString(),start:F.toISOString(),startLocal:F.toLocaleString(),user:t.uid});const R=V_(D_(Qn,"economyLogs"),Ll("uid","==",t.uid),Ll("ts",">=",yt.fromDate(F)),Ll("ts","<=",yt.fromDate(A)),F_("ts","desc")),k=R5(R,b=>{let L=0;if(console.log("Economy logs count:",b.docs.length,"logs"),b.docs.forEach(j=>{const C=j.data();if(C.type==="earn"){const ve=Number(C.delta||0);L+=ve,console.log("Economy log entry:",{type:C.type,delta:ve,ts:C.ts?.toDate?.()?.toISOString()})}}),L===0){console.log("No economy logs found, calculating from attempts"),(async()=>{try{const C=V_(D_(Qn,"attempts"),Ll("uid","==",t.uid),Ll("ts",">=",yt.fromDate(F)),F_("ts","desc")),ve=await C5(C);console.log("Found attempts:",ve.docs.length,"attempts");let He=0;ve.docs.forEach(xe=>{const Te=xe.data(),ne=Te.ts?.toDate?.();if(console.log("Attempt details:",{ts:ne?.toISOString(),tsLocal:ne?.toLocaleString(),durationSec:Te.durationSec,adjWpm:Te.adjWpm,accuracy:Te.accuracy}),ne&&ne>=F&&ne<=A){if(Te.durationSec&&Te.adjWpm&&Te.accuracy){const me=r||"en-US",ce=fa.baseByLang[me],M=Te.durationSec/60,X=Math.max(0,Math.min(2,Te.adjWpm/20)),pe=ce*M*X*(.5+.5*Te.accuracy),Ne=Math.round(pe);He+=Ne,console.log("EP calculation:",{minutes:M,ratio:X,ep:pe,roundedEp:Ne,calculatedSum:He})}}else console.log("Attempt outside time range:",{recordTime:ne?.toISOString(),start:F.toISOString(),end:A.toISOString()})}),console.log("Total calculated EP:",He),z(He)}catch(C){console.error("Error calculating EP from attempts:",C)}})();return}console.log("Total EP from economy logs:",L),z(L)});return()=>{try{k()}catch{}}}catch(J){console.error("Error in getTodayEarned:",J),z(0)}},[t]),O.useEffect(()=>{(async()=>{try{if(!t){H(null);return}const J=r||"en-US",Z=fa.baseByLang[J],se=ni(Qn,"profiles",t.uid),he=await Va(se),F=he.exists()?he.data():{},A=Math.max(1,Math.min(6,Number(F.grade||3))),R=fa.targetByGrade[J]?.[A]||20,k=F.lastAttempt||{},b=Math.max(0,Math.min(1,Number(k.accuracy??.85))),L=Number(k.adjWpm??R*.8),j=Math.max(0,Math.min(2,L/R)),C=Z*j*(.5+.5*b),ve=Math.max(0,fa.dailyEpCap-P);if(!Number.isFinite(C)||C<=0)H(null);else{const He=ve<=0?0:Math.ceil(ve/C),Te=Math.min(He,100);H(Number.isFinite(Te)?Te:null)}}catch{H(null)}})()},[t,r,P]),Q.jsxs(Q.Fragment,{children:[Q.jsx(s4,{title:f.title,description:f.description,canonicalPath:p}),typeof window<"u"&&r&&Q.jsx("script",{dangerouslySetInnerHTML:{__html:`try{localStorage.setItem('typesprout_lang','${s}')}catch{}`}}),t&&Q.jsx("div",{className:"bg-[var(--color-surface,#fff)]/90 backdrop-blur border-b border-[var(--color-border,#e5e7eb)] sticky top-0 z-30","aria-label":"t('test.loadingQuestions')",children:Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4 py-2 text-sm flex items-center justify-between gap-3",children:[Q.jsxs("div",{className:"text-[var(--color-muted,#6b7280)] flex items-center",children:[e("layout.todayProgress")," ",P,"/",fa.dailyEpCap,"",e("layout.remaining")," ",Math.max(0,fa.dailyEpCap-P),"",U!=null&&` ${e("layout.estimatedMinutes",{minutes:U})}`,Q.jsx(o4,{label:e("layout.epExplanation",{estMinLeft:U||0}),children:""})]}),Q.jsx("div",{className:"text-[12px] text-[var(--color-muted,#6b7280)]",children:t.displayName||t.email||"User"})]})}),!t&&!E&&Q.jsx("div",{className:"bg-sky-50 border-b border-sky-200 text-[var(--color-surface-foreground,#111827)]",children:Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4 py-2 text-sm flex items-center justify-between gap-3 flex-wrap",role:"region","aria-label":"t('test.loadingQuestions')",children:[Q.jsx("div",{children:e("layout.loginSuggestion")}),Q.jsx("div",{className:"flex items-center gap-2",children:Q.jsx("button",{className:"px-2 py-1 rounded border",onClick:()=>{I(!0);try{sessionStorage.setItem("hideLoginHint","1")}catch{}},"aria-label":e("ui.closeHint"),children:e("ui.later")})})]})}),v&&Q.jsx("div",{className:"bg-yellow-50 border-b border-yellow-200 text-[var(--color-surface-foreground,#111827)]",children:Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4 py-2 text-sm flex items-center justify-between gap-3",children:[Q.jsx("div",{children:e("layout.dailyReminder")}),Q.jsx("button",{className:"px-2 py-1 rounded border",onClick:()=>w(!1),children:e("ui.gotIt")})]})}),n,Q.jsx("footer",{className:"mt-8 pt-6 border-t border-[var(--color-border,#e5e7eb)] text-[var(--color-muted,#6b7280)] text-sm",children:Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4 flex items-center justify-between gap-3 flex-wrap",children:[Q.jsxs("div",{children:[" ",new Date().getFullYear()," ",Q.jsx(yT,{size:"sm",children:"TypeSprout"})]}),Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx("a",{href:`/${r}/terms`,"aria-label":e("ui.string154"),children:e("ui.string154")}),Q.jsx("a",{href:`/${r}/privacy`,"aria-label":e("ui.string092"),children:e("ui.string092")})]})]})})]})}function G_(){const{lang:n}=im();if(!n||!So.includes(n))return Q.jsx(pd,{to:"/en-US/",replace:!0});const{t,i18n:r}=pu();return O.useEffect(()=>{n&&r.language!==n&&(console.log("[App] Syncing language from URL:",n,"current i18n language:",r.language),r.changeLanguage(n).then(()=>{console.log("[App] Language synced successfully to:",n)}).catch(s=>{console.error("[App] Failed to sync language:",s)}))},[n,r]),Q.jsxs("div",{className:"max-w-[960px] mx-auto px-4",children:[Q.jsx("a",{href:"#content",className:"sr-only focus:not-sr-only",children:"Skip to main content"}),Q.jsx("nav",{className:"sr-only focus:not-sr-only",children:Q.jsx("a",{href:"#primary-nav",children:"Skip to primary navigation"})}),Q.jsxs("header",{className:"flex items-center justify-between gap-3 mb-4",children:[Q.jsxs("div",{className:"flex items-center gap-4",children:[Q.jsx(Mi,{to:`/${n}/`,className:"no-underline",children:Q.jsxs("h1",{className:"leading-none",children:[Q.jsx(yT,{size:"2xl",children:"TypeSprout"}),Q.jsx("div",{className:"brand-subtitle mt-0.5 text-[13px] font-medium text-[var(--color-muted,#6b7280)]",children:t("nav.subtitle")})]})}),Q.jsxs("nav",{id:"primary-nav",className:"flex items-center gap-3","aria-label":"Primary",children:[Q.jsx(Mi,{to:`/${n}/test`,children:t("nav.test")}),Q.jsx(Mi,{to:`/${n}/leaderboard`,children:t("nav.leaderboard")}),Q.jsx(Mi,{to:`/${n}/garden`,children:t("nav.garden")})]})]}),Q.jsx(F5,{})]}),Q.jsx("main",{id:"content",className:"py-2 pb-8",children:Q.jsx(u4,{children:yI(r4)})}),!1]})}const je=n=>typeof n=="string",Ml=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},H_=n=>n==null?"":""+n,c4=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},d4=/###/g,W_=n=>n&&n.indexOf("###")>-1?n.replace(d4,"."):n,q_=n=>!n||je(n),Kl=(n,e,t)=>{const r=je(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(q_(n))return{};const a=W_(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return q_(n)?{}:{obj:n,k:W_(r[s])}},K_=(n,e,t)=>{const{obj:r,k:s}=Kl(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],u=e.slice(0,e.length-1),d=Kl(n,u,Object);for(;d.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),d=Kl(n,u,Object),d?.obj&&typeof d.obj[`${d.k}.${a}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=t},h4=(n,e,t,r)=>{const{obj:s,k:a}=Kl(n,e,Object);s[a]=s[a]||[],s[a].push(t)},Md=(n,e)=>{const{obj:t,k:r}=Kl(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},f4=(n,e,t)=>{const r=Md(n,t);return r!==void 0?r:Md(e,t)},ST=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?je(n[r])||n[r]instanceof String||je(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):ST(n[r],e[r],t):n[r]=e[r]);return n},pa=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var p4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const m4=n=>je(n)?n.replace(/[&<>"'\/]/g,e=>p4[e]):n;class g4{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const y4=[" ",",","?","!",";"],v4=new g4(20),_4=(n,e,t)=>{e=e||"",t=t||"";const r=y4.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const s=v4.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!s.test(n);if(!a){const u=n.indexOf(t);u>0&&!s.test(n.substring(0,u))&&(a=!0)}return a},Yp=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let u,d="";for(let f=a;f<r.length;++f)if(f!==a&&(d+=t),d+=r[f],u=s[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;a+=f-a+1;break}s=u}return s},cu=n=>n?.replace("_","-"),w4={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class Od{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||w4,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(je(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Od(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Od(this.logger,e)}}var ri=new Od;class hh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let u=0;u<a;u++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let u=0;u<a;u++)s.apply(s,[e,...t])})}}class Q_ extends hh{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):je(r)&&a?d.push(...r.split(a)):d.push(r)));const f=Md(this.data,d);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),f||!u||!je(r)?f:Yp(this.data?.[e]?.[t],r,a)}addResource(e,t,r,s,a={silent:!1}){const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(d=e.split("."),s=t,t=d[1]),this.addNamespaces(t),K_(this.data,d,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const a in r)(je(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a,u={silent:!1,skipCopy:!1}){let d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=t,t=d[1]),this.addNamespaces(t);let f=Md(this.data,d)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?ST(f,r,a):f={...f,...r},K_(this.data,d,f),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var IT={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{e=this.processors[a]?.process(e,t,r,s)??e}),e}};const CT=Symbol("i18next/PATH_KEY");function E4(){const n=[],e=Object.create(null);let t;return e.get=(r,s)=>(t?.revoke?.(),s===CT?n:(n.push(s),t=Proxy.revocable(r,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function T4(n,e){const{[CT]:t}=n(E4());return t.join(e?.keySeparator??".")}const Y_={},J_=n=>!je(n)&&typeof n!="boolean"&&typeof n!="number";class Vd extends hh{constructor(e,t={}){super(),c4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ri.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!_4(e,r,s);if(u&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:je(a)?[a]:a};const p=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(p[0])>-1)&&(a=p.shift()),e=p.join(s)}return{key:e,namespaces:je(a)?[a]:a}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=T4(e,s)),Array.isArray(e)||(e=[String(e)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(e[e.length-1],s),p=f[f.length-1];let v=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const w=s.lng||this.language,E=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(w?.toLowerCase()==="cimode")return E?a?{res:`${p}${v}${d}`,usedKey:d,exactUsedKey:d,usedLng:w,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:`${p}${v}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:w,usedNS:p,usedParams:this.getUsedParamsDetails(s)}:d;const I=this.resolve(e,s);let P=I?.res;const z=I?.usedKey||d,U=I?.exactUsedKey||d,H=["[object Number]","[object Function]","[object RegExp]"],J=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,Z=!this.i18nFormat||this.i18nFormat.handleAsObject,se=s.count!==void 0&&!je(s.count),he=Vd.hasDefaultValue(s),F=se?this.pluralResolver.getSuffix(w,s.count,s):"",A=s.ordinal&&se?this.pluralResolver.getSuffix(w,s.count,{ordinal:!1}):"",R=se&&!s.ordinal&&s.count===0,k=R&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${F}`]||s[`defaultValue${A}`]||s.defaultValue;let b=P;Z&&!P&&he&&(b=k);const L=J_(b),j=Object.prototype.toString.apply(b);if(Z&&b&&L&&H.indexOf(j)<0&&!(je(J)&&Array.isArray(b))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(z,b,{...s,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(I.res=C,I.usedParams=this.getUsedParamsDetails(s),I):C}if(u){const C=Array.isArray(b),ve=C?[]:{},He=C?U:z;for(const xe in b)if(Object.prototype.hasOwnProperty.call(b,xe)){const Te=`${He}${u}${xe}`;he&&!P?ve[xe]=this.translate(Te,{...s,defaultValue:J_(k)?k[xe]:void 0,joinArrays:!1,ns:f}):ve[xe]=this.translate(Te,{...s,joinArrays:!1,ns:f}),ve[xe]===Te&&(ve[xe]=b[xe])}P=ve}}else if(Z&&je(J)&&Array.isArray(P))P=P.join(J),P&&(P=this.extendTranslation(P,e,s,r));else{let C=!1,ve=!1;!this.isValidLookup(P)&&he&&(C=!0,P=k),this.isValidLookup(P)||(ve=!0,P=d);const xe=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ve?void 0:P,Te=he&&k!==P&&this.options.updateMissing;if(ve||C||Te){if(this.logger.log(Te?"updateKey":"missingKey",w,p,d,Te?k:P),u){const M=this.resolve(d,{...s,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ne=[];const me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&me&&me[0])for(let M=0;M<me.length;M++)ne.push(me[M]);else this.options.saveMissingTo==="all"?ne=this.languageUtils.toResolveHierarchy(s.lng||this.language):ne.push(s.lng||this.language);const ce=(M,X,pe)=>{const Ne=he&&pe!==P?pe:xe;this.options.missingKeyHandler?this.options.missingKeyHandler(M,p,X,Ne,Te,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(M,p,X,Ne,Te,s),this.emit("missingKey",M,p,X,P)};this.options.saveMissing&&(this.options.saveMissingPlurals&&se?ne.forEach(M=>{const X=this.pluralResolver.getSuffixes(M,s);R&&s[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(pe=>{ce([M],d+pe,s[`defaultValue${pe}`]||k)})}):ce(ne,d,k))}P=this.extendTranslation(P,e,s,I,r),ve&&P===d&&this.options.appendNamespaceToMissingKey&&(P=`${p}${v}${d}`),(ve||C)&&this.options.parseMissingKeyHandler&&(P=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${v}${d}`:d,C?P:void 0,s))}return a?(I.res=P,I.usedParams=this.getUsedParamsDetails(s),I):P}extendTranslation(e,t,r,s,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=je(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(f){const w=e.match(this.interpolator.nestingRegexp);p=w&&w.length}let v=r.replace&&!je(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||s.usedLng,r),f){const w=e.match(this.interpolator.nestingRegexp),E=w&&w.length;p<E&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...w)=>a?.[0]===w[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${t[0]}`),null):this.translate(...w,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,d=je(u)?[u]:u;return e!=null&&d?.length&&r.applyPostProcessor!==!1&&(e=IT.handle(d,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,a,u,d;return je(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const p=this.extractFromKey(f,t),v=p.key;s=v;let w=p.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const E=t.count!==void 0&&!je(t.count),I=E&&!t.ordinal&&t.count===0,P=t.context!==void 0&&(je(t.context)||typeof t.context=="number")&&t.context!=="",z=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);w.forEach(U=>{this.isValidLookup(r)||(d=U,!Y_[`${z[0]}-${U}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(Y_[`${z[0]}-${U}`]=!0,this.logger.warn(`key "${s}" for languages "${z.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),z.forEach(H=>{if(this.isValidLookup(r))return;u=H;const J=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(J,v,H,U,t);else{let se;E&&(se=this.pluralResolver.getSuffix(H,t.count,t));const he=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(t.ordinal&&se.indexOf(F)===0&&J.push(v+se.replace(F,this.options.pluralSeparator)),J.push(v+se),I&&J.push(v+he)),P){const A=`${v}${this.options.contextSeparator||"_"}${t.context}`;J.push(A),E&&(t.ordinal&&se.indexOf(F)===0&&J.push(A+se.replace(F,this.options.pluralSeparator)),J.push(A+se),I&&J.push(A+he))}}let Z;for(;Z=J.pop();)this.isValidLookup(r)||(a=Z,r=this.getResource(H,U,Z,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!je(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class X_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ri.create("languageUtils")}getScriptPartFromCode(e){if(e=cu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=cu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(je(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(u=>{if(u===a)return u;if(!(u.indexOf("-")<0&&a.indexOf("-")<0)&&(u.indexOf("-")>0&&a.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===a||u.indexOf(a)===0&&a.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),je(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],a=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return je(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):je(e)&&a(this.formatLanguageCode(e)),r.forEach(u=>{s.indexOf(u)<0&&a(this.formatLanguageCode(u))}),s}}const Z_={zero:0,one:1,two:2,few:3,many:4,other:5},ew={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class S4{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=ri.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=cu(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let u;try{u=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ew;if(!e.match(/-|_/))return ew;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,t)}return this.pluralRulesCache[a]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,a)=>Z_[s]-Z_[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const tw=(n,e,t,r=".",s=!0)=>{let a=f4(n,e,t);return!a&&s&&je(t)&&(a=Yp(n,t,r),a===void 0&&(a=Yp(e,t,r))),a},dp=n=>n.replace(/\$/g,"$$$$");class I4{constructor(e={}){this.logger=ri.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:u,suffix:d,suffixEscaped:f,formatSeparator:p,unescapeSuffix:v,unescapePrefix:w,nestingPrefix:E,nestingPrefixEscaped:I,nestingSuffix:P,nestingSuffixEscaped:z,nestingOptionsSeparator:U,maxReplaces:H,alwaysFormat:J}=e.interpolation;this.escape=t!==void 0?t:m4,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?pa(a):u||"{{",this.suffix=d?pa(d):f||"}}",this.formatSeparator=p||",",this.unescapePrefix=v?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=E?pa(E):I||pa("$t("),this.nestingSuffix=P?pa(P):z||pa(")"),this.nestingOptionsSeparator=U||",",this.maxReplaces=H||1e3,this.alwaysFormat=J!==void 0?J:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>t?.source===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,s){let a,u,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=I=>{if(I.indexOf(this.formatSeparator)<0){const H=tw(t,f,I,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(H,void 0,r,{...s,...t,interpolationkey:I}):H}const P=I.split(this.formatSeparator),z=P.shift().trim(),U=P.join(this.formatSeparator).trim();return this.format(tw(t,f,z,this.options.keySeparator,this.options.ignoreJSONStructure),U,r,{...s,...t,interpolationkey:z})};this.resetRegExp();const v=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,w=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:I=>dp(I)},{regex:this.regexp,safeValue:I=>this.escapeValue?dp(this.escape(I)):dp(I)}].forEach(I=>{for(d=0;a=I.regex.exec(e);){const P=a[1].trim();if(u=p(P),u===void 0)if(typeof v=="function"){const U=v(e,a,s);u=je(U)?U:""}else if(s&&Object.prototype.hasOwnProperty.call(s,P))u="";else if(w){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),u="";else!je(u)&&!this.useRawValueToEscape&&(u=H_(u));const z=I.safeValue(u);if(e=e.replace(a[0],z),w?(I.regex.lastIndex+=u.length,I.regex.lastIndex-=a[0].length):I.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,a,u;const d=(f,p)=>{const v=this.nestingOptionsSeparator;if(f.indexOf(v)<0)return f;const w=f.split(new RegExp(`${v}[ ]*{`));let E=`{${w[1]}`;f=w[0],E=this.interpolate(E,u);const I=E.match(/'/g),P=E.match(/"/g);((I?.length??0)%2===0&&!P||P.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),p&&(u={...p,...u})}catch(z){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,z),`${f}${v}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!je(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const p=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(p!==-1&&(f=s[1].slice(p).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),s[1]=s[1].slice(0,p)),a=t(d.call(this,s[1].trim(),u),u),a&&s[0]===e&&!je(a))return a;je(a)||(a=H_(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),f.length&&(a=f.reduce((v,w)=>this.format(v,w,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const C4=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(u=>{if(u){const[d,...f]=u.split(":"),p=f.join(":").trim().replace(/^'+|'+$/g,""),v=d.trim();t[v]||(t[v]=p),p==="false"&&(t[v]=!1),p==="true"&&(t[v]=!0),isNaN(p)||(t[v]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},nw=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const u=r+JSON.stringify(a);let d=e[u];return d||(d=n(cu(r),s),e[u]=d),d(t)}},R4=n=>(e,t,r)=>n(cu(t),r)(e);class k4{constructor(e={}){this.logger=ri.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?nw:R4;this.formats={number:r((s,a)=>{const u=new Intl.NumberFormat(s,{...a});return d=>u.format(d)}),currency:r((s,a)=>{const u=new Intl.NumberFormat(s,{...a,style:"currency"});return d=>u.format(d)}),datetime:r((s,a)=>{const u=new Intl.DateTimeFormat(s,{...a});return d=>u.format(d)}),relativetime:r((s,a)=>{const u=new Intl.RelativeTimeFormat(s,{...a});return d=>u.format(d,a.range||"day")}),list:r((s,a)=>{const u=new Intl.ListFormat(s,{...a});return d=>u.format(d)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=nw(t)}format(e,t,r,s={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,f)=>{const{formatName:p,formatOptions:v}=C4(f);if(this.formats[p]){let w=d;try{const E=s?.formatParams?.[s.interpolationkey]||{},I=E.locale||E.lng||s.locale||s.lng||r;w=this.formats[p](d,I,{...v,...s,...E})}catch(E){this.logger.warn(E)}return w}else this.logger.warn(`there was no format function for ${p}`);return d},e)}}const x4=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class A4 extends hh{constructor(e,t,r,s={}){super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=ri.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,t,r,s){const a={},u={},d={},f={};return e.forEach(p=>{let v=!0;t.forEach(w=>{const E=`${p}|${w}`;!r.reload&&this.store.hasResourceBundle(p,w)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,v=!1,u[E]===void 0&&(u[E]=!0),a[E]===void 0&&(a[E]=!0),f[w]===void 0&&(f[w]=!0)))}),v||(d[p]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),a=s[0],u=s[1];t&&this.emit("failedLoading",a,u,t),!t&&r&&this.store.addResourceBundle(a,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{h4(f.loaded,[a],u),x4(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(p=>{d[p]||(d[p]={});const v=f.loaded[p];v.length&&v.forEach(w=>{d[p][w]===void 0&&(d[p][w]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,s=0,a=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:u});return}this.readingCalls++;const d=(p,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(p&&v&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,u)},a);return}u(p,v)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const p=f(e,t);p&&typeof p.then=="function"?p.then(v=>d(null,v)).catch(d):d(null,p)}catch(p){d(p)}return}return f(e,t,d)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();je(e)&&(e=this.languageUtils.toResolveHierarchy(e)),je(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,u),!u&&d&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,d),this.loaded(e,u,d)})}saveMissing(e,t,r,s,a,u={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const f={...u,isUpdate:a},p=this.backend.create.bind(this.backend);if(p.length<6)try{let v;p.length===5?v=p(e,t,r,s,f):v=p(e,t,r,s),v&&typeof v.then=="function"?v.then(w=>d(null,w)).catch(d):d(null,v)}catch(v){d(v)}else p(e,t,r,s,d,f)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const rw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),je(n[1])&&(e.defaultValue=n[1]),je(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),iw=n=>(je(n.ns)&&(n.ns=[n.ns]),je(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),je(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),Kc=()=>{},P4=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class du extends hh{constructor(e={},t){if(super(),this.options=iw(e),this.services={},this.logger=ri,this.modules={external:[]},P4(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(je(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=rw();this.options={...r,...this.options,...iw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?ri.init(s(this.modules.logger),this.options):ri.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=k4;const v=new X_(this.options);this.store=new Q_(this.options.resources,this.options);const w=this.services;w.logger=ri,w.resourceStore=this.store,w.languageUtils=v,w.pluralResolver=new S4(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(w.formatter=s(p),w.formatter.init&&w.formatter.init(w,this.options),this.options.interpolation.format=w.formatter.format.bind(w.formatter)),w.interpolator=new I4(this.options),w.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},w.backendConnector=new A4(s(this.modules.backend),w.resourceStore,w,this.options),w.backendConnector.on("*",(I,...P)=>{this.emit(I,...P)}),this.modules.languageDetector&&(w.languageDetector=s(this.modules.languageDetector),w.languageDetector.init&&w.languageDetector.init(w,this.options.detection,this.options)),this.modules.i18nFormat&&(w.i18nFormat=s(this.modules.i18nFormat),w.i18nFormat.init&&w.i18nFormat.init(this)),this.translator=new Vd(this.services,this.options),this.translator.on("*",(I,...P)=>{this.emit(I,...P)}),this.modules.external.forEach(I=>{I.init&&I.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Kc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...v)=>this.store[p](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...v)=>(this.store[p](...v),this)});const d=Ml(),f=()=>{const p=(v,w)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(w),t(v,w)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(e,t=Kc){let r=t;const s=je(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(p=>{p!=="cimode"&&a.indexOf(p)<0&&a.push(p)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload?.forEach?.(d=>u(d)),this.services.backendConnector.load(a,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,t,r){const s=Ml();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Kc),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&IT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Ml();this.emit("languageChanging",e);const s=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,f)=>{f?this.isLanguageChangingTo===e&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...p)=>this.t(...p)),t&&t(d,(...p)=>this.t(...p))},u=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const f=je(d)?d:d&&d[0],p=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(je(d)?[d]:d);p&&(this.language||s(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,v=>{a(v,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const s=(a,u,...d)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([a,u].concat(d)):f={...u},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||s.keyPrefix);const p=this.options.keySeparator||".";let v;return f.keyPrefix&&Array.isArray(a)?v=a.map(w=>`${f.keyPrefix}${p}${w}`):v=f.keyPrefix?`${f.keyPrefix}${p}${a}`:a,this.t(v,f)};return je(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(d,f)=>{const p=this.services.backendConnector.state[`${d}|${f}`];return p===-1||p===0||p===2};if(t.precheck){const d=t.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!s||u(a,e)))}loadNamespaces(e,t){const r=Ml();return this.options.ns?(je(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Ml();je(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=s.concat(a),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const a=s.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new X_(rw());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new du(e,t)}cloneInstance(e={},t=Kc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new du(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((f,p)=>(f[p]={...this.store.data[p]},f[p]=Object.keys(f[p]).reduce((v,w)=>(v[w]={...f[p][w]},v),f[p]),f),{});a.store=new Q_(d,s),a.services.resourceStore=a.store}return a.translator=new Vd(a.services,s),a.translator.on("*",(d,...f)=>{a.emit(d,...f)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const St=du.createInstance();St.createInstance=du.createInstance;St.createInstance;St.dir;St.init;St.loadResources;St.reloadResources;St.use;St.changeLanguage;St.getFixedT;St.t;St.exists;St.setDefaultNamespace;St.hasLoadedNamespace;St.loadNamespaces;St.loadLanguages;async function b4(n){try{console.log(`[fetchUILocal] Loading UI for language: ${n}`);const e=`/ui/${n}/ui-strings.json`;console.log(`[fetchUILocal] Fetching from: ${e}`);const t=await fetch(e);if(!t.ok)return console.warn(`[fetchUILocal] Failed to load UI for ${n}: ${t.status}`),null;const r=await t.json();return console.log(`[fetchUILocal] Loaded ${Object.keys(r.translations).length} UI strings for ${n}`),r.translations}catch(e){return console.error(`[fetchUILocal] Error loading UI for ${n}:`,e),null}}async function D4(n){try{return console.log(`[fetchUISheets] Loading UI from sheets for language: ${n}`),null}catch(e){return console.error(`[fetchUISheets] Error loading UI from sheets for ${n}:`,e),null}}async function RT(n){console.log(`[fetchUI] Loading UI translations for: ${n}`);let e=await b4(n);return e||(console.log(`[fetchUI] Local loading failed, trying sheets for: ${n}`),e=await D4(n)),e?console.log(`[fetchUI] Successfully loaded ${Object.keys(e).length} UI strings for ${n}`):console.warn(`[fetchUI] Failed to load UI strings for ${n}`),e}const N4={"en-US":{translation:{nav:{home:"Home",practice:"Practice",test:"Test",result:"Result",leaderboard:"Leaderboard",profile:"Profile",garden:"Garden",subtitle:"Kids Typing & Tree Growth"},meta:{result:"Result",homeDescription:"Kids typing practice with gamified tree growth. zh-TW/zh-CN/en-US",practiceDescription:"Free typing practice with IME support and modes.",testDescription:"Timed test showing accuracy and composite score.",resultDescription:"Your typing test results.",leaderboardDescription:"Daily/weekly/monthly leaderboards by language.",profileDescription:"Your personal information, grade and preferences.",gardenDescription:"Grow your tree with typing points and rewards."},auth:{signIn:"Sign in with Google",signOut:"Sign out",pleaseSignIn:"Please sign in with Google first",privacyNote:"We do not collect personal data; statistics are anonymized for ranking and learning feedback only."},layout:{epExplanation:'How to earn points? Each test is calculated by "time  speed  accuracy" (base  minutes  (speed/target, max 2)  (0.5+0.5accuracy)). Daily limit 100; encouragement rules: when accuracy 30%, at least +1 point per 10 seconds (cumulative); 30 seconds and accuracy 50% at least +1. {{estMinLeft}}',loginSuggestion:'We recommend using "Sign in with Google" in the top right to save your progress and history; this website values anonymity and privacy and will not store personal sensitive data.',dailyReminder:"Reminder: You haven't practiced today! Move your hands every day to make the little tree stronger.",todayProgress:"Today:",estimatedMinutes:"Estimated {{minutes}} minutes",remaining:"remaining"},tips:{avgAdj:"Average adjusted score over the last 30 days",totalChars:"Total characters typed over the last 30 days",meVsSite:"Your performance compared to all users on this site in the last 30 days"},dev:{stageOverview:"Five-stage overview (for appearance comparison)",stage:"Stage",savedToFirestore:"Real-time saved to Firestore"},error:{loadingError:"An error occurred while loading the page, please try again later.",errorOccurred:"An error occurred",goBack:"Go back",goHome:"Go home"},questionBank:{title:"Select Question Bank",subtitle:"Choose the practice content that suits you",loading:"Loading question banks...",recommended:"Recommended",gradeRange:"Grade Range",supportedLanguages:"Supported Languages",totalQuestions:"Total Questions",noRecommendation:"No recommended question banks for your grade level",children:{name:"Children Question Bank",description:"Basic typing practice suitable for children"},bible:{name:"Bible Question Bank",description:"Bible verse typing practice"}},home:{title:"TypeSprout  Kids Typing & Tree Growth",heroTitle:"Kids type, the seedling grows.",heroSubtitle:"Every keystroke becomes energy to water your tree. Multi-language support helps build correct typing habits and focus.",ctaPractice:"Start Practice",ctaTest:"Take Test",privacyNote:"We do not collect personal data; statistics are anonymized for ranking and learning feedback only.",aboutTitle:"About TypeSprout",aboutContent:`Hi everyone, I'm Yves.C, a dad from Taiwan. The inspiration for TypeSprout came from watching my kids chat with friends around the world on RobloxI realized that typing is actually the first key for children to open up to a bigger world. So I created this web typing practice using no-code concepts + ChatGPT/AI, adding "little tree growth" visual feedback: with every correct keystroke, the tree grows a little, turning daily efforts into visible achievements.

In terms of content, I have organized commonly used words from grades 1-6 into selectable question banks; children can practice their native language and switch to English or other languages they want to practice in "Settings". These words are filtered by AI according to grade difficulty. For adults, I have prepared an extended question bank, currently including Bible API and AI-generated Bible scriptures (from free online resources, accuracy may be limited), and I will gradually add topics like famous quotes to make practice more interesting.

In TypeSprout, children will gradually accumulate points and daily efforts; the little tree on the screen will also thrive with their performance, forming a positive cycle of "effort  feedback  re-engagement". I also designed a 5-day active challenge: practicing for 5 consecutive days will earn a small fruit reward. When achievements are visible, motivation will grow. This is the learning rhythm I want to share with children and you. For teachers, I added a "Class" function on the personal page, allowing teachers to create classes and invite classmates to participate, making practice feel more competitive.

This is a small project maintained by me personally (no engineering background, mainly relying on ChatGPT/AI for guidance and collaboration). If you have suggestions or encounter problems during use, please feel free to leave a message in the GitHub issues section, and I will do my best to organize and solve them. Thank you all in advance.

GitHub: https://github.com/yveschen001/typesprout-pubic/issues`,cards:{players:"Players",avgAdj:"Avg Composite (30d)",totalChars:"Total Chars (30d)",meVsSite:"Me vs Site (30d)"},leaderScore:"Composite Score",googleUsersCount:"Google Login Users",googleUsersTooltip:"Total number of users who logged in with Google accounts",tabs:{visitors:"Visitors",leader:"Leaderboard (preview)"},visitorsDesc:"Country distribution of site visitors and players (anonymous).",leaderEmpty:"No data yet",leaderViewFull:"View full leaderboard",aboutBody:"TypeSprout is a typing practice and growth website for grades 16 with zhTW / zhCN / enUS support, aiming to offer a safe and friendly environment for kids worldwide to practice input, understanding, and expression."},test:{title:"Typing Test",questionCount:"Question Count",difficulty:"Difficulty",difficultyHard:"Hard",difficultyMedium:"Medium",difficultyEasy:"Easy",allowBackspace:"Allow Backspace",capsLock:"Caps Lock",loadingQuestions:"Loading questions...",promptStart:"Press Start, then type the text above. Pasting is disabled.",shortcuts:"Space start/pause  R reset  F focus  Enter submit this question",shortcutsDescription:"Space: Start/Pause  R: Reset  F: Focus input",questionText:"Question text (cannot be selected or copied)",metricsTip:"Speed and accuracy explanation",chartDescription:"Top: composite score trend; Bottom: accuracy trend. First stabilize accuracy to 90%+, then gradually increase speed.",insightsSummary:"Insights (keyboard heatmap, speed and accuracy trends)",inputPrompt:"Please type the text below",progress:"Progress {{current}} / {{total}}",outOfFocus:"Please click the input box to continue typing",submitQuestion:"Submit this question (Enter)",submitAndReview:"Submit and view results",accuracyLabel:"Accuracy {{accuracy}}%",adjWpmLabel:"Composite score (correct speed) {{adjWpm}}",finished:"Finished",signInToSave:"Sign in to save your progress",tryAgain:"Try again",questionStats:"This session's question statistics (time spent / limit, mistake count)",questionPreview:"Question (first 24 characters)",timeSpent:"Time spent",timeLimit:"Time limit",mistakes:"Mistakes"},profile:{title:"Profile",googleAccount:"Google Account",xp:"Experience (XP)",points:"Points",fruits:"Fruits",pointsDetail:"Points total above; details please go to",history:"History",view:"view",xpTooltip:"Experience points earned through typing practice. Higher accuracy and speed = more XP!",pointsTooltip:"Points earned from daily practice. Used to grow your tree and unlock rewards.",fruitsTooltip:"Fruits collected from your tree. Earned by reaching daily point goals.",classCode:"Class Code",classCodeTooltip:"Site-wide unique (350 chars; cannot contain /). Used for competitions and leaderboard grouping; can join up to 5. Teachers can create new codes; will auto-join after creation (if not full).",classCodePlaceholder:"Enter any name, avoid duplicates",chartDescription:"Top: composite score trend; Bottom: accuracy trend. First improve accuracy, then gradually increase speed.",error:"Error occurred",confirmDelete:"Are you sure you want to delete this class code?",noClasses:"No classes",role:"Role",teacher:"Teacher",student:"Student",create:"Create",join:"Join",myClasses:"My Classes",joinedClasses:"Classes I Joined",language:"Language",save:"Save",logout:"Logout",analysis:"In-depth Analysis",nickname:"Nickname",country:"Country/Region",gender:"Gender",birthday:"Birthday (YYYY-MM)",male:"Male",female:"Female",other:"Other",copy:"Copy",delete:"Delete",remove:"Remove",copySuccess:"Class code copied to clipboard.",copyFailed:"Copy failed, please select and copy manually.",youOwnThis:"You own this",noUser:"User not found",onlyTeacherCanCreate:"Only teachers can create class codes",roleCheckError:"Failed to check user role",invalidCodeFormat:"Please enter 3-50 characters without /",codeAlreadyTaken:"Class code already taken",maxClassesReached:"Maximum number of classes reached",maxJoinedClasses:"Maximum number of joined classes reached",classCreatedAndJoined:"Class created and joined successfully",joinError:"Failed to join class",classNotFound:"Class code not found",alreadyJoined:"You have already joined this class",joinSuccess:"Successfully joined class",createError:"Create failed: {{error}}"},result:{accuracyTooltip:"Accuracy = correct chars  total question chars. Note: untyped chars are also counted in total, so missing chars will lower accuracy.",scoreTooltip:"Composite score = input speed of correct chars only. Calculation: speed (WPM/CPM)  accuracy. Purpose: first stabilize accuracy, then gradually increase speed.",chartDescription:"Top: composite score trend; Bottom: accuracy trend. Composite score combines speed and accuracy. First improve accuracy, then gradually increase speed.",summary:"This session summary",timeSpent:"Time spent: {{time}}",accuracy:"Accuracy: {{accuracy}}%",adjWpm:"Composite score (correct speed): {{adjWpm}}",vsSiteAverage:"Compared to site average (same language): {{adjWpm}} / {{siteAvg}}{{percentile}}",tryAgain:"Try again",showInsights:"Show insights",seconds:"{{count}} seconds",minutes:"{{count}} minutes",minutesSeconds:"{{minutes}} minutes {{seconds}} seconds",hours:"{{count}} hours",hoursMinutes:"{{hours}} hours {{minutes}} minutes",hideInsights:"Hide insights",totalChars:"Total characters: {{chars}} characters",correctChars:"Correct characters: {{chars}} characters"},garden:{myTree:"My Tree",history:"History",howToLevelUp:"How to level up?",levelUpRule1:"Practice daily to accumulate activity; the longer you type, the faster you grow.",levelUpRule2:"Maximum stage 5; if you can maintain stage 5 daily, you will continuously produce fruits.",levelUpRule3:"Collected fruits will provide platform rewards based on ranking; currently can use test time as score accumulation.",levelUpSuggestion:"To reach stage {{needStage}}, suggest at least {{moreMin}} more minutes of effective input today.",recentActivity:"Recent 5 days activity",activeDays:"Active days: {{activeDays}} / {{total}}",recalculateActivity:"Recalculate activity and stage",recalculateActivityTooltip:'What is "Recalculate activity and stage"? It will re-read your recent 5 days of test records, calculate effective input minutes, and update the activity list and current stage.',growthChartTitle:"Growth diagram",growthChartSubtitle:"Different stage appearances and unlock conditions (illustration).",stage:"Stage {{stage}}",charsUnit:"chars",maxStage:"Maximum stage 5",stage1Desc:"First sprout emerges",stage2Desc:"Second leaf grows",stage3Desc:"Leaf multiplication",stage4Desc:"Flowers bloom",stage5Desc:"Small tree crown forms (fruits)",todaySummary:"Today's summary",pointsExplanation:"How do points work? Generated from daily tests, related to effective input time, speed and accuracy. Daily limit 100; short practice (5 seconds and accuracy 30%) at least +1.",historyTitle:'What is "History"?',historyRule1:"Points are calculated from speed  accuracy  time, used to promote tree growth.",historyRule2:"The list below shows each earning record, making it easy for you to track your efforts.",recentLogs:"Recent records",noData:"No data",noLogs:"No records currently"},leaderboard:{signInHint:"Tip: Sign in to save your test scores automatically; we only use them for ranking and learning feedback, no personal sensitive data collected.",sortHint:"Tip: Press Alt+/ to toggle sorting",classCodePlaceholder:"Class Code",tooltip:" How is the leaderboard calculated?&#10; Today: today's scores (local time)&#10; Yesterday: yesterday's scores (local time)&#10; Last week: Monday to Sunday of last week&#10; Last month: 1st to last day of last month&#10;&#10; How are scores calculated?&#10; Composite score = max speed  accuracy  practice time&#10; Multiple practices on the same day are combined&#10; Longer practice time = higher score&#10;&#10; Tip: Practice a little every day and your tree will grow!",loading:"Loading leaderboard data...",loadingHint:"If it continues to fail to load, please check your network connection or try again later",loadError:"Failed to load leaderboard, please try again later",reload:"Reload",today:"Today's ranking",yesterday:"Yesterday's ranking",lastWeek:"Last week's ranking",lastMonth:"Last month's ranking",allGrades:"All grades",grade:"Grade {{grade}}",stats:"{{chars}} chars  {{accuracy}}% accuracy",noData:"No data"},terms:{title:"TypeSprout Terms of Service",titleSuffix:"Terms of Service",lastUpdated:"Last updated: September 21, 2025",section1:{title:"1. General Terms and Acceptance",content1:'Welcome to TypeSprout (the "Service"). This service is a free, non-profit project maintained by individual developers, aimed at providing users (especially children and learners) with a simple online typing practice environment.',content2:'When you access or use this service, you indicate that you have read, understood, and agree to be bound by all contents of these Terms of Service (the "Terms"). If you do not agree to any part of these terms, please stop using this service immediately.'},section2:{title:"2. Service Description and Content Sources",subtitle1:"Service Purpose:",content1:"The sole purpose of this service is to provide typing skills practice. It is not an academic research or religious education tool. All website content serves this single purpose.",subtitle2:"Content Sources and Disclaimer:",content2:"To provide rich practice texts, the question bank content of this service comes from multiple sources. We hereby specifically declare:",listItem1:"AI Generated Content: Some practice articles are analyzed, collected, or generated by AI models (such as ChatGPT) for typing practice only.",listItem2:"Bible Texts: Some Bible question banks come from third-party API.Bible services. When that service is inaccessible, alternative texts may be generated by AI models.",content3:"Accuracy Disclaimer: Therefore, we make no warranties or endorsements regarding the accuracy, completeness, or fidelity of any question bank content to specific Bible versions. All content should be treated as typing practice materials, not precise academic or religious reference materials. Please understand this fully before use."},section3:{title:"3. Usage License and Restrictions",subtitle1:"Personal Non-Commercial Use License:",content1:"We grant you a personal, non-exclusive, non-transferable, revocable license to use this service only for personal, non-commercial, and educational purposes.",subtitle2:"Strict Prohibition of Commercial Use:",content2:"You may not copy, modify, distribute, resell, rent, or use any part of this service for any direct or indirect commercial purpose. This includes (but is not limited to) using this website content as part of any paid courses, paid services, or commercial products."},section4:{title:"4. User Responsibilities",subtitle1:"Account Security:",content1:"You are responsible for properly keeping your account login information and for all activities that occur under your account.",subtitle2:"Prohibition of Abuse and Cheating:",content2:"You agree not to attack, crack, interfere with, or paralyze the normal operation of this service in any way. At the same time, the use of plugins, bots, automated scripts, or any cheating methods to obtain false practice scores or damage the fairness of leaderboards is strictly prohibited. If such behavior is discovered, we have the right to immediately terminate your usage rights and delete your account."},section5:{title:"5. Disclaimers and Service Limitations",subtitle1:"Provided As-Is:",content1:'This service is an ongoing personal project in development, and we provide it on an "as-is" and "as-available" basis. We provide no express or implied warranties of any kind, including but not limited to service stability, security, error-free operation, or uninterrupted service.',subtitle2:"Data Preservation:",content2:"We are not responsible for any loss or damage to your practice records or user data, nor do we guarantee permanent data preservation.",subtitle3:"Service Termination Rights:",content3:"We reserve the right to modify, suspend, or permanently terminate this service at any time for any reason, without prior notice."},section6:{title:"6. Privacy Policy",content:"We are committed to protecting your privacy. We only collect the minimum information necessary to run this service. For specific details, please refer to our Privacy Policy. That policy forms part of these terms, and using this service means you also agree to that policy."},section7:{title:"7. Contact Information",content1:"If you have any questions about these Terms of Service, please raise them through our official GitHub Issues page: https://github.com/yveschen001/typesprout-pubic/issues",warning:"Please note that this is a public platform, so please do not leave your personal privacy information on it."},footer:" 2025 TypeSprout. All rights reserved."},privacy:{title:"TypeSprout Privacy Policy",titleSuffix:"Privacy Policy",effectiveDate:"Effective Date: September 21, 2025",introduction:"Welcome to TypeSprout! This is a free typing practice website created by an individual developer out of interest. We understand that your privacy is crucial, so this policy aims to explain what data we collect and how we will use this data.",notice:'Please note: This service is non-profit in nature, and all features are provided "as is". If you do not agree to any terms of this privacy policy, please stop using this service immediately. Continued use indicates that you have read, understood, and agree to all contents of this policy.',section1:{title:"1. Types of Data We Collect",principle:"We adhere to the principle of minimalism, collecting only the data necessary to maintain service operation:",googleAuth:{title:"Google Login Authentication:",content:"When you log in using your Google account, we only use Google's authentication service to verify your identity and create a unique anonymous user ID for you. We do not actively request, access, or store any personal privacy data from your Google account, such as your real name or address."},gameData:{title:"Game Data:",content:"Every typing practice score you perform on the website, including speed (WPM), accuracy, time used, etc. This data is associated with your anonymous user ID to generate your personal history and leaderboard."},voluntaryInfo:{title:"User-Provided Non-Precise Information (Optional):",content:"You may optionally provide your age range, professional field, language, or region. This information is not mandatory and is primarily intended to optimize question bank recommendations, for anonymous statistical analysis, and leaderboard grouping. We do not require or verify the accuracy of this information."},technicalData:{title:"Technical Data Automatically Collected by Third-Party Services:",googleAnalytics:"Google Analytics: We use this service to analyze website traffic to understand service usage. It collects anonymized information such as your IP address, browser type, operating system, pages visited, etc.",googleAdsense:"Google AdSense (Advertising): We may use Google AdSense in the future to display ads to support website operating costs. Google and its partners may use Cookies (such as DoubleClick Cookie) to show personalized ads based on your past visit history."}},section2:{title:"2. How We Use Your Data",coreFunction:"Core Function: Your anonymous user ID and game data are part of the core functionality of this service, used to record your scores, provide historical charts, and global leaderboards.",experienceOptimization:"Experience Optimization: The age, profession, and other information you voluntarily provide will be used to match you with more suitable typing practice question banks.",statisticalAnalysis:"Statistical Analysis: We will anonymize and aggregate all user-voluntarily provided information to understand the overall profile of the user group and improve the service.",serviceMaintenance:"Service Maintenance: Technical data collected through Google Analytics helps us understand the website's operational status and fix potential issues."},section3:{title:"3. Data Storage and Cross-Border Transfer",storageLocation:"Storage Location: This website's code is hosted on GitHub, while your game data and voluntarily provided information are stored in Google Firebase's database.",crossBorderTransfer:"Cross-Border Transfer: GitHub and Google Firebase servers may be located outside your country (e.g., United States). By using this service, you understand and agree that your data will be transmitted, stored, and processed on these overseas servers.",dataRetention:"Data Retention: Since this service is completely free, we cannot guarantee permanent data storage. We reserve the right to clear some or all user data without notice."},section4:{title:"4. About Cookies and Advertising",functionalCookies:"Functional Cookies: We use cookies to maintain your login status.",advertisingCookies:"Advertising Cookies: As mentioned above, if we enable Google AdSense, Google will use cookies to display ads. You can visit Google's ad settings page (https://adssettings.google.com/) at any time to manage or opt out of personalized ads."},section5:{title:"5. Your Rights and Contact Information",contactChannel:"Contact Channel: If you have any questions about this privacy policy or wish to exercise your data rights (such as query, correction, deletion), please submit requests through our official GitHub Issues page.",githubLink:"https://github.com/yveschen001/typesprout-pubic/issues",importantReminder:"Important Reminder: Please note that GitHub Issues is a public platform. To protect your personal privacy, please absolutely do not leave any personal identification information in the Issue content, such as your email address, real name, or account screenshots. We only need you to provide your Username on TypeSprout and a description of the issue. We will not contact you through any private channels other than Issues.",responseTime:"Since this is a personally maintained project, we will respond as quickly as possible within our capabilities. Thank you for your patience and understanding."}},admin:{title:"Admin Panel",description:"This area is for operations and content management only.",bulkTranslationTool:"Bulk Localization Tool",usageInstructions:"? Usage Instructions",usageDescription:"Enter source and target language codes, paste multi-line text and press execute, results are for manual review only. This feature requires admin token to enable.",sourceLanguage:"Source Language",targetLanguage:"Target Language",execute:"Execute"},ui:{loading:"Loading...",start:"Start",string089:"Please sign in first.",string090:"Personal Information",string091:"Back to Home",string092:"Privacy Policy",string093:"Privacy Policy",string094:"We only use your Google account to save your progress and history.",gotIt:"Got it",later:"Later",string095:"What data do we collect?",string096:"We only collect your typing scores, accuracy, and practice time. We do not collect personal information such as your name, email, or other sensitive data.",string097:"We use this data to provide you with personalized feedback and to show you your progress over time.",string154:"Terms of Service",string155:"By using this website, you agree to the following terms:",string156:"1. You are responsible for your own learning and progress.",string157:"What are the terms?",string158:"The terms include: using the website for educational purposes only, not sharing inappropriate content, and respecting other users.",string200:'We recommend using "Sign in with Google" in the top right to save your scores and history; this site values anonymity and privacy, and will not store personal sensitive data.',string202:"Reminder: You haven't practiced today! Move your hands every day to make the little tree grow stronger.",closeHint:"Close hint"},charts:{speedChartAriaLabel:"Speed score trend chart: higher line means better performance",speedChartTitle:"Speed Score (Correct Speed)",speedChartTooltip:"Y-axis: Speed score (higher is better); X-axis: time order. Green line shows speed of correct characters only, combining speed and accuracy.",accuracyChartAriaLabel:"Accuracy trend chart: higher line means more accurate",accuracyChartTitle:"Accuracy",accuracyChartTooltip:"Y-axis: Accuracy (higher means more accurate); X-axis: time order. Blue line shows accuracy changes for each test.",recordNumber:"Record {{number}}",speedScore:"Speed Score: {{score}}",totalQuestionChars:"Total Question Chars: {{chars}} chars",actualInput:"Actual Input: {{chars}} chars",timeSpent:"Time Spent: {{seconds}} sec",accuracy:"Accuracy: {{percent}}%",correctChars:"Correct Chars: {{chars}} chars",percentile:"Exceeds about {{percent}}% of people",highestHere:"Highest here {{value}}",recentValue:"Recent {{value}} {{trend}}",defaultDescription:"Top: Speed score trend; Bottom: Accuracy trend. First improve accuracy, then gradually increase speed."},keyboard:{errorRate:"{{key}} error rate {{percent}}%",relativeScale:'Relative scale: Green 30%  Yellow 70%  Red >70% (relative to highest error key; based on "recent cumulative" error rate)',absoluteScale:'Green {{low}}%  Yellow {{mid}}%  Red >{{mid}}% (% is the "recent cumulative" error rate for that key)'}}},"zh-TW":{translation:{nav:{home:"",practice:"",test:"",result:"",leaderboard:"",profile:"",garden:"",subtitle:""},meta:{result:"",homeDescription:"//",practiceDescription:"",testDescription:"",resultDescription:"",leaderboardDescription:"//",profileDescription:"",gardenDescription:""},auth:{signIn:" Google ",signOut:"",pleaseSignIn:" Google ",privacyNote:""},layout:{epExplanation:"base(/2)(0.5+0.5) 10030%  10  +1 30 50%  +1{{estMinLeft}}",loginSuggestion:"Sign in with Google",dailyReminder:"",todayProgress:"",estimatedMinutes:" {{minutes}} ",remaining:""},tips:{avgAdj:"30",totalChars:"30",meVsSite:"30"},dev:{stageOverview:"",stage:"",savedToFirestore:" Firestore"},error:{loadingError:"",errorOccurred:"",goBack:"",goHome:""},questionBank:{title:"",subtitle:"",loading:"...",recommended:"",gradeRange:"",supportedLanguages:"",totalQuestions:"",noRecommendation:"",children:{name:"",description:""},bible:{name:"",description:""}},home:{title:"TypeSprout  ",heroTitle:"",heroSubtitle:"",ctaPractice:"",ctaTest:"",privacyNote:"",aboutTitle:" TypeSprout",aboutContent:`Yves.CTypesproutRobloxChatGPT/AI

16AIAPIAI

Typesprout    55

 ChatGPT/AI  GitHub 

GitHub: https://github.com/yveschen001/typesprout-pubic/issues`,cards:{players:"",avgAdj:"30 ",totalChars:"30 ",meVsSite:" vs 30 "},googleUsersCount:"Google ",googleUsersTooltip:" Google ",tabs:{visitors:"",leader:""},visitorsDesc:"",leaderEmpty:"",leaderViewFull:"",aboutBody:"TypeSprout  16 zhTW / zhCN / enUS"},test:{title:"",questionCount:"",difficulty:"",difficultyHard:"",difficultyMedium:"",difficultyEasy:"",allowBackspace:"",capsLock:"",loadingQuestions:"",promptStart:" Start ",shortcuts:"Space /  R   F   Enter ",shortcutsDescription:"/  R  F",questionText:"",metricsTip:"",chartDescription:" 90% ",insightsSummary:"",inputPrompt:"",progress:" {{current}} / {{total}}",outOfFocus:"",submitQuestion:"Enter",submitAndReview:"",accuracyLabel:"{{accuracy}}%",adjWpmLabel:"{{adjWpm}}",finished:"",signInToSave:"",tryAgain:"",questionStats:" / ",questionPreview:" 24 ",timeSpent:"",timeLimit:"",mistakes:""},profile:{title:"",googleAccount:"Google ",xp:"XP",points:"Points",fruits:"Fruits",pointsDetail:"",history:"",view:"",xpTooltip:"",pointsTooltip:"",fruitsTooltip:"",classCode:"",classCodeTooltip:"350  / 5  5 ",classCodePlaceholder:"",chartDescription:"",error:"",confirmDelete:"",noClasses:"",role:"",teacher:"",student:"",create:"",join:"",myClasses:"",joinedClasses:"",language:"",save:"",logout:"",analysis:"",nickname:"",country:"/",gender:"",birthday:"YYYY-MM",male:"",female:"",other:"",copy:"",delete:"",remove:"",copySuccess:"",copyFailed:"",youOwnThis:"",noUser:"",onlyTeacherCanCreate:"",roleCheckError:"",invalidCodeFormat:" 350  /",codeAlreadyTaken:"",maxClassesReached:"",maxJoinedClasses:"",classCreatedAndJoined:"",joinError:"",classNotFound:"",alreadyJoined:"",joinSuccess:"",createError:"{{error}}"},result:{accuracyTooltip:" =   ",scoreTooltip:" = WPM/CPM ",chartDescription:"",summary:"",timeSpent:"{{time}}",accuracy:"{{accuracy}}%",adjWpm:"{{adjWpm}}",vsSiteAverage:"{{adjWpm}} / {{siteAvg}}{{percentile}}",tryAgain:"",showInsights:"",seconds:"{{count}}",minutes:"{{count}}",minutesSeconds:"{{minutes}}{{seconds}}",hours:"{{count}}",hoursMinutes:"{{hours}}{{minutes}}",hideInsights:"",totalChars:"{{chars}} ",correctChars:"{{chars}} "},garden:{myTree:"",history:"",howToLevelUp:"",levelUpRule1:"",levelUpRule2:" 5 5",levelUpRule3:"",levelUpSuggestion:" {{needStage}} {{moreMin}} ",recentActivity:" 5 ",activeDays:"{{activeDays}} / {{total}}",recalculateActivity:"",recalculateActivityTooltip:" 5 ",growthChartTitle:"",growthChartSubtitle:"",stage:" {{stage}}",charsUnit:"",maxStage:" 5",stage1Desc:"",stage2Desc:"",stage3Desc:"",stage4Desc:"",stage5Desc:"",todaySummary:"",pointsExplanation:" 100530%+1",historyTitle:"",historyRule1:"  ",historyRule2:"",recentLogs:"",noData:"",noLogs:""},leaderboard:{signInHint:"",sortHint:" Alt+/ ",classCodePlaceholder:"",tooltip:" &#10; &#10; &#10; &#10; 1&#10;&#10; &#10;  =     &#10; &#10; &#10;&#10; ",loading:"...",loadingHint:"",loadError:"",reload:"",today:"",yesterday:"",lastWeek:"",lastMonth:"",allGrades:"",grade:"{{grade}}",stats:"{{chars}}  {{accuracy}}%",noData:""},terms:{title:"TypeSprout ",titleSuffix:"",lastUpdated:"2025921",section1:{title:"1. ",content1:" TypeSprout",content2:""},section2:{title:"2. ",subtitle1:"",content1:"",subtitle2:"",content2:"",listItem1:"AI  AI  ChatGPT",listItem2:" API.Bible  AI ",content3:""},section3:{title:"3. ",subtitle1:"",content1:"",subtitle2:"",content2:""},section4:{title:"4. ",subtitle1:"",content1:"",subtitle2:"",content2:""},section5:{title:"5. ",subtitle1:"",content1:"",subtitle2:"",content2:"",subtitle3:"",content3:""},section6:{title:"6. ",content:""},section7:{title:"7. ",content1:" GitHub Issues https://github.com/yveschen001/typesprout-pubic/issues",warning:""},footer:" 2025 TypeSprout. "},privacy:{title:"TypeSprout ",titleSuffix:"",effectiveDate:"2025921",introduction:" TypeSprout",notice:"",section1:{title:"1. ",principle:"",googleAuth:{title:"Google ",content:" Google  Google ID Google "},gameData:{title:"",content:" (WPM)ID"},voluntaryInfo:{title:" ()",content:""},technicalData:{title:"",googleAnalytics:"Google Analytics IP ",googleAdsense:"Google AdSense () Google AdSense Google  Cookies ( DoubleClick Cookie) "}},section2:{title:"2. ",coreFunction:"ID",experienceOptimization:"",statisticalAnalysis:"",serviceMaintenance:" Google Analytics "},section3:{title:"3. ",storageLocation:" GitHub Google Firebase ",crossBorderTransfer:"GitHub  Google Firebase ",dataRetention:""},section4:{title:"4.  Cookies ",functionalCookies:" Cookies Cookies ",advertisingCookies:" Cookies Google AdSenseGoogle  Cookies  Google  (https://adssettings.google.com/) "},section5:{title:"5. ",contactChannel:" GitHub Issues ",githubLink:"https://github.com/yveschen001/typesprout-pubic/issues",importantReminder:"GitHub Issues  Issue  TypeSprout  (Username)  Issue ",responseTime:""}},admin:{title:"",description:"",bulkTranslationTool:"",usageInstructions:" ",usageDescription:"",sourceLanguage:"",targetLanguage:"",execute:""},ui:{loading:"...",start:"",string089:"",string090:"",string091:"",string092:"",string093:"",string094:" Google ",gotIt:"",later:"",string095:"",string096:"",string097:"",string154:"",string155:"",string156:"1. ",string157:"",string158:"",string200:"Sign in with Google",string202:"",closeHint:""},charts:{speedChartAriaLabel:"",speedChartTitle:"",speedChartTooltip:"",accuracyChartAriaLabel:"",accuracyChartTitle:"",accuracyChartTooltip:"",recordNumber:" {{number}} ",speedScore:"{{score}}",totalQuestionChars:"{{chars}} ",actualInput:"{{chars}} ",timeSpent:"{{seconds}} ",accuracy:"{{percent}}%",correctChars:"{{chars}} ",percentile:" {{percent}}% ",highestHere:" {{value}}",recentValue:" {{value}} {{trend}}",defaultDescription:""},keyboard:{errorRate:"{{key}}  {{percent}}%",relativeScale:" 30%   70%   70%",absoluteScale:" {{low}}%   {{mid}}%   {{mid}}%% "}}},"zh-CN":{translation:{nav:{home:"",practice:"",test:"",result:"",leaderboard:"",profile:"",garden:"",subtitle:""},meta:{result:"",homeDescription:"//",practiceDescription:"",testDescription:"",resultDescription:"",leaderboardDescription:"//",profileDescription:"",gardenDescription:""},auth:{signIn:" Google ",signOut:"",pleaseSignIn:" Google ",privacyNote:""},layout:{epExplanation:"base(/2)(0.5+0.5) 10030%  10  +1 30 50%  +1{{estMinLeft}}",loginSuggestion:"Sign in with Google",dailyReminder:"",todayProgress:"",estimatedMinutes:" {{minutes}} ",remaining:""},tips:{avgAdj:"30",totalChars:"30",meVsSite:"30"},dev:{stageOverview:"",stage:"",savedToFirestore:" Firestore"},error:{loadingError:"",errorOccurred:"",goBack:"",goHome:""},questionBank:{title:"",subtitle:"",loading:"...",recommended:"",gradeRange:"",supportedLanguages:"",totalQuestions:"",noRecommendation:"",children:{name:"",description:""},bible:{name:"",description:""}},home:{title:"TypeSprout  ",heroTitle:"",heroSubtitle:"",ctaPractice:"",ctaTest:"",privacyNote:"",aboutTitle:" TypeSprout",aboutContent:`Yves.CTypesproutRobloxChatGPT/AI

16AIAPIAI

Typesprout    55

 ChatGPT/AI  GitHub 

GitHub: https://github.com/yveschen001/typesprout-pubic/issues`,cards:{players:"",avgAdj:"30 ",totalChars:"30 ",meVsSite:" vs 30 "},googleUsersCount:"Google ",googleUsersTooltip:" Google ",tabs:{visitors:"",leader:""},visitorsDesc:"",leaderEmpty:"",leaderViewFull:"",aboutBody:"TypeSprout  16  zhTW / zhCN / enUS"},test:{title:"",questionCount:"",difficulty:"",difficultyHard:"",difficultyMedium:"",difficultyEasy:"",allowBackspace:"",capsLock:"",loadingQuestions:"",promptStart:" Start ",shortcuts:"Space /  R   F   Enter ",shortcutsDescription:"/  R  F",questionText:"",metricsTip:"",chartDescription:" 90% ",insightsSummary:"Insights",inputPrompt:"",progress:" {{current}} / {{total}}",outOfFocus:"",submitQuestion:"Enter",submitAndReview:"",accuracyLabel:"{{accuracy}}%",adjWpmLabel:"{{adjWpm}}",finished:"",signInToSave:"",tryAgain:"",questionStats:" / ",questionPreview:" 24 ",timeSpent:"",timeLimit:"",mistakes:""},profile:{title:"",googleAccount:"Google ",xp:"XP",points:"Points",fruits:"Fruits",pointsDetail:"",history:"",view:"",xpTooltip:"",pointsTooltip:"",fruitsTooltip:"",classCode:"",classCodeTooltip:"350  / 5  5 ",classCodePlaceholder:"",chartDescription:"",error:"",confirmDelete:"",noClasses:"",role:"",teacher:"",student:"",create:"",join:"",myClasses:"",joinedClasses:"",language:"",save:"",logout:"",analysis:"",nickname:"",country:"/",gender:"",birthday:"YYYY-MM",male:"",female:"",other:"",copy:"",delete:"",remove:"",copySuccess:"",copyFailed:"",youOwnThis:"",noUser:"",onlyTeacherCanCreate:"",roleCheckError:"",invalidCodeFormat:" 350  /",codeAlreadyTaken:"",maxClassesReached:"",maxJoinedClasses:"",classCreatedAndJoined:"",joinError:"",classNotFound:"",alreadyJoined:"",joinSuccess:"",createError:"{{error}}"},result:{accuracyTooltip:" =   ",scoreTooltip:" = WPM/CPM ",chartDescription:"",summary:"",timeSpent:"{{time}}",accuracy:"{{accuracy}}%",adjWpm:"{{adjWpm}}",vsSiteAverage:"{{adjWpm}} / {{siteAvg}}{{percentile}}",tryAgain:"",showInsights:"",seconds:"{{count}}",minutes:"{{count}}",minutesSeconds:"{{minutes}}{{seconds}}",hours:"{{count}}",hoursMinutes:"{{hours}}{{minutes}}",hideInsights:"",totalChars:"{{chars}} ",correctChars:"{{chars}} "},garden:{myTree:"",history:"",howToLevelUp:"",levelUpRule1:"",levelUpRule2:" 5 5",levelUpRule3:"",levelUpSuggestion:" {{needStage}} {{moreMin}} ",recentActivity:" 5 ",activeDays:"{{activeDays}} / {{total}}",recalculateActivity:"",recalculateActivityTooltip:" 5 ",growthChartTitle:"",growthChartSubtitle:"",stage:" {{stage}}",charsUnit:"",maxStage:" 5",stage1Desc:"",stage2Desc:"",stage3Desc:"",stage4Desc:"",stage5Desc:"",todaySummary:"",pointsExplanation:" 100530%+1",historyTitle:"",historyRule1:"  ",historyRule2:"",recentLogs:"",noData:"",noLogs:""},leaderboard:{signInHint:"",sortHint:" Alt+/ ",classCodePlaceholder:"",tooltip:" &#10; &#10; &#10; &#10; 1&#10;&#10; &#10;  =     &#10; &#10; &#10;&#10; ",loading:"...",loadingHint:"",loadError:"",reload:"",today:"",yesterday:"",lastWeek:"",lastMonth:"",allGrades:"",grade:"{{grade}}",stats:"{{chars}}  {{accuracy}}%",noData:""},terms:{title:"TypeSprout ",titleSuffix:"",lastUpdated:"2025921",section1:{title:"1. ",content1:" TypeSprout",content2:""},section2:{title:"2. ",subtitle1:"",content1:"",subtitle2:"",content2:"",listItem1:"AI  AI  ChatGPT",listItem2:" API.Bible  AI ",content3:""},section3:{title:"3. ",subtitle1:"",content1:"",subtitle2:"",content2:""},section4:{title:"4. ",subtitle1:"",content1:"",subtitle2:"",content2:""},section5:{title:"5. ",subtitle1:"",content1:"",subtitle2:"",content2:"",subtitle3:"",content3:""},section6:{title:"6. ",content:""},section7:{title:"7. ",content1:" GitHub Issues https://github.com/yveschen001/typesprout-pubic/issues",warning:""},footer:" 2025 TypeSprout. "},privacy:{title:"TypeSprout ",titleSuffix:"",effectiveDate:"2025921",introduction:" TypeSprout",notice:"",section1:{title:"1. ",principle:"",googleAuth:{title:"Google ",content:" Google  Google ID Google "},gameData:{title:"",content:" (WPM)ID"},voluntaryInfo:{title:" ()",content:""},technicalData:{title:"",googleAnalytics:"Google Analytics IP ",googleAdsense:"Google AdSense () Google AdSense Google  Cookies ( DoubleClick Cookie) "}},section2:{title:"2. ",coreFunction:"ID",experienceOptimization:"",statisticalAnalysis:"",serviceMaintenance:" Google Analytics "},section3:{title:"3. ",storageLocation:" GitHub Google Firebase ",crossBorderTransfer:"GitHub  Google Firebase ",dataRetention:""},section4:{title:"4.  Cookies ",functionalCookies:" Cookies Cookies ",advertisingCookies:" Cookies Google AdSenseGoogle  Cookies  Google  (https://adssettings.google.com/) "},section5:{title:"5. ",contactChannel:" GitHub Issues ",githubLink:"https://github.com/yveschen001/typesprout-pubic/issues",importantReminder:"GitHub Issues  Issue  TypeSprout  (Username)  Issue ",responseTime:""}},admin:{title:"",description:"",bulkTranslationTool:"",usageInstructions:" ",usageDescription:"",sourceLanguage:"",targetLanguage:"",execute:""},ui:{loading:"...",start:"",string089:"",string090:"",string091:"",string092:"",string093:"",string094:" Google ",gotIt:"",later:"",string095:"",string096:"",string097:"",string154:"",string155:"",string156:"1. ",string157:"",string158:"",string200:"Sign in with Google",string202:"",closeHint:""},charts:{speedChartAriaLabel:"",speedChartTitle:"",speedChartTooltip:"",accuracyChartAriaLabel:"",accuracyChartTitle:"",accuracyChartTooltip:"",recordNumber:" {{number}} ",speedScore:"{{score}}",totalQuestionChars:"{{chars}} ",actualInput:"{{chars}} ",timeSpent:"{{seconds}} ",accuracy:"{{percent}}%",correctChars:"{{chars}} ",percentile:" {{percent}}% ",highestHere:" {{value}}",recentValue:" {{value}} {{trend}}",defaultDescription:""},keyboard:{errorRate:"{{key}}  {{percent}}%",relativeScale:" 30%   70%   70%",absoluteScale:" {{low}}%   {{mid}}%   {{mid}}%% "}}}};function L4(n=Oi){if(!St.isInitialized)St.use(xC).init({resources:N4,lng:(()=>{if(n&&So.includes(n))return n;try{const e=localStorage.getItem("typesprout_lang");if(e&&So.includes(e))return e}catch{}try{const e=navigator.language||"en-US",t=String(e||"").slice(0,2);return{zh:"zh-TW",en:"en-US",ja:"ja-JP",ko:"ko-KR",es:"es-MX",pt:"pt-BR",fr:"fr-FR",de:"de-DE",it:"it-IT",id:"id-ID",vi:"vi-VN",th:"th-TH",ru:"ru-RU",ar:"ar-SA",fil:"fil-PH",nl:"nl-NL",pl:"pl-PL",sv:"sv-SE",nb:"nb-NO",da:"da-DK",fi:"fi-FI",ro:"ro-RO",el:"el-GR",cs:"cs-CZ",hu:"hu-HU",uk:"uk-UA",ms:"ms-MY",hi:"hi-IN",bn:"bn-BD",he:"he-IL",fa:"fa-IR",ur:"ur-PK",tr:"tr-TR"}[t]||Oi}catch{return n}})(),fallbackLng:"en-US",load:"currentOnly",interpolation:{escapeValue:!1},supportedLngs:["en-US","zh-TW","zh-CN","es-MX","pt-BR","ja-JP","ko-KR","fr-FR","de-DE","it-IT","id-ID","vi-VN","th-TH","ru-RU","ar-SA","fil-PH","nl-NL","pl-PL","sv-SE","nb-NO","da-DK","fi-FI","ro-RO","el-GR","cs-CZ","hu-HU","uk-UA","ms-MY","hi-IN","bn-BD","he-IL","fa-IR","ur-PK","tr-TR"]}),(async()=>{try{const e=await RT(n);e&&St.addResourceBundle(e.lang,"translation",e.dict,!0,!0)}catch{}})();else try{const t=(()=>{try{return localStorage.getItem("typesprout_lang")||""}catch{return""}})()||n;St.changeLanguage(t)}catch{}return St}const kT=async n=>{try{console.log(`[i18n] Loading full translations for ${n}`);const t=(await RT(n))?.dict;return t?(St.addResourceBundle(n,"translation",t,!0,!0),console.log(`[i18n] Successfully loaded ${Object.keys(t).length} translations for ${n}`),!0):(console.log(`[i18n] No dynamic translations found for ${n}, using base translations`),!1)}catch(e){return console.error(`[i18n] Error loading translations for ${n}:`,e),!1}},M4=async n=>(await Promise.allSettled(n.map(t=>kT(t)))).map((t,r)=>({lang:n[r],success:t.status==="fulfilled"&&t.value===!0}));async function O4(n){try{console.log("[i18n] Initializing dynamic i18n system with language:",n),St.isInitialized?n&&St.language!==n&&await St.changeLanguage(n):await L4(n);const e=St.language;console.log(`[i18n] Loading full translations for current language: ${e}`),await kT(e);const r=["zh-TW","zh-CN","en-US"].filter(s=>s!==e);return r.length>0&&(console.log("[i18n] Preloading primary language translations"),setTimeout(()=>{M4(r)},100)),console.log("[i18n] Dynamic i18n system initialized successfully"),!0}catch(e){return console.error("[i18n] Error initializing dynamic i18n system:",e),!1}}const Qc=({children:n})=>{const e=location.pathname.split("/")[1];if(!So.includes(e)){let t=Oi;try{const r=localStorage.getItem("typesprout_lang");if(r&&So.includes(r))t=r;else{const s=navigator.language||Oi,a=String(s||"").slice(0,2);t={zh:"zh-TW",en:"en-US",ja:"ja-JP",ko:"ko-KR",es:"es-MX",pt:"pt-BR",fr:"fr-FR",de:"de-DE",it:"it-IT",id:"id-ID",vi:"vi-VN",th:"th-TH",ru:"ru-RU",ar:"ar-SA",fil:"fil-PH",nl:"nl-NL",pl:"pl-PL",sv:"sv-SE",nb:"nb-NO",da:"da-DK",fi:"fi-FI",ro:"ro-RO",el:"el-GR",cs:"cs-CZ",hu:"hu-HU",uk:"uk-UA",ms:"ms-MY",hi:"hi-IN",bn:"bn-BD",he:"he-IL",fa:"fa-IR",ur:"ur-PK",tr:"tr-TR"}[a]||Oi}}catch(r){console.warn("Language detection failed:",r)}return Q.jsx(pd,{to:`/${t}/`,replace:!0})}try{const t=document.documentElement,r=e||Oi;t.setAttribute("lang",r),t.setAttribute("dir",gC(r)?"rtl":"ltr")}catch{}return Q.jsx(Q.Fragment,{children:n})},sw=location.pathname.split("/")[1],V4=So.includes(sw)?sw:Oi;O4(V4).then(()=>{console.log("[main] Dynamic i18n initialization completed");const n=ov([{path:"/",element:Q.jsx(Qc,{children:Q.jsx(pd,{to:`/${(navigator.language||Oi).startsWith("zh")?"zh-TW":"en-US"}/`,replace:!0})})},{path:"/:lang/*",element:Q.jsx(Qc,{children:Q.jsx(G_,{})})}]);A0.createRoot(document.getElementById("root")).render(Q.jsx(O.StrictMode,{children:Q.jsx(mp,{children:Q.jsx(av,{router:n})})}))}).catch(n=>{console.error("[main] Dynamic i18n initialization failed:",n);const e=ov([{path:"/",element:Q.jsx(Qc,{children:Q.jsx(pd,{to:`/${(navigator.language||Oi).startsWith("zh")?"zh-TW":"en-US"}/`,replace:!0})})},{path:"/:lang/*",element:Q.jsx(Qc,{children:Q.jsx(G_,{})})}]);A0.createRoot(document.getElementById("root")).render(Q.jsx(O.StrictMode,{children:Q.jsx(mp,{children:Q.jsx(av,{router:e})})}))});export{li as $,Y4 as A,Cp as B,Q4 as C,H4 as D,So as E,J4 as F,gC as G,b5 as H,W4 as I,z_ as J,Fd as K,Mi as L,G4 as M,F4 as N,fT as O,Kn as P,Ms as Q,ks as R,B_ as S,o4 as T,At as U,Os as V,Ya as W,ku as X,Lr as Y,fe as Z,Vr as _,hi as a,Gi as a0,ug as a1,lg as a2,cd as a3,uh as a4,dg as a5,cg as a6,To as a7,wa as a8,P5 as a9,ui as aa,x5 as ab,Cm as ac,an as ad,nu as ae,be as af,vA as ag,on as ah,gn as ai,ba as aj,xA as ak,p5 as al,Qa as am,Au as an,m5 as ao,K4 as ap,X4 as aq,im as b,hg as c,ni as d,Qn as e,D_ as f,Va as g,yt as h,C5 as i,Q as j,Fa as k,q4 as l,ql as m,B4 as n,F_ as o,s4 as p,V_ as q,O as r,V5 as s,fa as t,pu as u,yT as v,Ll as w,j4 as x,rm as y,R5 as z};
